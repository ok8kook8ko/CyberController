globalstrigger gg_trg_sand= nullinteger o=0integer V=0integer E=0boolean X=falseboolean O=falsereal R=0real I=0real N=0integer B=0real C=0real D=0real F=0real G=0boolean H=falseboolean K=falsestring array Linteger array Munit array Preal array qboolean Q=FALSEboolean S=FALSEboolean T=FALSEboolean U=FALSEstring array Wunit Y=nulltrigger Z=nullunit vv=nullinteger ev=0integer xv=0group ov=CreateGroup()group rv=CreateGroup()boolean iv=falseboolean av=falseboolean nv=falseplayer Vv=nullinteger array Evinteger array Xvinteger array Ovinteger array Rvreal Iv=0boolean array Avunit array Nvinteger array bvinteger array Bvinteger array cvinteger array Cvleaderboard dv=nullunit array Dvinteger array fvinteger array Fvstring gv="失落遗迹"timer Gv=nullgroup hv=nullinteger Hv=0rect array jvrect array Jvrect array kvrect array Kvinteger Lv=0integer array mvtimer Mv=nulltimer pv=nullinteger Pv=0boolean qv=falsegroup Qv=nullplayer sv=nullinteger Sv=0boolean Tv=falseboolean Uv=falsereal wv=0integer array Wvunit yv=nullstring array Yvstring array zvboolean array Zvinteger array vereal array eereal array xereal array oereal array restring array ieinteger array aeinteger array neinteger array Vequest array Eeboolean Xe=falseinteger array Oeplayer Re=nullinteger Ie=0real array Aehashtable Ne=nullboolean be=falseboolean Be=falsereal Ce=0integer de=0integer array Deunit fe=nullboolean array Feinteger array gestring Ge="attack"boolean array heboolean He=falsemultiboard je=nullunit array Jestring array kequest le=nullinteger Le=0boolean me=falsetrigger array Meboolean array peboolean Pe=falseinteger qe=0integer Qe=0integer se=0boolean Se=falseboolean te=falseboolean Te=falseunit ue=nullboolean Ue=falseboolean We=falseinteger ye=0integer array Yegamecache ze=nullgroup Ze=nullboolean vx=falseboolean xx=falserect ox=nullrect rx=nullrect ix=nullrect ax=nullrect Vx=nullrect Ex=nullrect Xx=nullrect Ox=nullrect Rx=nullrect Ix=nullrect Ax=nullrect Nx=nullrect bx=nullrect Bx=nullrect cx=nullrect Cx=nullrect Dx=nullrect Fx=nullrect gx=nullrect Gx=nullrect hx=nullrect Hx=nullrect jx=nullrect Jx=nullrect kx=nullrect Kx=nullrect lx=nullrect Lx=nullrect mx=nullrect Mx=nullrect px=nullrect Px=nullrect qx=nullrect Qx=nullrect Sx=nullrect tx=nullrect Tx=nullrect ux=nullrect Ux=nullrect wx=nullrect Wx=nullrect yx=nullrect Yx=nullrect Zx=nullrect vo=nullrect eo=nullrect xo=nullrect oo=nullrect ro=nullrect io=nullrect ao=nullrect no=nullrect Vo=nullrect Eo=nullrect Xo=nullrect Oo=nullrect Ro=nullrect Io=nullrect Ao=nullrect No=nullrect bo=nullrect Bo=nullrect co=nullrect Co=nullrect do=nullrect Do=nullrect fo=nullrect Fo=nullrect go=nullrect Go=nullrect ho=nullrect Ho=nullrect jo=nullrect Jo=nullrect ko=nullrect Ko=nullrect lo=nullrect Lo=nullrect mo=nullrect Mo=nullrect po=nullrect Po=nullrect qo=nullrect Qo=nullrect so=nullrect So=nullrect to=nullrect To=nullrect uo=nullrect Uo=nullrect wo=nullrect Wo=nullrect yo=nullrect Yo=nullrect zo=nullrect Zo=nullrect vr=nullrect er=nullsound xr=nullsound rr=nullsound ir=nullsound ar=nullsound nr=nullsound Vr=nullsound Er=nullsound Xr=nullsound Rr=nullsound Ir=nullsound Ar=nullsound Nr=nullsound br=nullstring Br="Sound\\Music\\mp3Music\\Human1.mp3"sound cr=nullsound Cr=nullsound dr=nullsound Dr=nullsound fr=nullsound Fr=nullsound gr=nullsound Gr=nulltrigger hr=nulltrigger Hr=nulltrigger jr=nulltrigger Jr=nulltrigger kr=nulltrigger Kr=nulltrigger lr=nulltrigger Lr=nulltrigger mr=nulltrigger Mr=nulltrigger pr=nulltrigger Pr=nulltrigger qr=nulltrigger Qr=nulltrigger sr=nulltrigger Sr=nulltrigger Tr=nulltrigger ur=nulltrigger Ur=nulltrigger wr=nulltrigger Wr=nulltrigger yr=nulltrigger Yr=nulltrigger zr=nulltrigger Zr=nulltrigger vi=nulltrigger ei=nulltrigger xi=nulltrigger oi=nulltrigger ri=nulltrigger ii=nulltrigger ai=nulltrigger ni=nulltrigger Vi=nulltrigger Ei=nulltrigger Xi=nulltrigger Oi=nulltrigger Ri=nulltrigger Ii=nulltrigger Ai=nulltrigger Ni=nulltrigger bi=nulltrigger Bi=nulltrigger ci=nulltrigger Ci=nulltrigger di=nulltrigger Di=nulltrigger fi=nulltrigger Fi=nulltrigger gi=nulltrigger Gi=nulltrigger hi=nulltrigger Hi=nulltrigger ji=nulltrigger Ji=nulltrigger ki=nulltrigger Ki=nulltrigger li=nulltrigger Li=nulltrigger mi=nulltrigger Mi=nulltrigger Pi=nulltrigger qi=nulltrigger Qi=nulltrigger si=nulltrigger Si=nulltrigger Ti=nulltrigger ui=nulltrigger Ui=nulltrigger wi=nulltrigger Wi=nulltrigger yi=nulltrigger Yi=nulltrigger zi=nulltrigger Zi=nulltrigger va=nulltrigger ea=nulltrigger xa=nulltrigger oa=nulltrigger ra=nulltrigger ia=nulltrigger aa=nulltrigger na=nulltrigger Va=nulltrigger Ea=nulltrigger Xa=nulltrigger Oa=nulltrigger Ra=nulltrigger Ia=nulltrigger Aa=nulltrigger Na=nulltrigger ba=nulltrigger Ba=nulltrigger ca=nulltrigger Ca=nulltrigger da=nulltrigger Da=nulltrigger fa=nulltrigger Fa=nulltrigger ga=nulltrigger Ga=nulltrigger ha=nulltrigger Ha=nulltrigger ja=nulltrigger Ja=nulltrigger ka=nulltrigger Ka=nulltrigger La=nulltrigger ma=nulltrigger Ma=nulltrigger pa=nulltrigger Pa=nulltrigger qa=nulltrigger Qa=nulltrigger sa=nulltrigger Sa=nulltrigger ta=nulltrigger Ta=nulltrigger Ua=nulltrigger wa=nulltrigger Wa=nulltrigger ya=nulltrigger Ya=nulltrigger za=nulltrigger Za=nulltrigger vn=nulltrigger en=nulltrigger xn=nulltrigger on=nulltrigger rn=nulltrigger in=nulltrigger an=nulltrigger nn=nulltrigger Vn=nulltrigger En=nulltrigger Xn=nulltrigger On=nulltrigger Rn=nulltrigger In=nulltrigger An=nulltrigger Nn=nulltrigger bn=nulltrigger Bn=nulltrigger cn=nulltrigger Cn=nulltrigger dn=nulltrigger Dn=nulltrigger fn=nulltrigger Fn=nulltrigger gn=nulltrigger Gn=nulltrigger hn=nulltrigger Hn=nulltrigger jn=nulltrigger Jn=nulltrigger kn=nulltrigger Kn=nulltrigger ln=nulltrigger Ln=nulltrigger mn=nulltrigger Mn=nulltrigger pn=nulltrigger Pn=nulltrigger qn=nulltrigger Qn=nulltrigger sn=nulltrigger Sn=nulltrigger tn=nulltrigger Tn=nulltrigger un=nulltrigger Un=nulltrigger wn=nulltrigger Wn=nulltrigger yn=nulltrigger Yn=nulltrigger zn=nulltrigger Zn=nulltrigger vV=nulltrigger eV=nulltrigger xV=nulltrigger oV=nulltrigger rV=nulltrigger iV=nulltrigger aV=nulltrigger nV=nulltrigger VV=nulltrigger EV=nulltrigger XV=nulltrigger OV=nulltrigger RV=nulltrigger IV=nulltrigger AV=nulltrigger NV=nulltrigger bV=nulltrigger BV=nulltrigger cV=nulltrigger CV=nulltrigger dV=nulltrigger DV=nulltrigger fV=nulltrigger FV=nulltrigger gV=nulltrigger GV=nulltrigger hV=nulltrigger HV=nulltrigger jV=nulltrigger JV=nulltrigger kV=nulltrigger KV=nulltrigger lV=nulltrigger LV=nulltrigger mV=nulltrigger MV=nulltrigger pV=nulltrigger PV=nulltrigger qV=nulltrigger QV=nulltrigger sV=nulltrigger SV=nulltrigger tV=nulltrigger TV=nulltrigger uV=nulltrigger UV=nulltrigger wV=nulltrigger WV=nulltrigger yV=nulltrigger YV=nulltrigger zV=nulltrigger ZV=nulltrigger vE=nulltrigger eE=nulltrigger xE=nulltrigger oE=nulltrigger rE=nulltrigger iE=nulltrigger aE=nulltrigger nE=nulltrigger VE=nulltrigger EE=nulltrigger XE=nulltrigger OE=nulltrigger RE=nulltrigger IE=nulltrigger AE=nulltrigger NE=nulltrigger bE=nulltrigger BE=nulltrigger cE=nulltrigger CE=nulltrigger dE=nulltrigger DE=nulltrigger fE=nulltrigger FE=nulltrigger gE=nulltrigger GE=nulltrigger hE=nulltrigger HE=nulltrigger jE=nulltrigger JE=nulltrigger kE=nulltrigger KE=nulltrigger lE=nulltrigger LE=nulltrigger mE=nulltrigger ME=nulltrigger pE=nulltrigger PE=nulltrigger qE=nulltrigger QE=nulltrigger sE=nulltrigger SE=nulltrigger tE=nulltrigger TE=nulltrigger uE=nulltrigger UE=nulltrigger wE=nulltrigger WE=nulltrigger yE=nulltrigger YE=nulltrigger zE=nulltrigger ZE=nulltrigger vX=nulltrigger eX=nulltrigger xX=nulltrigger oX=nulltrigger rX=nulltrigger iX=nulltrigger aX=nulltrigger nX=nulltrigger VX=nulltrigger EX=nulltrigger XX=nulltrigger OX=nulltrigger RX=nulltrigger IX=nulltrigger AX=nulltrigger NX=nulltrigger bX=nulltrigger BX=nulltrigger cX=nulltrigger CX=nulltrigger dX=nulltrigger DX=nulltrigger fX=nulltrigger FX=nulltrigger gX=nulltrigger GX=nulltrigger hX=nulltrigger HX=nulltrigger jX=nulltrigger JX=nulltrigger kX=nulltrigger KX=nulltrigger lX=nulltrigger LX=nulltrigger mX=nulltrigger MX=nulltrigger pX=nulltrigger PX=nulltrigger qX=nulltrigger QX=nulltrigger sX=nulltrigger SX=nulltrigger tX=nulltrigger TX=nulltrigger uX=nulltrigger UX=nulltrigger wX=nulltrigger WX=nulltrigger yX=nulltrigger YX=nulltrigger zX=nulltrigger ZX=nulltrigger vO=nulltrigger eO=nulltrigger xO=nulltrigger oO=nulltrigger rO=nulltrigger iO=nulltrigger aO=nulltrigger nO=nulltrigger VO=nulltrigger EO=nulltrigger XO=nulltrigger OO=nulltrigger RO=nulltrigger IO=nulltrigger AO=nulltrigger NO=nulltrigger bO=nulltrigger BO=nulltrigger cO=nulltrigger CO=nulltrigger dO=nulltrigger DO=nulltrigger fO=nulltrigger FO=nulltrigger gO=nulltrigger GO=nulltrigger hO=nulltrigger HO=nulltrigger jO=nulltrigger JO=nulltrigger kO=nulltrigger KO=nulltrigger lO=nulltrigger LO=nulltrigger mO=nulltrigger MO=nulltrigger pO=nulltrigger PO=nulltrigger qO=nulltrigger QO=nulltrigger sO=nulltrigger SO=nulltrigger tO=nulltrigger TO=nulltrigger uO=nulltrigger UO=nulltrigger wO=nulltrigger WO=nulltrigger yO=nulltrigger YO=nulltrigger zO=nulltrigger ZO=nulltrigger vR=nulltrigger eR=nulltrigger xR=nulltrigger oR=nulltrigger rR=nulltrigger iR=nulltrigger aR=nulltrigger nR=nulltrigger VR=nulltrigger ER=nulltrigger XR=nulltrigger OR=nullunit RR=nullunit IR=nullunit AR=nullunit NR=nullunit bR=nullunit BR=nullunit cR=nullunit CR=nullunit iZZ=nullunit dR=nullunit DR=nullunit fR=nulldestructable FR=nullinteger gR=25integer GR=8integer hR=11integer HR=7integer jR=1integer JR=0integer kR=1integer KR=3integer lR=20integer LR=10integer mR=0integer MR=1679615-731234integer pR=1integer PR=2integer qR=3integer QR=4string array sRinteger SR=1integer tR=2integer TR=3integer uR=2string UR="|cff30e050 v1.06f"integer wR=39integer WR=45real yR=.2real YR=.4real zR=.65real ZR=.8integer hs=0gamecache array vIinteger eI=11integer xI=21string array oIstring array rIforce iIboolean aI=trueunit nI=nullunit VI=nullreal EI=0timer XItimerdialog OIunit RI=nullinteger II=5boolean AI=falseinteger NI=0timer bI=nullreal cI=.0real CI=.0group dI=nullforce DI=nullboolexpr fI=nullitem FI=nullendglobalsfunction gI takes real GI returns nothinglocal real hIlocal real st=TimerGetElapsed(bI)if st<=0 thenset bI=CreateTimer()call TimerStart(bI,0xF4240,false,null)endifif(GI>0)thenloopset hI=GI-TimerGetElapsed(bI)+stexitwhen hI<=0if(hI>bj_POLLED_WAIT_SKIP_THRESHOLD)thencall TriggerSleepAction(.1*hI)elsecall TriggerSleepAction(bj_POLLED_WAIT_INTERVAL)endifendloopendifendfunctionfunction HI takes string jI returns nothinglocal sound JI=CreateSound(jI,false,false,true,12700,12700,"")call StartSound(JI)call KillSoundWhenDone(JI)set JI=nullendfunctionfunction kI takes nothing returns booleanlocal destructable d=GetFilterDestructable()local real dx=GetDestructableX(d)-cIlocal real dy=GetDestructableY(d)-CIreturn(dx*dx+dy*dy<=bj_enumDestructableRadius)endfunctionfunction KI takes real lI,location LI,code mI returns nothinglocal rect rif(lI>=0)thenset cI=GetLocationX(LI)set CI=GetLocationY(LI)set bj_enumDestructableRadius=lI*lIset r=Rect(cI-bj_enumDestructableRadius,CI-bj_enumDestructableRadius,cI+bj_enumDestructableRadius,CI+bj_enumDestructableRadius)call EnumDestructablesInRect(r,filterEnumDestructablesInCircleBJ,mI)call RemoveRect(r)set r=nullendifendfunctionfunction MI takes rect r,boolexpr pI returns groupset dI=CreateGroup()call GroupEnumUnitsInRect(dI,r,pI)call DestroyBoolExpr(pI)return dIendfunctionfunction PI takes rect r returns groupset dI=CreateGroup()call GroupEnumUnitsInRect(dI,r,fI)return dIendfunctionfunction qI takes real lI,location QI,boolexpr pI returns groupset dI=CreateGroup()call GroupEnumUnitsInRangeOfLoc(dI,QI,lI,pI)return dIendfunctionfunction sI takes real lI,location QI returns groupset dI=CreateGroup()call GroupEnumUnitsInRangeOfLoc(dI,QI,lI,fI)return dIendfunctionfunction SI takes player tI returns forceset DI=CreateForce()call ForceAddPlayer(DI,tI)return DIendfunctionfunction TI takes boolexpr pI returns forceset DI=CreateForce()call ForceEnumPlayers(DI,pI)call DestroyBoolExpr(pI)return DIendfunctionfunction uI takes itemtype UI,integer wI returns nothinglocal group gset bj_stockPickedItemType=UIset bj_stockPickedItemLevel=wIset g=CreateGroup()call GroupEnumUnitsOfType(g,"marketplace",fI)call ForGroup(g,function UpdateEachStockBuildingEnum)call DestroyGroup(g)set g=nullendfunctionfunction WI takes nothing returns nothinglocal integer pickedItemIdlocal itemtype yIlocal integer YI=0local integer zI=0local integer wIset wI=1loopif(bj_stockAllowedPermanent[wI])thenset zI=zI+1if(GetRandomInt(1,zI)==1)thenset yI=ITEM_TYPE_PERMANENTset YI=wIendifendifif(bj_stockAllowedCharged[wI])thenset zI=zI+1if(GetRandomInt(1,zI)==1)thenset yI=ITEM_TYPE_CHARGEDset YI=wIendifendifif(bj_stockAllowedArtifact[wI])thenset zI=zI+1if(GetRandomInt(1,zI)==1)thenset yI=ITEM_TYPE_ARTIFACTset YI=wIendifendifset wI=wI+1exitwhen wI>10endloopif(zI==0)thenset yI=nullreturnendifcall uI(yI,YI)set yI=nullendfunctionfunction ZI takes nothing returns nothingcall WI()call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INTERVAL,true,function WI)endfunctionfunction eA takes nothing returns booleanreturn trueendfunctionfunction iA takes unit aA,integer nA returns itemif(nA==-1)thenreturn nullendifset FI=CreateItem(nA,GetUnitX(aA)+GetRandomReal(-32,32),GetUnitY(aA)+GetRandomReal(-32,32))call SetItemDropID(FI,GetUnitTypeId(aA))call UpdateStockAvailability(FI)return FIendfunctionfunction VA takes unit u returns booleanreturn IsUnitType(u,UNIT_TYPE_DEAD)or GetUnitState(u,UNIT_STATE_LIFE)<=0endfunctionfunction EA takes timer t returns nothingcall FlushChildHashtable(Ne,(StringHash(I2S(GetHandleId((t))))))call PauseTimer(t)call DestroyTimer(t)endfunctionfunction XA takes real t returns nothinglocal timer trif t>0 thenset tr=CreateTimer()call TimerStart(tr,t,false,null)loopexitwhen TimerGetRemaining(tr)<=0if TimerGetRemaining(tr)<=1 thencall TriggerSleepAction(.01)elsecall TriggerSleepAction(.5)endifendloopendifendfunctionfunction OA takes integer v returns stringlocal string array wzset wz[1]="I"set wz[2]="II"set wz[3]="III"set wz[4]="IV"set wz[5]="V"set wz[6]="VI"set wz[7]="VII"set wz[8]="VIII"set wz[9]="VIIII"set wz[10]="X"return wz[v]endfunctionfunction RA takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("u"))local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("tu"))local real x=GetUnitX(u)local real y=GetUnitY(u)local real x2=GetUnitX(tu)local real y2=GetUnitY(tu)local real f=bj_RADTODEG*Atan2(y2-y,x2-x)local real IA=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("speed"))local trigger AA=LoadTriggerHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Trg"))set x=x+IA*Cos(f*bj_DEGTORAD)set y=y+IA*Sin(f*bj_DEGTORAD)call SetUnitFacing(u,f)call SetUnitX(u,x)call SetUnitY(u,y)set x=x2-xset y=y2-yif SquareRoot(x*x+y*y)<=128 thencall PauseTimer(t)call DestroyTimer(t)if AA!=null thencall SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((AA))))),StringHash("u"),u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((AA))))),StringHash("tu"),tu)call TriggerExecute(AA)endifendifendfunctionfunction NA takes unit u,unit tu,real IA,trigger AA returns nothinglocal timer t=CreateTimer()call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("u"),u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("tu"),tu)if IA>64 thenset IA=64endifcall SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("speed"),IA)call SaveTriggerHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("trg"),AA)call TimerStart(t,.02,true,function RA)endfunctionfunction bA takes string s,real t returns nothingif Uv thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,t,"|cffffee00Debug|r:"+s)endifreturnendfunctionfunction BA takes player cA,player CA,string s,location p,real dA,real h,real v,real fd,integer r,integer g,integer b,real w returns nothinglocal texttag tset t=CreateTextTagLocBJ(s,p,h,dA,r,g,b,0)call SetTextTagLifespanBJ(t,w)call SetTextTagFadepointBJ(t,fd)call SetTextTagVelocityBJ(t,128,v)call SetTextTagPermanentBJ(t,false)if GetLocalPlayer()==cA or GetLocalPlayer()==CA thencall SetTextTagVisibility(t,true)elsecall SetTextTagVisibility(t,false)endifendfunctionfunction DA takes unit u,unit tu returns nothinglocal integer ilocal item itset i=0loopexitwhen i>5call UnitAddItem(tu,UnitItemInSlot(u,i))set i=i+1endloopendfunctionfunction GetAlivePlayerCount takes nothing returns integerlocal integer i=1local integer c=0local integer fA=hRloopexitwhen i>fAif(IsUnitType((Nv[i]),UNIT_TYPE_HERO))and not(VA(Nv[i]))thenset c=c+1endifset i=i+1endloopreturn cendfunctionfunction FA takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((tr))))),StringHash("u"))local integer gA=LoadInteger(Ne,(StringHash(I2S(GetHandleId((tr))))),StringHash("buff"))local real t=LoadReal(Ne,(StringHash(I2S(GetHandleId((tr))))),StringHash("time"))local real nt=LoadReal(Ne,(StringHash(I2S(GetHandleId((tr))))),StringHash("Ntimer"))local boolean GA=LoadBoolean(Ne,(StringHash(I2S(GetHandleId((tr))))),StringHash("Die"))if(IsUnitDeadBJ(u)or IsUnitType(u,UNIT_TYPE_DEAD))and GA thencall FlushChildHashtable(Ne,(StringHash(I2S(GetHandleId((tr))))))call UnitRemoveAbility(u,gA)call PauseTimer(tr)call DestroyTimer(tr)returnendifif GetUnitAbilityLevel(u,gA)>0 thenset nt=nt+.1if nt>=t thencall FlushChildHashtable(Ne,(StringHash(I2S(GetHandleId((tr))))))call UnitRemoveAbility(u,gA)call PauseTimer(tr)call DestroyTimer(tr)endifelsecall FlushChildHashtable(Ne,(StringHash(I2S(GetHandleId((tr))))))call PauseTimer(tr)call DestroyTimer(tr)endifcall SaveReal(Ne,(StringHash(I2S(GetHandleId((tr))))),StringHash("Ntimer"),nt)endfunctionfunction hA takes unit u,integer gA,real t,boolean GA returns nothinglocal timer tr=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("RemoveBuffTimer_"+I2S(gA)))if tr==null thenset tr=CreateTimer()elseif TimerGetRemaining(tr)>=t thenreturnendifendifcall SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((tr))))),StringHash("u"),u)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((tr))))),StringHash("buff"),gA)call SaveReal(Ne,(StringHash(I2S(GetHandleId((tr))))),StringHash("time"),t)call SaveReal(Ne,(StringHash(I2S(GetHandleId((tr))))),StringHash("Ntimer"),0)call SaveBoolean(Ne,(StringHash(I2S(GetHandleId((tr))))),StringHash("Die"),GA)call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("RemoveBuffTimer_"+I2S(gA)),tr)call TimerStart(tr,.1,true,function FA)endfunctionfunction HA takes unit u returns nothinglocal trigger tr=LoadTriggerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("DmgTrigger"))local integer iif tr==null thenif GetOwningPlayer(u)==Vv thencall TriggerRegisterUnitEvent(uE,u,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(ri,u,EVENT_UNIT_DAMAGED)endifcall TriggerRegisterUnitEvent(En,u,EVENT_UNIT_DAMAGED)call SaveTriggerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("DmgTrigger"),En)endifendfunctionfunction jA takes player p returns booleanlocal integer i=((1+GetPlayerId((p))))return i>0 and i<=hRendfunctionfunction JA takes unit u,real v returns nothingcall SetUnitState((u),UNIT_STATE_LIFE,(((GetUnitState((u),UNIT_STATE_LIFE))+v)*1.))endfunctionfunction kA takes unit u,real v returns nothingcall SetUnitState((u),UNIT_STATE_MANA,(((GetUnitState((u),UNIT_STATE_MANA))+v)*1.))endfunctionfunction KA takes unit u,real lA returns realif GetUnitAbilityLevel(u,1093681731)>0 thenreturn lA*1.5endifreturn lAendfunctionfunction LA takes player p,boolean mA returns nothinglocal unit u=LoadUnitHandle(Ne,1093682499,(StringHash(I2S(GetHandleId((p))))))call RemoveUnit(u)if not(mA)thenset u=CreateUnit(p,1848651849,0,0,0)call UnitApplyTimedLife(u,1093677104,30)call SaveUnitHandle(Ne,1093682499,(StringHash(I2S(GetHandleId((p))))),u)endifendfunctionfunction MA takes unit u returns nothinglocal integer c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),811950947)if GetUnitAbilityLevel(u,1093682499)>0 thenif Av[1]thenset c=c+1if c>1 thencall DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FireBuff.mdx",u,"origin"))call LA(GetOwningPlayer(u),false)set c=0endifelseset c=0endifcall SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),811950947,c)endifendfunctionfunction pA takes unit u,integer PA returns integerif GetUnitAbilityLevel(u,PA)>0 thenreturn LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),PA)elsereturn 0endifendfunctionfunction qA takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228)local integer gA=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1651861094)if GetUnitAbilityLevel(u,gA)==0 thencall SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),gA,0)call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),gA,null)call PauseTimer(t)call DestroyTimer(t)endifendfunctionfunction QA takes unit u,integer PA,integer lv returns nothinglocal timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),PA)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),PA,lv)if t==null thenset t=CreateTimer()call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),PA,t)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228,u)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1651861094,PA)call TimerStart(t,2,true,function qA)endifendfunctionfunction HL takes unit u returns booleanreturn(RectContainsUnit(oo,u))or(GetUnitAbilityLevel(u,1112896364)>0)or(GetUnitAbilityLevel(u,1093679190)>0)or(GetUnitAbilityLevel(u,1093681488)>0)or(GetUnitAbilityLevel(u,1093679410)>0)endfunctionfunction sA takes unit u returns booleanreturn(VA(u))or(GetUnitAbilityLevel(u,1093681456)>0)or(IsUnitAlly(u,Player(11)))or(GetUnitTypeId(u)==1702327152)or(IsUnitType(u,UNIT_TYPE_STRUCTURE))or(GetUnitAbilityLevel(u,1097625443)>0)endfunctionfunction SA takes unit u,unit tu,boolean tA,boolean TA returns booleanlocal player p=GetOwningPlayer(u)if u==null or tu==null thenreturn falseendifif VA(tu)thenreturn falseendifif p==Vv thenset p=Player(11)endifif IsUnitAlly(tu,p)and GetUnitTypeId(tu)!=1852862004 and GetUnitTypeId(tu)!=1852862006 thenreturn falseendifif GetUnitTypeId(tu)==1702327152 thenreturn falseendifif IsUnitType(tu,UNIT_TYPE_STRUCTURE)thenreturn falseendifif IsUnitType(tu,UNIT_TYPE_MAGIC_IMMUNE)and not(TA)thenreturn falseendifif GetUnitAbilityLevel(tu,1098282348)>0 and not(tA)thenreturn falseendifreturn trueendfunctionfunction uA takes player p returns nothinglocal integer array UAlocal integer i=0set UA[0]=1164666213set UA[1]=1215324524set UA[2]=1211117648set UA[3]=1211117649set UA[4]=1211117651set UA[5]=1211117642set UA[6]=1211117636set UA[7]=1211117645set UA[8]=1211117644set UA[9]=1211117653set UA[10]=1211117625set UA[11]=1211117624set UA[12]=1211117634set UA[13]=1211117637set UA[14]=1211117639set UA[15]=1211117623set UA[16]=1211117620set UA[17]=1211117633set UA[18]=1211117635set UA[19]=1211117640set UA[20]=1211117654set UA[21]=1211117655set UA[22]=1211117657loopexitwhen UA[i]==nullif ye==-1 and Ye[i]>0 thencall SetPlayerTechMaxAllowed(p,UA[i],-1)endifif ye==0 thencall SetPlayerTechMaxAllowed(p,UA[i],0)endifset i=i+1endloopendfunctionfunction wA takes nothing returns nothinglocal integer i=1loopexitwhen i>hRset fv[i]=0set i=i+1endloopendfunctionfunction WA takes nothing returns nothinglocal integer i=1loopexitwhen i>hRset Ae[i]=0set i=i+1endloopendfunctionfunction yA takes nothing returns nothinglocal integer i=1loopexitwhen i>hRset ee[i]=0set i=i+1endloopendfunctionfunction YA takes nothing returns nothinglocal integer i=1loopexitwhen i>hRset xe[i]=0set i=i+1endloopendfunctionfunction zA takes nothing returns nothinglocal integer i=1loopexitwhen i>hRset xe[i]=xe[i]+Ae[i]set ee[i]=ee[i]+fv[i]set re[i]=re[i]+Ae[i]set oe[i]=oe[i]+fv[i]set i=i+1endloopendfunctionfunction ZA takes nothing returns reallocal integer i=1local real c=0loopexitwhen i>hRset c=c+fv[i]set i=i+1endloopreturn cendfunctionfunction vN takes unit u returns reallocal integer l=GetUnitAbilityLevel(u,1093681971)if l>0 thenset l=l-1call SetUnitAbilityLevel(u,1093681971,l)if l<1 thencall UnitRemoveAbility(u,1093681971)call UnitRemoveAbility(u,1110455367)endifreturn 1.7elsereturn 1.endifendfunctionfunction eN takes player p,real x,real y,real t,boolean xN,string s returns nothinglocal integer iif Lv==10 thenreturnendifif p==null thenif xN thencall ClearTextMessages()endifset i=1loopexitwhen i>12call DisplayTimedTextToPlayer((Player(-1+((i)))),x,y,t,s)set i=i+1endloopelseif GetLocalPlayer()==p and xN thencall ClearTextMessages()endifcall DisplayTimedTextToPlayer(p,x,y,t,s)endifendfunctionfunction oN takes player p,string s returns nothingif GetLocalPlayer()==p thencall PlaySoundBJ(rr)endifcall eN(p,1,0,5,true,s)endfunctionfunction GetEventUnit takes nothing returns unitreturn LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)endfunctionfunction GetEventTarget takes nothing returns unitreturn LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)endfunctionfunction GetDamage takes nothing returns realreturn LoadReal(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257773)endfunctionfunction GetHeal takes nothing returns realreturn LoadReal(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702258796)endfunctionfunction GetDamageMT takes nothing returns integerreturn LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702260084)endfunctionfunction IsMagicDamage takes nothing returns booleanreturn LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==TRendfunctionfunction IsPhysicalDamage takes nothing returns booleanreturn LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==tRendfunctionfunction IsNoralDamage takes nothing returns booleanreturn LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SRendfunctionfunction IsDot takes nothing returns booleanreturn LoadBoolean(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1701080948)endfunctionfunction IsHot takes nothing returns booleanreturn LoadBoolean(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1701343092)endfunctionfunction IsAoe takes nothing returns booleanreturn LoadBoolean(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1700884325)endfunctionfunction IsCrt takes nothing returns booleanreturn LoadBoolean(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1701016180)endfunctionfunction IsMiss takes nothing returns booleanreturn LoadBoolean(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1701669235)endfunctionfunction IsRef takes nothing returns booleanreturn LoadBoolean(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1701995878)endfunctionfunction iN takes unit u,unit tu,real aN,integer dt,integer mt,boolean nN,boolean VN,boolean EN returns nothinglocal integer i=1local trigger AA=nulllocal string XNset D=aNset R=1set C=0set I=aNset B=100set X=falseif iv thenreturnendifset o=o+1loopexitwhen i>Eset AA=LoadTriggerHandle(Ne,1165389428,1684106599+i)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((AA))))),1702262126,u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((AA))))),1702261877,tu)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((AA))))),1702257780,dt)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((AA))))),1702260084,mt)call SaveBoolean(Ne,(StringHash(I2S(GetHandleId((AA))))),1700884325,VN)call SaveBoolean(Ne,(StringHash(I2S(GetHandleId((AA))))),1701080948,nN)call SaveBoolean(Ne,(StringHash(I2S(GetHandleId((AA))))),1701016180,EN)if IsTriggerEnabled(AA)and TriggerEvaluate(AA)thenset XN=LoadStr(Ne,(StringHash(I2S(GetHandleId((AA))))),1851878757)call bA("Damage Trigger:"+XN+" Executed! :"+R2S(D),5)call TriggerExecute(AA)endifset i=i+1endloopset o=o-1endfunctionfunction ON takes unit u,unit tu,real RN,boolean IN,boolean VN,boolean EN returns nothinglocal integer i=1local trigger AA=nulllocal string XNset F=RNset N=RNset G=1set O=falseif iv thenreturnendifset V=V+1loopexitwhen i>Eset AA=LoadTriggerHandle(Ne,1165389428,1751474540+i)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((AA))))),1702262126,u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((AA))))),1702261877,tu)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((AA))))),1702258796,tu)call SaveBoolean(Ne,(StringHash(I2S(GetHandleId((AA))))),1700884325,VN)call SaveBoolean(Ne,(StringHash(I2S(GetHandleId((AA))))),1701343092,IN)call SaveBoolean(Ne,(StringHash(I2S(GetHandleId((AA))))),1701016180,EN)if IsTriggerEnabled(AA)and TriggerEvaluate(AA)thenset XN=LoadStr(Ne,(StringHash(I2S(GetHandleId((AA))))),1851878757)call bA("Heal Trigger:"+XN+" Executed!",5)call TriggerExecute(AA)endifset i=i+1endloopset V=V-1endfunctionfunction AN takes trigger NN,integer bN returns booleanlocal integer i=1loopexitwhen i>Eif NN==LoadTriggerHandle(Ne,1165389428,bN+i)thenreturn trueendifset i=i+1endloopreturn falseendfunctionfunction BN takes trigger NN,integer bN,string XN returns nothingif not(AN(NN,bN))thenset E=E+1call SaveStr(Ne,(StringHash(I2S(GetHandleId((NN))))),1851878757,XN)call SaveTriggerHandle(Ne,1165389428,bN+E,NN)elsecall bA("Trigger: "+XN+" Register Error",5)endifendfunctionfunction cN takes unit u,integer c returns itemlocal integer p=((1+GetPlayerId((GetOwningPlayer(u)))))local unit ku=LoadUnitHandle(Ne,1852010352,p)if c<6 thenreturn UnitItemInSlot(u,c)elseif c<12 thenreturn UnitItemInSlot(ku,c-6)elsereturn UnitItemInSlot(fe,c-12)endifendfunctionfunction CN takes unit u,integer dN,integer c returns booleanlocal integer p=((1+GetPlayerId((GetOwningPlayer(u)))))local unit ku=LoadUnitHandle(Ne,1852010352,p)local integer i=0local item itloopexitwhen c<1 or i>=18set it=cN(u,i)if GetItemTypeId(it)==dN thencall RemoveItem(it)set c=c-1endifset i=i+1endloopreturn c<1endfunctionfunction DN takes unit u,item fN,boolean FN returns nothinglocal unit cu=LoadUnitHandle(Ne,1852010352,((1+GetPlayerId((GetOwningPlayer(u))))))call SetItemPosition(fN,GetUnitX(cu),GetUnitY(cu))if UnitHasItem(u,fN)thenreturnelseif UnitAddItem(u,fN)thenreturnelseif IsItemPowerup(fN)thenreturnelseif UnitHasItem(cu,fN)thenreturnelseif UnitAddItem(cu,fN)thenreturnelseif not FN thenreturnelseif UnitHasItem(fe,fN)thenreturnendifcall UnitAddItem(fe,fN)endfunctionfunction gN takes unit u returns nothinglocal integer i=0local item it=nullloopexitwhen i>5set it=UnitItemInSlot(fe,i)if it!=null thencall DN(u,it,false)endifset i=i+1endloopendfunctionfunction GN takes item it,boolean b returns itemlocal integer i=0local integer hN=0local location LIlocal item rtset rt=itif b thenset i=1set hN=1elseset i=2set hN=-1endifloopexitwhen Cv[i]==0if GetItemTypeId(it)==Cv[i]thenset LI=GetItemLoc(it)call DisableTrigger(Ri)call RemoveItem(it)call EnableTrigger(Ri)set rt=CreateItem(Cv[i+hN],GetLocationX(LI),GetLocationY(LI))call RemoveLocation(LI)set H=truereturn rtendifset i=i+2endloopset H=falsereturn rtendfunctionfunction HN takes unit u,integer dN returns integerlocal integer c=0local integer i=0local item ct=nulllocal item ut=nullloopexitwhen i>=18set ct=cN(u,i)if GetItemTypeId(ct)==dN thenif ct!=ut thenset c=c+1set ut=ctendifendifset i=i+1endloopreturn cendfunctionfunction jN takes unit u returns nothinglocal integer i=1local integer a=0loopexitwhen i>HR-1set a=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1936745836+i)if a==0 thenset a=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1936745836+i+1)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1936745836+i,a)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1936745836+i+1,0)endifset i=i+1endloopendfunctionfunction JN takes unit u,integer a returns booleanlocal integer i=1loopexitwhen i>HRif a==(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1936745836+(i)))thencall SaveInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1936745836+(i),(0))call jN(u)return trueendifset i=i+1endloopreturn falseendfunctionfunction kN takes unit u,integer a returns booleanlocal integer i=1loopexitwhen i>HRif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1936745836+(i)))==0 thencall SaveInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1936745836+(i),(a))return trueendifset i=i+1endloopreturn falseendfunctionfunction KN takes unit u returns integerlocal integer i=1local integer r=0loopexitwhen i>HRif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1936745836+(i)))>0 thenset r=r+1endifset i=i+1endloopreturn rendfunctionfunction lN takes integer i,location LI returns reallocal real x=GetLocationX(LI)if i<5 thenset x=x+128*i-320elseset x=x+128*(i-4)-320endifreturn xendfunctionfunction LN takes integer i,location LI returns reallocal real y=GetLocationY(LI)if i<5 thenset y=y+64elseset y=y-64endifreturn yendfunctionfunction mN takes real x1,real y1,real x2,real y2 returns reallocal real x=x1-x2local real y=y1-y2return SquareRoot(x*x+y*y)endfunctionfunction MN takes real x,real pN,real PN returns realset pN=ModuloReal(pN,360)return x+PN*Cos(pN*bj_DEGTORAD)endfunctionfunction qN takes real y,real pN,real PN returns realset pN=ModuloReal(pN,360)return y+PN*Sin(pN*bj_DEGTORAD)endfunctionfunction QN takes real x1,real y1,real x2,real y2 returns realreturn bj_RADTODEG*Atan2(y2-y1,x2-x1)endfunctionfunction sN takes boolean mA returns playerlocal player p=ForcePickRandomPlayer(iI)if mA thencall ForceRemovePlayer(iI,p)endifreturn pendfunctionfunction SN takes nothing returns nothinglocal integer i=1set iI=CreateForce()loopexitwhen i>GRif Nv[i]!=null and(IsUnitType((Nv[i]),UNIT_TYPE_HERO))thencall ForceAddPlayer(iI,(Player(-1+((i)))))endifset i=i+1endloopendfunctionfunction tN takes nothing returns nothinglocal integer i=1loopexitwhen i>10if rI[i]=="" thenset rI[i]=rI[i+1]set rI[i+1]=""endifset i=i+1endloopendfunctionfunction TN takes string s returns booleanlocal integer i=1loopexitwhen i>11if s==rI[i]thenset rI[i]=""return trueendifset i=i+1endloopreturn falseendfunctionfunction WN takes integer i returns stringreturn SubString("ABCDEFGHIJKLMNOPQRSTUVWXYZ",i,i+1)endfunctionfunction yN takes integer YN returns gamecacheif vI[YN]==null thenset vI[YN]=(InitGameCache("11SAV@"+WN((YN))))endifreturn vI[YN]endfunctionfunction zN takes integer YN,string ZN,string vb returns nothingcall StoreString(yN(YN),"",ZN,vb)endfunctionfunction xb takes integer YN,integer reserve,integer oA,string vb returns nothingcall zN(YN,"Title@"+WN(oA),vb)endfunctionfunction ob takes integer YN,string ZN,integer vb returns nothingcall StoreInteger(yN(YN),"",ZN,vb)endfunctionfunction rb takes integer YN,string ZN returns integerreturn GetStoredInteger(yN(YN),"",ZN)endfunctionfunction ib takes nothing returns nothinglocal integer i=1local integer j=0local string array abset ab[0]="战绩"set ab[1]="新手"set ab[2]="战士"set ab[3]="专家"set ab[4]="骨灰"set ab[5]="_"set ab[6]="_"set ab[7]="_"loopexitwhen i>11if GetPlayerController((Player(-1+((i)))))==MAP_CONTROL_USER and GetPlayerSlotState((Player(-1+((i)))))==PLAYER_SLOT_STATE_PLAYING thenset j=0loopexitwhen j>7call xb(i,0,j,ab[j])set j=j+1endloopendifset i=i+1endloopendfunctionfunction nb takes integer ce returns stringlocal string r=""local string array slocal integer array blocal integer i=0local integer j=0local integer lc=0set b[1]=16384set b[2]=4096set b[3]=1024set b[4]=256set b[5]=64set b[6]=16set b[7]=4set b[8]=1set s[1]="精神 "set s[2]="暗 "set s[3]="光 "set s[4]="土 "set s[5]="火 "set s[6]="水 "set s[7]="木 "set s[8]="金 "set i=1loopexitwhen i>8set lc=ce/ b[i]set ce=ModuloInteger(ce,b[i])set j=1loopexitwhen j>lcset r=r+s[i]set j=j+1endloopset i=i+1endloopreturn rendfunctionfunction Vb takes unit u returns nothingcall SaveInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1498628933,(0))call SaveInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1498628948,(0))endfunctionfunction Eb takes nothing returns nothinglocal integer i=1loopexitwhen i>8192 or(q[i]==0 and P[i]==null)set q[i]=0set P[i]=nullset i=i+1endloopendfunctionfunction Xb takes integer Ob,boolean fx returns nothinglocal integer i=1local boolean n=falselocal real Rb=0local unit Ib=nullloopset n=falseloopexitwhen i>=Obif fx thenif q[i]>q[i+1]thenset Rb=q[i]set q[i]=q[i+1]set q[i+1]=Rbset Ib=P[i]set P[i]=P[i+1]set P[i+1]=Ibset n=trueendifelseif q[i]<q[i+1]thenset Rb=q[i]set q[i]=q[i+1]set q[i+1]=Rbset Ib=P[i]set P[i]=P[i+1]set P[i+1]=Ibset n=trueendifendifset i=i+1endloopexitwhen not(n)endloopendfunctionfunction Ab takes nothing returns integerlocal timer t=GetExpiredTimer()local integer c=0if t==null thenreturn 0endifset c=LoadInteger(Ne,GetHandleId(t),1953657443)call SaveInteger(Ne,GetHandleId(GetExpiredTimer()),1953657443,c+1)return cendfunctionfunction Nb takes player p,string ab,integer bb,real Bb returns integerlocal dialog dglocal button dblocal trigger array trlocal integer ilocal timer cblocal integer Cb=0local integer r=0set dg=DialogCreate()call DialogSetMessage(dg,ab)set i=0loopexitwhen i>bbset tr[i]=CreateTrigger()call TriggerRegisterDialogButtonEvent(tr[i],DialogAddButton(dg,L[i],M[i]))set i=i+1endloopset cb=CreateTimer()call TimerStart(cb,Bb,false,null)call DialogDisplay(p,dg,true)loopexitwhen r>0 or TimerGetRemaining(cb)==0set i=0loopexitwhen r>0 or tr[i]==nullset Cb=GetTriggerExecCount(tr[i])if Cb>0 thenset r=iif r==0 thencall DialogDisplay(p,dg,true)endifendifset i=i+1endloopcall TriggerSleepAction(.01)endloopcall PauseTimer(cb)call DestroyTimer(cb)call DialogDisplay(p,dg,false)call DialogClear(dg)call DialogDestroy(dg)set i=0loopexitwhen tr[i]==nullcall DestroyTrigger(tr[i])set i=i+1endloopreturn rendfunctionfunction Db takes unit u returns booleanlocal integer i=0if u==null thenreturn falseendifloopexitwhen i>30if jv[i]!=null thenif RectContainsUnit(jv[i],u)thenreturn trueendifendifset i=i+1endloopreturn falseendfunctionfunction fb takes unit u returns booleanreturn( not(u==null))and( not(IsUnitType(u,UNIT_TYPE_DEAD)))and( not(IsUnitType(u,UNIT_TYPE_POLYMORPHED)or GetUnitAbilityLevel(u,1093677906)>0 or GetUnitAbilityLevel(u,1112500344)>0))and( not(IsUnitType(u,UNIT_TYPE_STUNNED)))and( not(IsUnitType(u,UNIT_TYPE_SLEEPING)))and( not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_ETHEREAL)))and( not(IsUnitPaused(u)))endfunctionfunction Fb takes player p,multiboarditem gb,real w returns nothingif GetLocalPlayer()==p thencall MultiboardSetItemWidth(gb,w)endifendfunctionfunction Gb takes player p,multiboarditem gb,string v returns nothingif GetLocalPlayer()==p thencall MultiboardSetItemValue(gb,v)endifendfunctionfunction hb takes player p,multiboarditem gb,boolean Hb,boolean jb returns nothingif GetLocalPlayer()==p thencall MultiboardSetItemStyle(gb,Hb,jb)endifendfunctionfunction Jb takes player p,multiboarditem gb,string jb returns nothingif GetLocalPlayer()==p thencall MultiboardSetItemIcon(gb,jb)endifendfunctionfunction kb takes player p,integer f returns nothinglocal integer i=1if p==null thenloopexitwhen i>GRif Nv[i]!=null thenset ae[i]=ae[i]+fset ge[i]=ge[i]+fendifset i=i+1endloopelseset ae[((1+GetPlayerId((p))))]=ae[((1+GetPlayerId((p))))]+fset ge[((1+GetPlayerId((p))))]=ge[((1+GetPlayerId((p))))]+fendifendfunctionfunction Kb takes player p,integer f returns nothinglocal integer i=1if p==null thenloopexitwhen i>GRif Nv[i]!=null thenset ae[i]=fendifset i=i+1endloopelseset ae[((1+GetPlayerId((p))))]=fendifendfunctionfunction Lb takes player p returns stringif((1+GetPlayerId((p))))<10 thenreturn SubString(GetPlayerName(p),3,StringLength(GetPlayerName(p)))elsereturn SubString(GetPlayerName(p),4,StringLength(GetPlayerName(p)))endifendfunctionfunction Mb takes unit u returns stringlocal integer id=GetUnitTypeId(u)local integer i=1local string s=GetUnitName(u)local integer l=StringLength(GetUnitName(u))if l>20 thenreturn SubString(s,0,l-20)endifreturn sendfunctionfunction pb takes integer Pb returns nothinglocal real cz=1if We thenset cz=1.65endifset Le=Pbcall UnitAddAbility(bR,1096903522)if Pb==1 thencall SetPlayerHandicapBJ(Vv,50*cz)call SetUnitAbilityLevel(bR,1096903522,Pb)if xx thencall TriggerExecute(sr)elsecall TriggerExecute(qr)endifset KR=5returnelseif Pb==2 thencall SetPlayerHandicapBJ(Vv,75*cz)call SetUnitAbilityLevel(bR,1096903522,Pb)if xx thencall TriggerExecute(sr)elsecall TriggerExecute(qr)endifset KR=4returnelseif Pb==3 thencall SetPlayerHandicapBJ(Vv,100*cz)call SetUnitAbilityLevel(bR,1096903522,Pb)if xx thencall TriggerExecute(sr)elsecall TriggerExecute(qr)endifset KR=3returnelseif Pb==4 thencall SetPlayerHandicapBJ(Vv,140*cz)call SetUnitAbilityLevel(bR,1096903522,Pb)if xx thencall TriggerExecute(sr)elsecall TriggerExecute(Qr)endifset KR=3returnendifendfunctionfunction qb takes nothing returns nothinglocal timer t=GetExpiredTimer()call DestroyEffect(LoadEffectHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("eff")))call DestroyTimer(t)endfunctionfunction Qb takes effect e,real t returns nothinglocal timer tr=nullif e==null thenreturnendifset tr=CreateTimer()call SaveEffectHandle(Ne,(StringHash(I2S(GetHandleId((tr))))),StringHash("eff"),e)call TimerStart(tr,t,false,function qb)endfunctionfunction HT takes nothing returns nothinglocal timer t=GetExpiredTimer()local real lA=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("dam"))local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("u"))call SetUnitState((u),UNIT_STATE_LIFE,(((GetUnitState((u),UNIT_STATE_LIFE))+lA)*1.))call PauseTimer(t)call DestroyTimer(t)endfunctionfunction sb takes unit u,real lA returns nothinglocal timer t=CreateTimer()call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("dam"),lA)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("u"),u)call TimerStart(t,0,false,function HT)endfunctionfunction Sb takes unit u,real lA returns nothingif(GetUnitState((u),UNIT_STATE_MAX_LIFE))-(GetUnitState((u),UNIT_STATE_LIFE))>=lA thencall SetUnitState((u),UNIT_STATE_LIFE,(((GetUnitState((u),UNIT_STATE_LIFE))+lA)*1.))elsecall sb(u,lA)endifendfunctionfunction tb takes boolean b returns nothingset Tv=bif b thencall ShowUnit(AR,true)elsecall ShowUnit(AR,false)endifendfunctionfunction Cheater takes nothing returns nothingif GetPlayerName(Player(0))!="Tester" thencall EndGame(false)endifendfunctionfunction Tb takes integer t returns stringlocal integer s=0local integer f=0local string r=""if t>=3600 thenset s=t/ 3600set t=t-s*3600endifif t>=60 thenset f=t/ 60set t=t-f*60endifif s>0 thenset r="|cffffee00"+I2S(s)+"|r小时,"endifif f>0 thenif f<10 thenset r=r+"|cffffee000"+I2S(f)+"|r分,"elseset r=r+"|cffffee00"+I2S(f)+"|r分,"endifendifif t>0 thenif t<10 thenset r=r+"|cffffee000"+I2S(t)+"|r秒"elseset r=r+"|cffffee00"+I2S(t)+"|r秒"endifendifreturn rendfunctionfunction ub takes nothing returns integerlocal integer i=1local integer c=0loopexitwhen i>hRif GetPlayerSlotState(Player(-1+(i)))==PLAYER_SLOT_STATE_PLAYING and GetPlayerController(Player(-1+(i)))==MAP_CONTROL_USER thenset c=c+1endifset i=i+1endloopreturn cendfunctionfunction Ub takes nothing returns integerlocal integer i=1local integer c=0loopexitwhen i>GRif GetPlayerController(Player(-1+(i)))==MAP_CONTROL_USER and GetPlayerSlotState(Player(-1+(i)))!=PLAYER_SLOT_STATE_EMPTY thenset c=c+1endifset i=i+1endloopreturn cendfunctionfunction wb takes nothing returns integerlocal integer i=1local integer c=0loopexitwhen i>GRif GetPlayerController(Player(-1+(i)))==MAP_CONTROL_COMPUTER and GetPlayerSlotState(Player(-1+(i)))!=PLAYER_SLOT_STATE_EMPTY thenset c=c+1endifset i=i+1endloopreturn cendfunctionfunction GetLeftUserCount takes nothing returns integerlocal integer i=1local integer c=0loopexitwhen i>GRif GetPlayerSlotState(Player(-1+(i)))==PLAYER_SLOT_STATE_LEFT and GetPlayerController(Player(-1+(i)))==MAP_CONTROL_USER and GetPlayerSlotState(Player(-1+(i)))!=PLAYER_SLOT_STATE_EMPTY thenset c=c+1endifset i=i+1endloopreturn cendfunctionfunction Wb takes nothing returns nothinglocal integer i=1loopexitwhen i>hRif GetPlayerSlotState(Player(-1+(i)))==PLAYER_SLOT_STATE_PLAYING and GetPlayerController(Player(-1+(i)))==MAP_CONTROL_USER and Player(-1+(i))!=GetTriggerPlayer()thenset sv=Player(-1+(i))call eN(null,0,0,10,false,"|cffffee00"+Lb(sv)+"|r|cffa0b0c0成为了队长!|r")returnendifset i=i+1endloopendfunctionfunction yb takes player p,integer Yb returns nothinglocal integer i=1if p==null thenloopexitwhen i>hRif Nv[i]!=null and(IsUnitType((Nv[i]),UNIT_TYPE_HERO))thencall SetPlayerState((Player(-1+((i)))),PLAYER_STATE_RESOURCE_GOLD,Yb)endifset i=i+1endloopelsecall SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,Yb)endifendfunctionfunction zb takes player p,integer Yb,boolean b returns nothinglocal integer ilocal real r=1if p==null thenset i=1loopexitwhen i>hRif Nv[i]!=null and(IsUnitType((Nv[i]),UNIT_TYPE_HERO))thenset r=1if LoadInteger(Ne,(StringHash(I2S(GetHandleId((p))))),1835363961)>0 and b thenset r=r+.1endifcall SetPlayerState((Player(-1+((i)))),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState((Player(-1+((i)))),PLAYER_STATE_RESOURCE_GOLD)+R2I(Yb*r))endifset i=i+1endloopelseset r=1if LoadInteger(Ne,(StringHash(I2S(GetHandleId((p))))),1835363961)>0 and b thenset r=r+.1endifcall SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)+R2I(Yb*r))endifendfunctionfunction Zb takes unit u,unit tu,real r returns booleanlocal real f1=GetUnitFacing(u)local real f2=GetUnitFacing(tu)local real f3=0if f1>f2 thenset f3=f1-f2elseset f3=f2-f1endifif f3<=r thenreturn trueendifreturn falseendfunctionfunction vB takes unit u,integer eB,integer xB,real t,boolean GA returns nothingcall UnitAddAbility(u,eB)call hA(u,eB,t,GA)if xB>0 thencall hA(u,xB,t,GA)endifendfunctionfunction iB takes integer aB,integer nB,integer c,integer VB,integer r returns nothinglocal integer i=0local string s=""set i=1loopset s="G"+I2S(aB)+"S"+I2S(nB)+"B"+I2S(i)exitwhen LoadInteger(Ne,StringHash("Monster"),StringHash("Unit "+s))==0set i=i+1endloopcall SaveInteger(Ne,StringHash("Monster"),StringHash("Unit "+s),VB)call SaveInteger(Ne,StringHash("Monster"),StringHash("Cont "+s),c)call SaveInteger(Ne,StringHash("Monster"),StringHash("Rect "+s),r)endfunctionfunction EB takes unit u,unit tu returns nothingif IsUnitType(u,UNIT_TYPE_DEAD)or IsUnitType(u,UNIT_TYPE_DEAD)thenreturnendifcall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",GetUnitX(tu),GetUnitY(tu)))call SetUnitPosition(tu,GetUnitX(u),GetUnitY(u))call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",GetUnitX(tu),GetUnitY(tu)))endfunctionfunction XB takes unit u,unit tu,real OB returns nothinglocal timer ut=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("OutTimer"))local unit RB=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("tu2"))if mN(GetUnitX(u),GetUnitY(u),GetUnitX(tu),GetUnitY(tu))>OB and RB==tu thenif ut==null thenset ut=CreateTimer()call TimerStart(ut,9999,false,null)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("tu2"),tu)call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("tu2"),ut)elseif TimerGetElapsed(ut)>=10 thencall EB(u,tu)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("tu2"),tu)call TimerStart(ut,9999,false,null)endifelseif ut!=null thencall SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("tu2"),tu)call TimerStart(ut,9999,false,null)elseset ut=CreateTimer()call TimerStart(ut,9999,false,null)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("tu2"),tu)call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("OutTimer"),ut)endifendifendfunctionfunction IB takes unit u,unit tu returns nothingif tu==null thencall bA("No Target",5)returnendifif not(fb(u))thenreturnendifcall IssueTargetOrder(u,Ge,tu)endfunctionfunction AB takes location LI,real fw returns unitlocal group g=sI(fw,LI)local unit cu=nulllocal unit ru=nulllocal real NB=0local real bB=0loopset cu=FirstOfGroup(g)if cu!=null and(IsUnitType(cu,UNIT_TYPE_HERO)and not(VA(cu)))thenset bB=mN(GetLocationX(LI),GetLocationY(LI),GetUnitX(cu),GetUnitY(cu))if bB>NB thenset NB=bBset ru=cuendifendifexitwhen cu==nullcall GroupRemoveUnit(g,cu)endloopcall DestroyGroup(g)return ruendfunctionfunction BB takes location LI,real fw returns unitlocal group g=sI(fw,LI)local unit cu=nullloopset cu=GroupPickRandomUnit(g)call GroupRemoveUnit(g,cu)exitwhen cu==null or(IsUnitType(cu,UNIT_TYPE_HERO)and not(VA(cu)))endloopcall DestroyGroup(g)return cuendfunctionfunction cB takes rect r returns unitlocal group g=PI(r)local unit cu=nullloopset cu=GroupPickRandomUnit(g)call GroupRemoveUnit(g,cu)exitwhen cu==null or IsUnitType(cu,UNIT_TYPE_HERO)endloopcall DestroyGroup(g)return cuendfunctionfunction CB takes location LI,real fw,group dB returns unitlocal group g=sI(fw,LI)local unit cu=nulllocal integer i=0local real x=GetLocationX(LI)local real y=GetLocationY(LI)call Eb()loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if not(IsUnitInGroup(cu,dB))thenset i=i+1set P[i]=cuset q[i]=mN(x,y,GetUnitX(cu),GetUnitY(cu))endifendloopif i>0 thencall Xb(i,true)return P[1]elsereturn nullendifendfunctionfunction DB takes unit u,group g,group ng returns unitlocal unit cu=nulllocal integer i=0local real x=GetUnitX(u)local real y=GetUnitY(u)call Eb()loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if not(IsUnitInGroup(cu,ng))thenset i=i+1set P[i]=cuset q[i]=mN(x,y,GetUnitX(cu),GetUnitY(cu))endifendloopif i>0 thencall Xb(i,true)return P[1]elsereturn nullendifendfunctionfunction fB takes unit u returns integerlocal integer lv=GetUnitAbilityLevel(u,1093679441)if lv<1 or lv>gR thenreturn 0endifreturn lvendfunctionfunction gB takes unit u returns booleanreturn u==dR or u==DRendfunctionfunction GB takes unit u returns nothingcall SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1970299251,0)call PauseUnit(u,false)endfunctionfunction hB takes unit u,boolean HB returns nothinglocal integer jB=0if HB thenset jB=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1970299251)+1elseset jB=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1970299251)-1endifcall PauseUnit(u,jB>0)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1970299251,IMaxBJ(0,jB))endfunctionfunction JB takes unit u,integer sp returns nothingcall SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP"),LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP"))+sp)endfunctionfunction kB takes unit u,integer hp returns nothinglocal integer KB=15local integer ex=0local integer lB=R2I(Pow(2,KB))-1if hp>lB thenset ex=hp-lBset hp=lBendifloopexitwhen KB<0if hp>=Pow(2,KB)thencall UnitAddAbility(u,1095330865)call SetUnitAbilityLevel(u,1095330865,KB+2)call UnitRemoveAbility(u,1095330865)set hp=hp-R2I(Pow(2,KB))endifset KB=KB-1endloopif ex>0 thencall kB(u,ex)endifendfunctionfunction LB takes unit u,integer hp returns nothinglocal integer KB=15local integer ex=0local integer lB=R2I(Pow(2,KB))-1if hp>lB thenset ex=hp-lBset hp=lBendifloopexitwhen KB<0if hp>=Pow(2,KB)thencall UnitAddAbility(u,1095330866)call SetUnitAbilityLevel(u,1095330866,KB+2)call UnitRemoveAbility(u,1095330866)set hp=hp-R2I(Pow(2,KB))endifset KB=KB-1endloopif ex>0 thencall LB(u,ex)endifendfunctionfunction mB takes unit u,integer mp returns nothinglocal integer KB=15local integer ex=0local integer lB=R2I(Pow(2,KB))-1if mp>lB thenset ex=mp-lBset mp=lBendifloopexitwhen KB<0if mp>=Pow(2,KB)thencall UnitAddAbility(u,1095331190)call SetUnitAbilityLevel(u,1095331190,KB+2)call UnitRemoveAbility(u,1095331190)set mp=mp-R2I(Pow(2,KB))endifset KB=KB-1endloopif ex>0 thencall kB(u,ex)endifendfunctionfunction MB takes unit u,integer mp returns nothinglocal integer KB=15local integer ex=0local integer lB=R2I(Pow(2,KB))-1if mp>lB thenset ex=mp-lBset mp=lBendifloopexitwhen KB<0if mp>=Pow(2,KB)thencall UnitAddAbility(u,1095331194)call SetUnitAbilityLevel(u,1095331194,KB+2)call UnitRemoveAbility(u,1095331194)set mp=mp-R2I(Pow(2,KB))endifset KB=KB-1endloopif ex>0 thencall kB(u,ex)endifendfunctionfunction pB takes unit u returns reallocal real r=0local integer i=1local integer a=0loopexitwhen i>HR+1set a=(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1936745836+(i)))if a>0 thenset r=r+LoadReal(Ne,1633842290,a)endifset i=i+1endloopreturn rendfunctionfunction PB takes unit u returns reallocal real tr=1+LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("ITR"))set tr=tr+pB(u)*GetHeroStr(u,true)*.01if tr>3.75 thenset tr=3.75endifif GetUnitAbilityLevel(u,1110455095)>0 thenset tr=tr+.9elseif GetUnitAbilityLevel(u,1110454871)>0 thenset tr=tr+.7elseif GetUnitAbilityLevel(u,1110454870)>0 thenset tr=tr+.5elseif GetUnitAbilityLevel(u,1114795873)>0 thenset tr=tr+.3endifif GetUnitAbilityLevel(u,1093678682)>0 thenset tr=tr*.7endifif GetUnitAbilityLevel(u,1093678146)>0 thenset tr=tr*2endifif tr<.25 thenset tr=.25endifreturn trendfunctionfunction qB takes unit u,unit tu,boolean TA returns booleanlocal player p=GetOwningPlayer(u)if p==Vv thenset p=Player(11)endifif IsUnitType(tu,UNIT_TYPE_DEAD)thenreturn falseendifif not(IsUnitAlly(tu,p))and GetUnitTypeId(tu)!=1852862004 and GetUnitTypeId(tu)!=1852862006 thenreturn falseendifif GetUnitAbilityLevel(tu,1097625443)>0 thenreturn falseendifif GetUnitTypeId(tu)==1702327152 thenreturn falseendifif IsUnitType(tu,UNIT_TYPE_STRUCTURE)thenreturn falseendifif IsUnitType(tu,UNIT_TYPE_MAGIC_IMMUNE)and not(TA)thenreturn falseendifreturn trueendfunctionfunction QB takes unit u,integer aN returns booleanlocal integer array alocal integer i=0local integer j=0local item it=nullif not(IsUnitType(u,UNIT_TYPE_HERO))or IsUnitType(u,UNIT_TYPE_DEAD)thenreturn falseendifif aN==0 thenreturn falseelseif aN>0 thenset a[0]=1227894849set a[1]=1227894850set a[2]=1227894851elseif aN<0 thenset a[0]=1227894852set a[1]=1227894853set a[2]=1227894841elseif aN==0 thenreturn trueendifcall SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("ATT"),LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("ATT"))+aN)set aN=IAbsBJ(aN)call bA("Dmg:"+I2S(aN),5)set i=2loopexitwhen i<0set j=aN/ R2I(Pow(10,I2R(i)))set aN=ModuloInteger(aN,R2I(Pow(10,I2R(i))))loopexitwhen j<=0set it=CreateItem(a[i],GetUnitX(u),GetUnitY(u))call UnitAddItem(u,it)set j=j-1endloopset i=i-1endloopreturn trueendfunctionfunction sB takes unit u,integer aN returns nothinglocal integer array alocal integer i=12local integer f=0set a[1]=1093682002set a[2]=1093681995set a[3]=1093681994set a[4]=1093682001set a[5]=1093681993set a[6]=1093681988set a[7]=1093681989set a[8]=1093682000set a[9]=1093681999set a[10]=1093681990set a[11]=1093681992set a[12]=1093681998loopexitwhen i<1set f=R2I(Pow(2,i-1))if aN>=f thencall UnitAddAbility(u,a[i])set aN=aN-felsecall UnitRemoveAbility(u,a[i])endifset i=i-1endloopendfunctionfunction SB takes unit u returns integerlocal integer array alocal integer i=12local integer f=0set a[1]=1093682002set a[2]=1093681995set a[3]=1093681994set a[4]=1093682001set a[5]=1093681993set a[6]=1093681988set a[7]=1093681989set a[8]=1093682000set a[9]=1093681999set a[10]=1093681990set a[11]=1093681992set a[12]=1093681998loopexitwhen i<1if GetUnitAbilityLevel(u,a[i])>0 thenset f=f+R2I(Pow(2,i-1))endifset i=i-1endloopreturn fendfunctionfunction tB takes unit u,integer v returns nothinglocal integer array alocal integer i=9local integer f=0set a[1]=1093678902set a[2]=1093678923set a[3]=1093678924set a[4]=1093678928set a[5]=1093678932set a[6]=1093679153set a[7]=1093679154set a[8]=1093678676set a[9]=1093677649loopexitwhen i<1set f=R2I(Pow(2,i-1))if v>=f thencall UnitAddAbility(u,a[i])set v=v-felsecall UnitRemoveAbility(u,a[i])endifset i=i-1endloopendfunctionfunction TB takes unit u returns integerlocal integer array alocal integer i=9local integer f=0set a[1]=1093678902set a[2]=1093678923set a[3]=1093678924set a[4]=1093678928set a[5]=1093678932set a[6]=1093679153set a[7]=1093679154set a[8]=1093678676set a[9]=1093677649loopexitwhen i<1if GetUnitAbilityLevel(u,a[i])>0 thenset f=f+R2I(Pow(2,i-1))endifset i=i-1endloopreturn fendfunctionfunction uB takes unit u,boolean UB,integer wB returns integerlocal integer WB=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPK"))local integer b=0set WB=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPK"))set WB=WB+LoadInteger(Ne,GetUnitTypeId(u),StringHash("SPK"))set WB=WB+LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPK"+I2S(wB)))set WB=WB+LoadInteger(Ne,GetUnitTypeId(u),StringHash("SPK"+I2S(wB)))if GetUnitAbilityLevel(u,1112892516)>0 thenset b=0endifif GetUnitAbilityLevel(u,1110455117)>0 thenset b=b+5endifif GetUnitAbilityLevel(u,1110455108)>0 thenset b=b+12endifif GetUnitAbilityLevel(u,1113875814)>0 thenset b=b+10endifif GetUnitAbilityLevel(u,1093677132)>0 thenset b=b+4+GetUnitAbilityLevel(u,1093677132)*4endifif GetUnitAbilityLevel(u,1093679436)>0 thenset b=b+4endifif GetUnitAbilityLevel(u,1110455380)>0 thenset b=b+4+GetUnitAbilityLevel(u,1093682249)*4endifif GetOwningPlayer(u)==Vv thenset b=b+GetRandomInt(12,20)endifif GetUnitAbilityLevel(u,1093681717)>0 thenset b=b-4*GetUnitAbilityLevel(u,1093681717)endifif GetUnitAbilityLevel(u,1112039780)>0 thenset b=b+(1+pA(u,1112039780)*2)endifreturn WB+bendfunctionfunction yB takes unit u,boolean UB,integer wB returns reallocal integer YB=uB(u,UB,wB)local real xs=.02local real hj=YBlocal real a=0local real b=0local real c=0set a=xs*hjset b=1+xs*hjset c=a/ breturn cendfunctionfunction zB takes unit u,boolean UB returns reallocal real WB=0local real b=0set WB=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("HPR"))set WB=WB+GetHeroStr(u,true)*.01if UB thenendifreturn WB+bendfunctionfunction ZB takes unit u,boolean UB returns reallocal real WB=0local real b=0set WB=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("MPR"))set WB=WB+GetHeroInt(u,true)*.01if UB thenif fB((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)))>0 thenset b=b+(GetUnitAbilityLevel(u,1093679441))*.008endifif GetUnitAbilityLevel(u,1110455093)>0 thenset b=b+ZRelseif GetUnitAbilityLevel(u,1110454616)>0 thenset b=b+zRelseif GetUnitAbilityLevel(u,1110454615)>0 thenset b=b+YRelseif GetUnitAbilityLevel(u,1112039778)>0 thenset b=b+yRendifif GetUnitAbilityLevel(u,1110454322)>0 thenset b=b+.75endifif GetUnitAbilityLevel(u,1110455364)>0 thenset b=b+.5elseif GetUnitAbilityLevel(u,1110455118)>0 thenset b=b+.3elseif GetUnitAbilityLevel(u,1110455115)>0 thenset b=b+.2endifif GetUnitAbilityLevel(u,1093677637)>0 thenset b=b+(((GetUnitState((u),UNIT_STATE_MAX_MANA))-(GetUnitState((u),UNIT_STATE_MANA)))*(.001+.001*I2R(GetUnitAbilityLevel(u,1093677637))))endifif GetUnitAbilityLevel(u,1093681719)>0 thenset b=b+(I2R(GetHeroInt(u,true))*(.01+.005*I2R(GetUnitAbilityLevel(u,1093677618))))endifif GetUnitAbilityLevel(u,1110454867)>0 thenset b=b+(GetUnitState((u),UNIT_STATE_MAX_MANA))*.05endifendifreturn WB+bendfunctionfunction vc takes unit u returns integerif GetUnitAbilityLevel(u,1113746543)>0 thenreturn LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1113746543)elsereturn 0endifendfunctionfunction xc takes unit u,unit tu,integer wB,real WB,real ic,boolean ac,boolean Vc,boolean Ec returns reallocal real jc=0local real fs=0local real b=1local integer lv=0local string array dtset dt[1]="SPB_FIR"set dt[2]="SPB_DRK"set dt[3]="SPB_ICE"set dt[4]="SPB_LIG"set jc=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP_DMG"))*icset fs=WB+jcset b=b+LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_DMG"))if wB>0 and wB<=4 thenset b=b+LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash(dt[wB]))endifset lv=GetUnitAbilityLevel(u,1093678158)if lv>0 thenset fs=fs+(lv*4*ic)endifif GetUnitAbilityLevel(u,1110454867)>0 thenset b=b+1endifif GetUnitAbilityLevel(u,1110455365)>0 and wB==pR thenset b=b+.5endifif GetUnitAbilityLevel(tu,1112433768)>0 and wB==1 and GetUnitAbilityLevel(u,1093677641)>0 thenset b=b+.02+.04*GetUnitAbilityLevel(u,1093677641)endifif GetUnitAbilityLevel(tu,1093682241)>0 and wB==pR thenset b=b+.05*LoadInteger(Ne,(StringHash(I2S(GetHandleId((tu))))),1093682233)endifif GetUnitAbilityLevel(u,1113813609)>0 or GetUnitAbilityLevel(u,1093678658)>0 or GetUnitAbilityLevel(tu,1093679159)>0 thenset b=b-.5endifif Vc and GetUnitAbilityLevel(tu,1097164658)>0 thenset b=b-.75endifset fs=fs*bif fs<0 thenset fs=0endifreturn fsendfunctionfunction Xc takes unit u,unit tu,real WB,real ic,boolean IN,boolean Ec returns reallocal real Oc=0local real b=1local real jc=0local integer lv=0set Q=FALSEset S=FALSEset T=INset U=Ecset jc=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP_HEL"))*icset Oc=WB+jcset b=b+LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_HEL"))if GetUnitAbilityLevel(tu,1110455094)>0 thenset b=b+.1elseif GetUnitAbilityLevel(tu,1110454614)>0 thenset b=b+.07elseif GetUnitAbilityLevel(tu,1110454613)>0 thenset b=b+.05elseif GetUnitAbilityLevel(tu,1113680738)>0 thenset b=b+.03endifif GetUnitAbilityLevel(tu,1114205798)>0 thenset b=b+.15endifif GetUnitAbilityLevel(tu,1093678896)>0 and not(IN)thenset b=b+.3call UnitRemoveAbility(tu,1093678896)call UnitRemoveAbility(tu,1110454356)endifif GetUnitAbilityLevel(tu,1110454328)>0 or GetUnitAbilityLevel(tu,1093678670)>0 or GetUnitAbilityLevel(tu,1093681716)>0 thenset b=b-.5endifif GetUnitAbilityLevel(tu,1093677889)>0 thenset b=b-.4endifif GetUnitAbilityLevel(tu,1093682231)>0 thenset b=b-.75endifset Oc=Oc*bif Oc<0 thenset Oc=0endifreturn Ocendfunctionfunction Rc takes integer Ic,unit u,unit tu,integer wB,real WB,real ic,boolean ac,boolean Vc,boolean Ec returns reallocal real b=0local real b2=0local integer lv=0local real splocal real Acif Ic==0 thenset Ac=xc(u,tu,wB,WB,ic,ac,Vc,Ec)elseif Ic==1 thenset Ac=Xc(u,tu,WB,ic,ac,Ec)elseset Ac=0endifset sp=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP"))*icset b=1.+LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB"))if Ic==0 thenset b2=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_DMG"))elseif Ic==1 thenset b2=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_HEL"))endifset lv=GetUnitAbilityLevel(u,1093677394)if lv>0 thenset sp=sp+(GetHeroInt(u,true)*(.1+.1*I2R(lv))*ic)endifif vc(u)>0 thenset b=b+(.2+.05*vc(u))endifset b=b+(.04*GetUnitAbilityLevel(u,1093677624))if GetUnitAbilityLevel(u,1093679439)>0 thenset b=b+.3endifif GetUnitAbilityLevel(u,1110455113)>0 thenset b=b+.3endifif GetUnitAbilityLevel(u,1110455113)>0 thenset b=b+.3endifif GetUnitAbilityLevel(u,1093679436)>0 thenset b=b+.04endifreturn(sp*(b+b2))+Ac*bendfunctionfunction Nc takes unit u,real r returns nothinglocal real c=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("NOR_DMGB"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("NOR_DMGB"),c+r)endfunctionfunction bc takes unit u,real r returns nothinglocal real c=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("NOR_DMGB"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("NOR_DMGB"),c-r)endfunctionfunction Bc takes unit u,unit tu returns reallocal real r=1.+LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("NOR_DMGB"))return rendfunctionfunction cc takes unit u,real r returns nothinglocal real c=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("NOR_CRT"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("NOR_CRT"),c+r)endfunctionfunction Cc takes unit u,real r returns nothinglocal real c=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("NOR_CRT"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("NOR_CRT"),c-r)endfunctionfunction Dc takes unit u,unit tu returns integerlocal real r=GetUnitAbilityLevel(u,1093677121)+3set r=r+LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("NOR_CRT"))return R2I(r)endfunctionfunction fc takes unit u,unit tu,integer wB,real WB,real ic,boolean ac,boolean Vc,boolean Ec returns reallocal real fs=((LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),StringHash("ATT")))+GetRandomInt(wR,WR))*iclocal real db=SB(u)*iclocal real b=1set b=Bc(u,tu)set fs=WB+fsif GetUnitAbilityLevel(u,1093679176)>0 thenset b=b+5endifif GetUnitAbilityLevel(u,1093682225)>0 thenset b=b+3endifif GetUnitAbilityLevel(u,1093679413)>0 thenset b=b+1endifif GetUnitAbilityLevel(u,1111843186)>0 thenset b=b+pA(u,1111843186)*.05endifif GetUnitAbilityLevel(u,1110455095)>0 thenset b=b+.25elseif GetUnitAbilityLevel(u,1110454871)>0 thenset b=b+.2elseif GetUnitAbilityLevel(u,1110454870)>0 thenset b=b+.15elseif GetUnitAbilityLevel(u,1114795873)>0 thenset b=b+.1endifif GetUnitAbilityLevel(u,1110455113)>0 thenset b=b+.2endifif GetUnitAbilityLevel(u,1110454867)>0 thenset b=b+1endifif GetUnitAbilityLevel(u,1113813609)>0 thenset b=b-.5endifif GetUnitAbilityLevel(tu,1093679159)>0 thenset b=b-.5endifif Vc and GetUnitAbilityLevel(tu,1097164658)>0 thenset b=b-.75endifreturn fs*b+dbendfunctionfunction Fc takes unit u,integer gc returns nothingset gc=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1296651091)+gcif gc<75 thencall SetUnitAbilityLevel(u,1093677113,gc-3)elsecall SetUnitAbilityLevel(u,1093677113,72)endifcall SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1296651091,gc)endfunctionfunction Gc takes unit u,boolean b returns integerif b thenreturn LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1296651091)elsereturn GetUnitAbilityLevel(u,1093677113)+3endifendfunctionfunction hc takes unit u,integer EN returns nothingset EN=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1430475348)+ENif EN<75 thencall SetUnitAbilityLevel(u,1093677121,EN-3)elsecall SetUnitAbilityLevel(u,1093677121,72)endifcall SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1430475348,EN)endfunctionfunction Hc takes unit u,boolean b returns integerlocal integer ENif b thenreturn LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1430475348)elsereturn GetUnitAbilityLevel(u,1093677121)+3endifendfunctionfunction Jc takes unit u,unit tu returns integerlocal integer EN=Hc(u,false)local integer lvset lv=GetUnitAbilityLevel(u,1093682247)if lv>0 and GetUnitAbilityLevel(u,1093681969)>0 thenset EN=EN+7*GetUnitAbilityLevel(u,1093681969)+7endifset lv=GetUnitAbilityLevel(tu,1113812070)if lv>0 thenset EN=EN+15endifreturn ENendfunctionfunction kc takes unit u,integer v,boolean b returns nothingif(LoadBoolean(Ne,(StringHash(I2S(GetHandleId(((u)))))),1919837288))thenif b thencall ModifyHeroSkillPoints(u,2,1)elseif v>0 thencall ModifyHeroSkillPoints(u,0,1)endifcall SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("LvPoint"),v)endifendfunctionfunction Kc takes unit u,integer v returns nothinglocal integer c=0if(LoadBoolean(Ne,(StringHash(I2S(GetHandleId(((u)))))),1919837288))thencall SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SkillPoint"),v)elseset c=v/ 10call bA(I2S(c),5)call ModifyHeroSkillPoints(u,0,c)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SkillPoint"),v-c*10)endifendfunctionfunction Lc takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer i=0local integer j=0local integer s=0local integer Mc=0local integer pc=0local integer tc=0local boolean b=truelocal item tt=GetManipulatedItem()local integer hN=10local item ct=nullcall bA("HeCheng",5)set tt=GN(tt,true)if IsItemPowerup(tt)thencall bA("HeCheng Exit",5)returnendifif H thencall DisableTrigger(Xi)call DN(u,tt,true)call EnableTrigger(Xi)endifset i=1loopexitwhen Bv[i*hN]==nullset j=1set b=trueif Bv[i*hN]!=null thenloopexitwhen j>hN-1set s=(i-1)*hN+jset tc=Bv[s]set Mc=cv[s]if Mc==0 thenset Mc=1endifset pc=0if tc!=null thenset pc=HN(u,tc)if pc<Mc thenset b=falseexitwhen trueendifendifset j=j+1endloopelseset b=falseendifif b thenset j=1loopexitwhen j>hN-1set s=(i-1)*hN+jset Mc=IMaxBJ(1,cv[s])call DisableTrigger(Ri)call CN(u,Bv[s],Mc)call EnableTrigger(Ri)set j=j+1endloopcall DN(u,CreateItem(Bv[i*hN],0,0),false)call DestroyEffect(AddSpecialEffectTargetUnitBJ("origin",u,"Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl"))exitwhen trueendifset i=i+1endloopcall gN(u)endfunctionfunction Pc takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1093677364)local location LIlocal group glocal integer lv=GetUnitAbilityLevel(u,1093677364)local unit cu=nullset LI=GetUnitLoc(u)set g=sI(1200,LI)if lv==0 thencall PauseTimer(t)call DestroyTimer(t)elseloopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if qB(u,cu,true)thenif GetUnitAbilityLevel(cu,1112039780)>0 and pA(cu,1112039780)<lv thencall QA(cu,1112039780,lv)endifendifendloopendifcall RemoveLocation(LI)call DestroyGroup(g)endfunctionfunction qc takes unit u returns nothinglocal timer t=CreateTimer()call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1093677364,u)call TimerStart(t,1.5,true,function Pc)endfunctionfunction Qc takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1093677658)local location LI=GetUnitLoc(u)local group g=sI(1200,LI)local integer lv=GetUnitAbilityLevel(u,1093677658)local unit cu=nullif lv==0 thencall PauseTimer(t)call DestroyTimer(t)elseloopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if qB(u,cu,true)thenif GetUnitAbilityLevel(cu,1111843186)>0 and pA(cu,1111843186)<lv thencall QA(cu,1111843186,lv)endifendifendloopendifcall RemoveLocation(LI)call DestroyGroup(g)endfunctionfunction sc takes unit u returns nothinglocal timer t=CreateTimer()call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1093677658,u)call TimerStart(t,1.5,true,function Qc)endfunctionfunction Sc takes unit u,integer it returns itemlocal item fN=CreateItem(it,0,0)call DN(u,fN,false)return fNendfunctionfunction Tc takes unit u,integer c returns nothingcall Kc(u,(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),StringHash("SkillPoint")))+c)endfunctionfunction uc takes integer c returns nothinglocal integer i=1local unit u=nullloopexitwhen i>GR+3set u=Nv[i]if u!=null and IsUnitType(u,UNIT_TYPE_HERO)thencall Tc(u,c)endifset i=i+1endloopendfunctionfunction Uc takes unit u returns nothinglocal integer c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),2002870895)local integer nc=8if eR==null thenreturnendifset c=c+1call eN(GetOwningPlayer(u),0,0,10,false,"|cffD07070挖宝专家|r|cffeeff00 ("+I2S(c)+"/"+I2S(nc)+")|r")call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),2002870895,c)if c>=nc thencall SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((eR))))),StringHash("AV10TU"),u)call TriggerExecute(eR)endifendfunctionfunction ewsp takes nothing returns booleanreturn GetUnitTypeId(GetTriggerUnit())!=1702327152endfunctionfunction wc takes unit u returns nothingcall UnitAddAbility(u,1095332967)call UnitRemoveAbility(u,1095332967)endfunctionfunction Wc takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("CDU"))local integer a=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("CDA"))call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("CDT"),null)call DestroyTimer(t)endfunctionfunction yc takes unit u,integer a,real Yc returns nothinglocal timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("CDT"+I2S(a)))if t==null thenset t=CreateTimer()endifcall SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("CDT"+I2S(a)),t)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("CDU"),u)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("CDA"),a)call TimerStart(t,Yc,false,function Wc)endfunctionfunction zc takes unit u,integer a returns reallocal timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("CDT"+I2S(a)))return TimerGetRemaining(t)endfunctionfunction Zc takes unit u,integer a,real Yc,boolean vC returns nothingif zc(u,a)>Yc and vC thenreturnendifcall yc(u,a,Yc)endfunctionfunction eC takes unit u,unit tu,location LI,integer PA,integer lv,string xC,real oC returns unitlocal real f=bj_RADTODEG*Atan2(GetUnitY(tu)-GetLocationY(LI),GetUnitX(tu)-GetLocationX(LI))local unit lu=CreateUnitAtLoc(GetOwningPlayer(u),1702327152,LI,f)local location pif oC==0 thenset oC=1endifcall SetUnitScale(lu,oC,oC,oC)call SetUnitFlyHeight(lu,GetUnitFlyHeight(u),0)call UnitApplyTimedLife(lu,1112820806,3)call UnitAddAbility(lu,PA)call SetUnitAbilityLevelSwapped(PA,lu,lv)if not(IssueTargetOrder(lu,xC,tu))thenendifreturn luendfunctionfunction rC takes integer c returns stringlocal string r=""local integer iset i=1loopexitwhen i>cset r=r+"■"set i=i+1endloopset i=1loopexitwhen i>10-cset r=r+" "set i=i+1endloopreturn rendfunctionfunction NK takes unit u returns booleanreturn IsUnitType(u,UNIT_TYPE_GIANT)or IsUnitType(u,UNIT_TYPE_ANCIENT)or IsUnitType(u,UNIT_TYPE_SAPPER)endfunctionfunction iC takes unit u,unit tu,boolean aC returns nothingset ue=nullloopexitwhen not(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)if aC and tu!=null thencall SetUnitFacing(u,bj_RADTODEG*Atan2(GetUnitY(tu)-GetUnitY(u),GetUnitX(tu)-GetUnitX(u)))endifcall XA(.01)endloopendfunctionfunction nC takes nothing returns nothinglocal integer dA=7local integer VC=4local integer iclocal timer tr=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((tr))))),StringHash("u"))local string EC=LoadStr(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("other"))local string XC=LoadStr(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("CastingSpellName"))local real nt=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("now_time"))local real st=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("cast_time"))local texttag OC=LoadTextTagHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("tag"))local texttag RC=LoadTextTagHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("tag2"))local boolean IC=LoadBoolean(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("bbb"))local string AC=""if(GetUnitCurrentOrder(u)==String2OrderIdBJ(EC)or EC=="")and VA(u)==false thenset nt=nt+50if IC thenset ic=100-R2I(nt*100/ st)set AC=rC(10-R2I(nt*10/ st))elseset ic=R2I(nt*100/ st)set AC=rC(R2I(nt*10/ st))endifcall SetTextTagColorBJ(OC,100,ic,0,0)call SetTextTagColorBJ(RC,100,ic,0,0)call SetTextTagTextBJ(OC,XC+"["+I2S(ic)+"%]",dA)call SetTextTagTextBJ(RC,AC,VC)if nt>=st thencall SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1937012083,3)call SetTextTagAge(OC,0)call SetTextTagAge(RC,0)call SetTextTagLifespanBJ(OC,1)call SetTextTagLifespanBJ(RC,1)call SetTextTagFadepointBJ(OC,.5)call SetTextTagFadepointBJ(RC,.5)call SetTextTagPermanent(OC,false)call SetTextTagPermanent(RC,false)call PauseTimer(tr)call DestroyTimer(tr)call IssueImmediateOrderById(u,851972)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("CastAbility"),0)call SaveStr(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("other"),"")call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("u"),u)returnendifelsecall SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1937012083,2)call PauseTimer(tr)call DestroyTimer(tr)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("CastAbility"),0)call SetTextTagTextBJ(OC,XC+"[被打断]",dA)call SetTextTagAge(OC,0)call SetTextTagLifespanBJ(OC,1)call SetTextTagFadepointBJ(OC,.5)call SetTextTagPermanent(OC,false)call SetTextTagAge(OC,0)call SetTextTagLifespanBJ(RC,1)call SetTextTagFadepointBJ(RC,.5)call SetTextTagPermanent(RC,false)call IssueImmediateOrderById(u,851972)returnendifcall SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("now_time"),nt)returnendfunctionfunction NC takes unit u,real bC,string BC,string EC,boolean aC,integer PA returns nothinglocal timer tr=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("tr"))local texttag OC=LoadTextTagHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("tag"))local texttag RC=LoadTextTagHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("tag2"))local real x=GetUnitX(u)local real y=GetUnitX(u)local player p=GetOwningPlayer(u)if LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1937012083)==1 thenreturnendifcall SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1937012083,1)set tr=CreateTimer()set OC=CreateTextTagUnitBJ("",u,0,0,255,0,0,0)call SetTextTagPos(OC,GetUnitX(u)-58,GetUnitY(u),75)set RC=CreateTextTagUnitBJ("",u,-25,0,255,255,0,0)call SetTextTagPos(RC,GetUnitX(u)-58,GetUnitY(u),50)if p!=Vv thencall ShowTextTagForceBJ(false,OC,bj_FORCE_ALL_PLAYERS)call ShowTextTagForceBJ(false,RC,bj_FORCE_ALL_PLAYERS)endifcall ShowTextTagForceBJ(true,OC,SI(p))call ShowTextTagForceBJ(true,RC,SI(p))call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((tr))))),StringHash("u"),u)call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("tr"),tr)call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("cast_time"),bC*1000)call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("now_time"),0)call SaveStr(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("other"),EC)call SaveTextTagHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("tag"),OC)call SaveTextTagHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("tag2"),RC)call SaveStr(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("CastingSpellName"),BC)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("CastAbility"),PA)call SaveBoolean(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("bbb"),Pe)set Pe=falsecall TimerStart(tr,.05,true,function nC)if Ue thencall iC(u,ue,aC)elseset Ue=trueendifendfunctionfunction cC takes unit u returns booleanreturn not(IsUnitType(u,UNIT_TYPE_ANCIENT)or IsUnitType(u,UNIT_TYPE_SAPPER))endfunctionfunction CC takes unit u,boolean b returns nothingif b thencall UnitAddType(u,UNIT_TYPE_SAPPER)elsecall UnitRemoveType(u,UNIT_TYPE_SAPPER)endifendfunctionfunction dC takes unit u,unit tu,real t returns booleanlocal integer DC=LoadInteger(Ne,(StringHash(I2S(GetHandleId((tu))))),1937010275)local location LIif cC(tu)and(not(zc((tu),(1853060206))>0))thenif(not(zc((tu),(1937012078))>0))thenset DC=1call yc(tu,1937012078,15)elseset DC=DC+1endifif DC>=3 thencall yc(tu,1853060206,15)endifset LI=GetUnitLoc(u)call eC(u,tu,LI,1095267426,1,"thunderbolt",1)call vB(tu,1112560453,0,t,true)call RemoveLocation(LI)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((tu))))),1937010275,DC)return trueendifreturn falseendfunctionfunction fC takes unit u,unit tu,real t returns booleanlocal location LIif not(IsUnitType(u,UNIT_TYPE_ANCIENT))thenset LI=GetUnitLoc(u)call eC(u,tu,LI,1093677382,1,"soulburn",1)call vB(tu,1112437609,0,t,true)call RemoveLocation(LI)return trueendifreturn falseendfunctionfunction FC takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228)local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1952543317)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thencall SetUnitFacing(u,bj_RADTODEG*Atan2(GetUnitY(tu)-GetUnitY(u),GetUnitX(tu)-GetUnitX(u)))elsecall FlushChildHashtable(Ne,(StringHash(I2S(GetHandleId((t))))))call PauseTimer(t)call DestroyTimer(t)endifendfunctionfunction gC takes unit u,unit tu,real fw,integer GC returns grouplocal location LI=nulllocal unit nu=nulllocal unit cu=nulllocal group dB=CreateGroup()local group rg=CreateGroup()local integer c=0set nu=tucall GroupAddUnit(rg,tu)call GroupAddUnit(dB,u)call GroupAddUnit(dB,tu)loopexitwhen nu==null or c>=GCset LI=GetUnitLoc(nu)set nu=nullloopexitwhen nu!=nullset cu=CB(LI,fw,dB)exitwhen cu==nullif SA(u,cu,false,true)and not(IsUnitInGroup(cu,rg))and not(IsUnitInGroup(cu,dB))thenset nu=cucall GroupAddUnit(rg,nu)set c=c+1endifcall GroupAddUnit(dB,cu)endloopcall RemoveLocation(LI)endloopcall DestroyGroup(dB)return rgendfunctionfunction hC takes trigger AA,unit u,unit tu returns nothingcall SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((AA))))),1970170228,u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((AA))))),1952543335,tu)call TriggerExecute(AA)endfunctionfunction HC takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228)local real nx=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1819239256)local real ny=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1819239257)local real x=GetUnitX(u)local real y=GetUnitY(u)local real ms=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1936745828)local real sp=ms*GetUnitMoveSpeed(u)*.02if VA(u)or(GetUnitState((u),UNIT_STATE_LIFE))<=0 thencall PauseTimer(t)call DestroyTimer(t)returnendifif mN(nx,ny,x,y)>sp thenset x=x+(sp)*Cos(GetUnitFacing(u)*bj_DEGTORAD)set y=y+(sp)*Sin(GetUnitFacing(u)*bj_DEGTORAD)call SetUnitX(u,x)call SetUnitY(u,y)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1819239256,x)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1819239257,y)call SetUnitTimeScale(u,1.+ms)elsecall SetUnitTimeScale(u,1.)endifendfunctionfunction jC takes unit u,integer sp returns nothinglocal timer tif sp>0 thenset t=CreateTimer()call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228,u)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1819239256,GetUnitX(u))call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1819239257,GetUnitY(u))call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1936745828,sp)call TimerStart(t,.02,true,function HC)endifendfunctionfunction JC takes unit u returns integerif UnitHasItemOfTypeBJ(u,1227895089)thenreturn 6endifreturn 5endfunctionfunction kC takes unit u,unit tu,integer KC,real t returns booleanlocal location LIif IsUnitType(tu,UNIT_TYPE_ANCIENT)thenreturn falseendifif KC==1 thencall vB(tu,1093678167,1110454618,t,true)elseif KC==2 thencall vB(tu,1093679189,1110454354,t,true)elseif KC==3 and GetUnitAbilityLevel(tu,1093682243)==0 thencall vB(tu,1093682243,1110455377,15,true)set LI=GetUnitLoc(tu)call eC(u,tu,LI,1095267426,3,"thunderbolt",1)call vB(tu,1110454617,0,t,true)call RemoveLocation(LI)elsereturn falseendifreturn trueendfunctionfunction lC takes unit u,integer jl,integer c returns nothinglocal integer lv=GetUnitAbilityLevel(u,1093678158)local integer LC=JC(u)if GetRandomInt(1,100)>jl or VA(u)thenreturnendifset lv=IMinBJ(lv+c,LC)call vB(u,1093678158,1110455127,30,true)call UnitRemoveAbility(u,1110455127)call SetUnitAbilityLevel(u,1093678158,lv)call eN(GetOwningPlayer(u),0,0,5,false,"|cff8080e0寒冰之力|r|cffe08080  "+I2S(lv)+"|r")endfunctionfunction mC takes unit u,boolean MC returns integerlocal integer gA=GetUnitAbilityLevel(u,1093678158)local integer lv=0local integer lB=JC(u)if GetUnitAbilityLevel(u,1093682502)>0 thenset gA=gA+1endifif MC thencall UnitRemoveAbility(u,1093678158)call UnitRemoveAbility(u,1110455127)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("ColdBuff"),0)if UnitHasItemOfTypeBJ(u,1227895089)and gA>1 thencall lC(u,100,GetRandomInt(1,2))endifendifreturn IMinBJ(gA,lB)endfunctionfunction pC takes unit u,boolean MC returns reallocal real db=1set db=db+.2*I2R(GetUnitAbilityLevel(u,1093678918))if MC thencall UnitRemoveAbility(u,1093678918)call UnitRemoveAbility(u,1110454362)endifreturn dbendfunctionfunction PC takes unit u,integer v returns nothinglocal integer c=GetUnitAbilityLevel(u,1093678918)call vB(u,1093678918,1110454362,12,true)if GetUnitAbilityLevel(u,1093682007)>0 and GetRandomInt(1,100)<=30 thenset c=c+v+1call SetUnitAbilityLevel(u,1093678918,c)elseset c=c+vcall SetUnitAbilityLevel(u,1093678918,c)endifcall wc(u)set c=GetUnitAbilityLevel(u,1093678918)call eN(GetOwningPlayer(u),0,0,5,false,"|cff5050F0闪电过载|r|cffe08080  "+I2S(c)+"|r")endfunctionfunction qC takes unit u,unit tu,integer jl returns reallocal integer lv=GetUnitAbilityLevel(u,1093677360)if lv>0 and GetRandomInt(1,100)<=jl thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl",tu,"origin"))if not(IsUnitType((tu),UNIT_TYPE_ANCIENT))thencall vB(tu,1093678129,1110455120,3,true)endifreturn GetRandomReal(5,25)+20*lvendifreturn .0endfunctionfunction SavePlayerName takes nothing returns nothinglocal integer i=1loopexitwhen i>11set W[i]=GetPlayerName(Player(i-1))set i=i+1endloopendfunctionfunction LoadPlayerName takes nothing returns nothinglocal integer i=1loopexitwhen i>11call SetPlayerName(Player(i-1),W[i])set i=i+1endloopendfunctionfunction QC takes string s,boolean sC returns integerlocal string SC=" 	

 !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~€亗儎厗噲墛媽崕彁憭摂晼棙櫄洔潪煚、￥ウЖ┆辈炒刀犯购患骄坷谅媚牌侨墒颂臀闲岩釉罩棕仝圮蒉哙徕沅彐玷殛腱眍镳耱篝貊鼬"local integer i=0local integer tlocal integer l2=StringLength(SC)local integer l=StringLength(s)local integer id=0local integer lB=1if sC thenset id=StringHash(s)elseloopset i=i+1exitwhen i>lset t=1loopexitwhen t>l2if SubString(s,i-1,i)==SubString(SC,t-1,t)thenset id=id+t*i*lBset lB=lB*10exitwhen trueendifset t=t+1endloopendloopendifreturn idendfunctionfunction tC takes string s returns stringlocal string r=""local string t=""local integer i=1local integer l=StringLength(s)loopexitwhen i>lset t=SubString(s,i-1,i)if t!="-" and t!=" " thenset r=r+tendifset i=i+1endloopreturn rendfunctionfunction TC takes player p,integer f,string ps returns nothingif GetLocalPlayer()==p thencall PreloadGenClear()call PreloadGenStart()call Preload("
cls
@ECHO ----------- SPELL WAR IV -----------
@ECHO Your Battle Achievement is:"+I2S(f)+"
@ECHO Battle Achievement Code is:"+ps+"
@ECHO ------------------------------------ 

pause
exit
")call PreloadGenEnd("Spell IV\\"+Lb(p)+".bat")call PreloadGenEnd("Spell IV\\LastGame.bat")endifendfunctionfunction uC takes integer id returns nothingloopexitwhen IsUnitType(Nv[id],UNIT_TYPE_HERO)call XA(.01)endloopreturnendfunctionfunction UC takes integer f returns integerif f>=250000 thenreturn 25endifif f>=200000 thenreturn 24endifif f>=175000 thenreturn 23endifif f>=150000 thenreturn 22endifif f>=125000 thenreturn 21endifif f>=105000 thenreturn 20endifif f>=90000 thenreturn 19endifif f>=80000 thenreturn 18endifif f>=70000 thenreturn 17endifif f>=60000 thenreturn 16endifif f>=50000 thenreturn 15endifif f>=45000 thenreturn 14endifif f>=40000 thenreturn 13endifif f>=36000 thenreturn 12endifif f>=32000 thenreturn 11endifif f>=28000 thenreturn 10endifif f>=24000 thenreturn 9endifif f>=20000 thenreturn 8endifif f>=16000 thenreturn 7endifif f>=13000 thenreturn 6endifif f>=10000 thenreturn 5endifif f>=8000 thenreturn 4endifif f>=6000 thenreturn 3endifif f>=4000 thenreturn 2endifif f>=2000 thenreturn 1endifreturn 0endfunctionfunction wC takes unit u,integer r returns nothinglocal item itif r>1 thenendifif r>2 thenendifif r>3 thenendifif r>4 thenendifif r>5 thenendifif r>6 thenendifif r>7 thenendifif r>8 thenendifif r>9 thenendifif r>10 thenendifif r>11 thenendifif r>12 thenendifif r>13 thenendifif r>14 thenendifif r>15 thenendifif r>16 thenendifif r>17 thenendifif r>18 thenendifcall SetUnitAbilityLevel(u,1093679441,r)endfunctionfunction WC takes string s returns stringlocal string SC="0123456789"local string r=""local string t=""local integer l=StringLength(s)local integer i=0local integer j=0local boolean yC=falseset i=1loopexitwhen i>lset t=SubStringBJ(s,i,i)set yC=falseset j=1loopexitwhen j>10if t==SubStringBJ(SC,j,j)thenset r=r+"|cffeeee44"+t+"|r"set yC=trueexitwhen trueendifset j=j+1endloopif t=="O" thenset t="o"endifif not(yC)thenset r=r+"|cff0088dd"+t+"|r"endifif i==4 thenset r=r+"|cffdddddd - |r"endifset i=i+1endloopreturn rendfunctionfunction YC takes integer v,string SC returns stringlocal integer ml=StringLength(SC)local string r=""if v>=ml thenset v=ModuloInteger(v,ml)endifset r=SubString(SC,v,v+1)return rendfunctionfunction zC takes string s,string SC returns integerlocal integer ml=StringLength(SC)local integer i=1loopexitwhen i>mlif SubString(SC,i-1,i)==s thenreturn i-1endifset i=i+1endloopreturn-1endfunctionfunction ZC takes string vd,integer ed,boolean sC returns stringlocal integer xd=GetRandomInt(0,35)local string SC=ie[xd]local string od=ie[18]local integer i=0local integer ml=StringLength(SC)local integer rd=GetRandomInt(0,ml-1)local integer XN=ModuloInteger(QC(vd,sC),1296)local integer ad=0local string array ndlocal string r=""local integer FNif ed>1679615 thenset ed=1679615endifset ad=ModuloInteger(ed+XN*10+rd*1000,1296)set nd[1]=YC(ad/ 36,SC)set nd[2]=YC(ModuloInteger(ad,36),SC)set nd[3]=YC(rd,SC)set nd[4]=YC(xd,od)set nd[5]=YC(ed/ 46656+zC(nd[3],SC)+zC(nd[1],SC),SC)set nd[6]=YC(ed/ 1296+zC(nd[5],SC)+zC(nd[2],SC),SC)set nd[7]=YC(ed/ 36+zC(nd[6],SC)+zC(nd[4],SC),SC)set nd[8]=YC(ModuloInteger(ed,36)+zC(nd[7],SC)+zC(nd[5],SC),SC)set i=1loopexitwhen i>8set r=r+nd[i]set i=i+1endloopreturn rendfunctionfunction Vd takes string vd,string s,boolean sC returns integerlocal integer i=0local string od=ie[18]local integer xdlocal string SClocal integer ml=36local integer rd=0local integer XN=0local integer ad=0local integer Ed=0local string array ndlocal integer f=0set s=StringCase(tC(s),true)if StringLength(s)!=8 thenreturn-1endifset i=1loopexitwhen i>8set nd[i]=SubString(s,i-1,i)set i=i+1endloopset xd=zC(nd[4],od)set SC=ie[xd]set ad=zC(nd[1],SC)*36+zC(nd[2],SC)set rd=zC(nd[3],SC)set XN=ModuloInteger(QC(vd,sC),ml*ml)set f=46656*ModuloInteger(zC(nd[5],SC)-zC(nd[3],SC)-zC(nd[1],SC)+72,36)set f=f+1296*ModuloInteger(zC(nd[6],SC)-zC(nd[5],SC)-zC(nd[2],SC)+72,36)set f=f+36*ModuloInteger(zC(nd[7],SC)-zC(nd[6],SC)-zC(nd[4],SC)+72,36)set f=f+ModuloInteger(zC(nd[8],SC)-zC(nd[7],SC)-zC(nd[5],SC)+72,36)set Ed=ModuloInteger(f+XN*10+rd*1000,1296)if ad!=Ed thenset f=-1endifreturn fendfunctionfunction Xd takes integer p returns integercall bA("lp"+I2S(p),5)return rb(p-1,"战绩f")endfunctionfunction Od takes integer p,integer f returns booleancall bA("sp"+I2S(p),5)call ob(p-1,"战绩f",f)call ob(p-1,"战绩",UC(f))return(SaveGameCache(yN((p-1))))endfunctionfunction Rd takes player p,string s,integer v returns nothinglocal integer i=0local integer c=0if p==null thenloopexitwhen i>10if GetPlayerController(Player(i))==MAP_CONTROL_USER and GetPlayerSlotState(Player(i))==PLAYER_SLOT_STATE_PLAYING thenset c=rb(i,s)+vcall ob(i,s,c)endifset i=i+1endloopelseset c=rb(GetPlayerId(p),s)+vcall ob(GetPlayerId(p),s,c)endifendfunctionfunction Id takes player p,string ps,integer f returns nothinglocal integer i=((1+GetPlayerId((p))))local string pid=I2S(QC(Lb(p),false))if GetLocalPlayer()==p thencall TC(p,f,ps)endifendfunctionfunction Ad takes player p,unit u returns nothinglocal integer c=0local string slocal integer i=((1+GetPlayerId((p))))local integer r=0if GetPlayerSlotState(p)!=PLAYER_SLOT_STATE_PLAYING or GetPlayerController(p)!=MAP_CONTROL_USER thenreturnendifcall Xd(i)set c=Xd(i)if c>0 and c<MR thenif rb(i-1,"战绩b")>0 thenset K=trueset r=UC(c)set Ve[i]=rcall Kb(p,c)call SetPlayerState(p,PLAYER_STATE_RESOURCE_LUMBER,r)call eN(p,0,0,15,false,"|cff7070b0自动载入战绩成功,您的战绩为:|r|cffffee00"+I2S(c)+"|r")call eN(p,0,0,15,false,"|cff7070b0Rank等级为:|r|cffffee00"+I2S(r)+"|r")call wC(Nv[i],r)elsecall eN(p,0,0,15,false,"|cffffee00您的11战绩已被重置|r")call ob(i-1,"战绩b",1)call ob(i-1,"战绩f",0)call ob(i-1,"战绩",0)call SaveGameCache(yN((i-1)))endifendifendfunctionfunction Nd takes unit u,timer t returns booleanif IsUnitType(u,UNIT_TYPE_DEAD)thencall bA("Destroy",5)call PauseTimer(t)call DestroyTimer(t)return falseendifreturn trueendfunctionfunction bd takes integer VB returns booleanreturn VB==1852275249 or VB==1852275250 or VB==1852275251 or VB==1852275252endfunctionfunction Bd takes integer VB returns booleanreturn VB==1852924465 or VB==1852924466 or VB==1852924467 or VB==1852924468endfunctionfunction cd takes integer VB returns booleanreturn VB==1869838129 or VB==1869838130 or VB==1869838131 or VB==1865429040endfunctionfunction Cd takes integer VB returns booleanreturn VB==1852600434 or VB==1848651825 or VB==1848651824 or VB==1848651831endfunctionfunction dd takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228)local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1952543349)local real Dd=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1684170338)local real Fd=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1751279202)local integer gd=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1818325864)local real Gdlocal real hdlocal integer aNlocal integer hpif Nd(u,t)thenset hd=1+fB(tu)*.005set Gd=1+GetUnitAbilityLevel(tu,1093677624)*.08set aN=R2I(Rc(0,tu,null,0,0,Dd*Gd*hd,false,false,false))set hp=R2I((GetUnitState((tu),UNIT_STATE_MAX_LIFE))*Fd*Gd*hd)call sB(u,aN)call kB(u,hp)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1818325864,hp)call LB(u,gd)call hc(u,Hc(tu,true)-Hc(u,true))call Fc(u,Gc(tu,true)-Gc(u,true))call TimerStart(t,2,false,function dd)endifendfunctionfunction Hd takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228)local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1952543349)local real Dd=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1684170338)local real Fd=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1751279202)local integer gd=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1818325864)local real Gdlocal real hdlocal integer aNlocal integer hpif Nd(u,t)thenset hd=1+fB(tu)*.005set Gd=1+GetUnitAbilityLevel(tu,1093677624)*.08set aN=R2I(fc(tu,null,0,0,Dd*Gd*hd,false,false,false))set hp=R2I((GetUnitState((tu),UNIT_STATE_MAX_LIFE))*Fd*Gd*hd)call sB(u,aN)call kB(u,hp)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1818325864,hp)call LB(u,gd)call hc(u,Hc(tu,true)-Hc(u,true))call Fc(u,Gc(tu,true)-Gc(u,true))call TimerStart(t,2,false,function Hd)endifendfunctionfunction jd takes unit u,unit tu,integer Jd,real kd,real Kd returns nothinglocal timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),1936553074)if t!=null thencall PauseTimer(t)call DestroyTimer(t)endifif GetUnitAbilityLevel(u,1093677122)==0 thencall UnitAddAbility(u,1093677122)endifset t=CreateTimer()call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228,u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1952543349,tu)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1684170338,kd)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1751279202,Kd)if Jd==0 thencall TimerStart(t,0,false,function dd)elseif Jd==1 thencall TimerStart(t,0,false,function Hd)endifendfunctionfunction ld takes unit u,unit tu returns integerlocal integer i=1local unit cu=nullif u==null or tu==null thenreturn 0endifloopset cu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1970168680+i)exitwhen cu==nullif cu==tu thenreturn LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1986093928+i)endifset i=i+1endloopreturn 0endfunctionfunction Ld takes unit u,unit tu,integer vb returns nothinglocal integer i=1local unit culocal boolean have=falselocal location ploopset cu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1970168680+i)exitwhen cu==nullif cu==tu thencall SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1986093928+i,vb)returnendifset i=i+1endloopcall SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1970168680+i,tu)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1986093928+i,vb)endfunctionfunction md takes unit u,unit tu,integer vb returns nothinglocal integer ch=0local unit culocal boolean have=falselocal location plocal real tr=PB(tu)local integer i=1set vb=R2I(vb*tr)loopset cu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1970168680+i)exitwhen cu==nullif cu==tu thenset ch=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1986093928+i)exitwhen trueendifset i=i+1endloopcall SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1970168680+i,tu)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1986093928+i,ch+vb)endfunctionfunction Md takes unit u returns booleanlocal boolean b=falseif Z==null thenreturn falseendifset Y=uset b=TriggerEvaluate(Z)set Y=nullreturn bendfunctionfunction pd takes unit u returns nothinglocal integer ch=0local integer i=0local integer j=1local unit cu=nulllocal unit Pd=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId(((u)))))),1970561394))local integer qd=0local integer Qd=0local real sd=1.1local unit ot=nulllocal integer Sd=0local location LIcall Eb()loopset cu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1970168680+i+1)exitwhen cu==nullset ch=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1986093928+i+1)if Pd==cu thenset qd=chendifset i=i+1set P[i]=cuset q[i]=chendloopif IsUnitType(u,UNIT_TYPE_MELEE_ATTACKER)thenset Qd=R2I(qd*1.3)elseset Qd=R2I(qd*1.1)endifif i>0 thencall Xb(i,false)set j=1loopexitwhen j>icall SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1970168680+j,P[j])call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1986093928+j,R2I(q[j]))set j=j+1endloopif(not(zc((u),(1970168678))>0))and(not(SA(u,Pd,false,true))or sA(Pd)or HL(Pd)or Md(Pd))thenset j=1set ot=nullloopexitwhen j>iif Pd!=P[j]and SA(u,P[j],false,true)and not(sA(P[j]))and not(HL(P[j]))and not(Md(P[j]))thenset ot=P[j]set Sd=R2I(q[j])exitwhen trueendifset j=j+1endloopelseif(not(zc((u),(1970168678))>0))thenset j=1set ot=nullloopexitwhen j>iif Pd!=P[j]and SA(u,P[j],false,true)and not(sA(P[j]))and not(HL(P[j]))and not(Md(P[j]))and q[j]>Qd thenset ot=P[j]set Sd=R2I(q[j])exitwhen trueendifset j=j+1endloopendifif ot!=null thenset LI=GetUnitLoc(u)call bA("OT! old:"+GetUnitName(Pd)+" - "+I2S(qd)+" Now:"+GetUnitName(ot)+" - "+I2S(Sd),5)if(IsUnitType((ot),UNIT_TYPE_HERO))thencall BA(GetOwningPlayer(ot),GetOwningPlayer(ot),"正攻击你!",LI,8,GetUnitFlyHeight(u),90,.8,225,32,32,1.2)endifif(IsUnitType((Pd),UNIT_TYPE_HERO))thencall BA(GetOwningPlayer(Pd),GetOwningPlayer(Pd),"目标转换",LI,8,GetUnitFlyHeight(u),90,.8,16,255,16,1.2)endifcall RemoveLocation(LI)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId(((u)))))),1970561394,(ot))endifendifendfunctionfunction Td takes unit u,integer i returns unitif i<1 thenreturn(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId(((u)))))),1970561394))elsereturn LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1970168680+i)endifendfunctionfunction ud takes nothing returns booleanreturn SA(vv,GetFilterUnit(),false,true)and not(sA(GetFilterUnit()))and vv!=GetFilterUnit()endfunctionfunction Ud takes unit u,unit tu returns nothinglocal location LI=nulllocal integer i=0local group g=nulllocal group ng=nulllocal unit cu=nulllocal real la=GetUnitAcquireRange(u)local real lb=0if GetUnitMoveSpeed(u)<GetUnitDefaultMoveSpeed(u)*.05 thenset i=0loopset cu=Td(u,i)exitwhen cu==null or i>64set lb=mN(GetUnitX(u),GetUnitY(u),GetUnitX(cu),GetUnitY(cu))if SA(u,cu,false,true)and not(sA(cu))and not(HL(cu))and lb<la thenset la=lbset tu=cuendifset i=i+1endloopelseif tu==null thenset i=0loopset tu=Td(u,i)exitwhen(tu!=null and SA(u,tu,false,true)and not(HL(tu))and not(sA(tu)))or i>64set i=i+1endloopendifif tu==null thencall bA("New Target",5)set vv=uset g=MI(jv[jR],Condition(function ud))loopset tu=DB(u,g,null)call GroupRemoveUnit(g,tu)exitwhen tu!=null or CountUnitsInGroup(g)==0set i=i+1endloopcall DestroyGroup(g)if tu!=null thencall md(u,tu,0)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId(((u)))))),1970561394,(tu))endifendifcall IB(u,tu)endfunctionfunction wd takes unit cu returns nothinglocal integer i=1loopexitwhen LoadInteger(Ne,(StringHash(I2S(GetHandleId((cu))))),1986093928+i)==nullcall SaveInteger(Ne,(StringHash(I2S(GetHandleId((cu))))),1986093928+i,0)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((cu))))),1970168680+i,null)set i=i+1endloopendfunctionfunction Wd takes unit u returns booleanlocal boolean b=LoadBoolean(Ne,(StringHash(I2S(GetHandleId((u))))),1768843636)call SaveBoolean(Ne,(StringHash(I2S(GetHandleId((u))))),1768843636,true)return not(b)endfunctionfunction Yd takes trigger t returns unitlocal unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetExpiredTimer()))))),1095327573)set Z=tcall pd(u)set Z=nullreturn uendfunctionfunction zd takes nothing returns booleanlocal unit cu=nulllocal group g=nulllocal boolean kl=falseset g=PI(jv[jR])loopset cu=FirstOfGroup(g)exitwhen cu==null or klcall GroupRemoveUnit(g,cu)if GetUnitTypeId(cu)==1853057895 and not(VA(cu))thenset kl=trueendifendloopcall DestroyGroup(g)return klendfunctionfunction Zd takes nothing returns nothingcall KillDestructable(GetEnumDestructable())endfunctionfunction vD takes nothing returns nothinglocal unit u=Yd(null)call Ud(u,null)endfunctionfunction eD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)if(not(zc((u),(1768843636))>0))thencall yc(u,1093678387,GetRandomReal(1,4))call yc(u,1768843636,1200)endifif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif(not(zc((u),(1093678387))>0))and mN(GetUnitX(u),GetUnitY(u),GetUnitX(tu),GetUnitY(tu))>300 and GetRandomInt(1,100)<=10 thenif IssueTargetOrderById(u,852092,tu)thencall yc(u,1093678387,3)returnendifendifcall Ud(u,null)endfunctionfunction xD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local location LI=nulllocal group g=nulllocal unit cu=nulllocal unit mu=nulllocal real ml=0local real l=0if(not(zc((u),(1768843636))>0))thenset ev=ev+1call yc(u,1093681976,GetRandomInt(6,9))call yc(u,1093681977,ModuloInteger(ev,2)*8+8)call yc(u,1768843636,1853252978)call yc(u,1667332729,240)endifif GetUnitAbilityLevel(u,1093679176)==0 and(not(zc((u),(1667332729))>0))thencall UnitAddAbility(u,1093679176)endifif(not(zc((u),(1093681976))>0))thenif IssueTargetOrderById(u,852597,tu)thencall yc(u,1093681976,GetRandomInt(6,8))returnendifendifif(not(zc((u),(1093681977))>0))thenset LI=GetUnitLoc(u)set g=sI(3000,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)and IsUnitType(cu,UNIT_TYPE_HERO)thenset l=mN(GetUnitX(u),GetUnitY(u),GetUnitX(cu),GetUnitY(cu))if l>ml thenset ml=lset mu=cuendifendifendloopif IssueTargetOrderById(u,852588,mu)thencall yc(u,1093681977,15)returnendifendifcall Ud(u,null)endfunctionfunction oD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)local location LIlocal group glocal unit cuif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif(not(zc((u),(1093681736))>0))thencall yc(u,1093681736,999999)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((RX))))),StringHash("u"),u)call TriggerExecute(RX)endifif(not(zc((u),(1093679169))>0))and st>6 thenset LI=GetUnitLoc(u)set g=sI(1600,LI)loopset cu=GroupPickRandomUnit(g)exitwhen(SA(u,cu,false,false)and IsUnitType(cu,UNIT_TYPE_HERO))or cu==nullcall GroupRemoveUnit(g,cu)endloopif cu!=null thenif IssueTargetOrderById(u,852588,cu)thencall yc(u,1093679169,6)returnendifendifendifif(GetUnitState((u),UNIT_STATE_LIFE))/(GetUnitState((u),UNIT_STATE_MAX_LIFE))<=.66 and(not(zc((u),(860248625))>0))thencall hC(AX,u,null)call yc(u,860248625,960051513)endifif(GetUnitState((u),UNIT_STATE_LIFE))/(GetUnitState((u),UNIT_STATE_MAX_LIFE))<=.33 and(not(zc((u),(860248626))>0))thencall hC(AX,u,null)call yc(u,860248626,960051513)endifif(GetUnitState((u),UNIT_STATE_LIFE))/(GetUnitState((u),UNIT_STATE_MAX_LIFE))<=.25 and GetUnitAbilityLevel(u,1093681734)==0 thencall vB(u,1093681734,1110455350,3600,true)endifif(not(zc((u),(1093679161))>0))and st>12 thenset g=PI(jv[jR])loopset cu=GroupPickRandomUnit(g)exitwhen(SA(u,cu,false,false)and IsUnitType(cu,UNIT_TYPE_HERO))or cu==nullcall GroupRemoveUnit(g,cu)endloopcall DestroyGroup(g)if cu!=null thenif IssueTargetOrderById(u,852092,cu)thencall yc(u,1093679161,GetRandomInt(18,24))call yc(u,1093679169,12)returnendifendifendifif(not(zc((u),(1093681731))>0))and st>30 thencall vB(u,1093681731,1110455347,12,true)call yc(u,1093681731,24)call Zc(u,1093679161,8,true)endifcall Ud(u,null)endfunctionfunction rD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)if(not(zc((u),(1768843636))>0))thencall yc(u,1093678901,GetRandomReal(2,10))call yc(u,1768843636,1200)endifif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif(not(zc((u),(1093678901))>0))thenif IssueTargetOrderById(u,852092,tu)thencall yc(u,1093678901,GetRandomInt(12,16))returnendifendifcall Ud(u,null)endfunctionfunction iD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)if(not(zc((u),(1093679415))>0))and GetRandomInt(1,100)<=5 thenif IssueImmediateOrderById(u,852561)thencall yc(u,1093679415,GetRandomInt(30,45))returnendifendifcall Ud(u,null)endfunctionfunction aD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif st>25 and(not(zc((u),(1093679416))>0))thenif IssueTargetOrderById(u,852480,tu)thencall yc(u,1093679416,GetRandomInt(40,50))returnendifendifcall Ud(u,null)endfunctionfunction nD takes nothing returns nothingif not(IsUnitType(GetEnumUnit(),UNIT_TYPE_DEAD))thenset Pv=Pv+1endifendfunctionfunction VD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local group g=LoadGroupHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummedUnit"))local unit lu=nullif g==null thenset g=CreateGroup()call SaveGroupHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummedUnit"),g)endifset Pv=0call ForGroup(g,function nD)if Pv<2 and(not(zc((u),(1802857589))>0))thencall yc(u,1802857589,GetRandomInt(8,12))call SetUnitAnimation(u,"Spell")call gI(1)set lu=CreateUnit(GetOwningPlayer(u),1848651842,GetUnitX(u),GetUnitY(u),GetUnitFacing(u))call GroupAddUnit(g,lu)call SetUnitAnimation(lu,"birth")call PauseUnit(lu,true)call gI(1)call PauseUnit(lu,false)endifcall Ud(u,null)endfunctionfunction ED takes nothing returns nothingif GetUnitTypeId(GetEnumUnit())==1848651826 thenset Pv=Pv+1endifendfunctionfunction XD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local unit culocal location LIlocal timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)local real OD=0local group gif GetUnitAbilityLevel(u,1093679176)==0 and st>480 thencall UnitAddAbility(u,1093679176)endifif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif(not(zc((u),(1093681476))>0))and Le>=2 thencall SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((gO))))),1433299316,u)call TriggerExecute(gO)call yc(u,1093681476,1852143218)endifif GetRandomInt(1,100)<=25 and st>12 and(not(zc((u),(1093678156))>0))thenset LI=GetUnitLoc(u)set cu=BB(LI,3200)call RemoveLocation(LI)if IssuePointOrderById(u,852185,GetUnitX(cu),GetUnitY(cu))thencall yc(u,1093678156,GetRandomInt(15,25)-Le*3)returnendifendifset Pv=0set OD=.4+Le*.1call ForGroup(hv,function ED)if(not(zc((u),(1093678155))>0))and st>20 and((GetUnitState((u),UNIT_STATE_LIFE))/(GetUnitState((u),UNIT_STATE_MAX_LIFE))<OD and Pv<4)thenif IssueImmediateOrderById(u,852667)thencall yc(u,1093678155,8)call yc(u,1093681748,GetRandomInt(4,8))returnendifendifcall Ud(u,null)endfunctionfunction RD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local real dx=GetUnitX(tu)-GetUnitX(u)local real dy=GetUnitY(tu)-GetUnitY(u)local real f=SquareRoot(dx*dx+dy*dy)local timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)if f>600 and GetUnitAbilityLevel(tu,1113943655)==0 and st>8 thenif IssueTargetOrderById(u,852106,tu)thenreturnendifendifcall Ud(u,null)endfunctionfunction ID takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local unit culocal location LIlocal group gif(not(zc((u),(1768843636))>0))thencall yc(u,1093678134,GetRandomReal(2,10))call yc(u,1768843636,1200)endifif(not(zc((u),(1093678134))>0))thenset LI=GetUnitLoc(u)set g=sI(1600,LI)loopset cu=GroupPickRandomUnit(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if GetRandomInt(1,100)<=10 and(GetUnitState((cu),UNIT_STATE_LIFE))/(GetUnitState((cu),UNIT_STATE_MAX_LIFE))<=.75 and IsUnitAliveBJ(cu)and IsUnitInGroup(cu,hv)and GetOwningPlayer(cu)==Vv thenif IssueTargetOrderById(u,852092,cu)thencall yc(u,1093678134,2)call DestroyGroup(g)call RemoveLocation(LI)returnendifendifendloopcall DestroyGroup(g)call RemoveLocation(LI)endifif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifcall Ud(u,null)endfunctionfunction AD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local unit culocal location LIlocal group gif(not(zc((u),(1768843636))>0))thencall yc(u,1093682004,GetRandomReal(2,8))call yc(u,1093682005,GetRandomReal(2,8))call yc(u,1768843636,1200)endifif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif(not(zc((u),(1093682004))>0))thenset LI=GetUnitLoc(u)set g=sI(1600,LI)loopset cu=GroupPickRandomUnit(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if GetRandomInt(1,100)<=25 and(GetUnitState((cu),UNIT_STATE_LIFE))/(GetUnitState((cu),UNIT_STATE_MAX_LIFE))<=.5 and IsUnitAliveBJ(cu)and IsUnitInGroup(cu,hv)and GetOwningPlayer(cu)==Vv thenif IssueTargetOrderById(u,852092,cu)thencall yc(u,1093682004,6)call DestroyGroup(g)call RemoveLocation(LI)returnendifendifendloopcall DestroyGroup(g)call RemoveLocation(LI)endifif(not(zc((u),(1093682005))>0))thenset LI=GetUnitLoc(u)set g=sI(1600,LI)loopset cu=GroupPickRandomUnit(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if GetRandomInt(1,100)<=10 and(GetUnitState((cu),UNIT_STATE_LIFE))/(GetUnitState((cu),UNIT_STATE_MAX_LIFE))<=.8 and IsUnitAliveBJ(cu)and IsUnitInGroup(cu,hv)and GetOwningPlayer(cu)==Vv thenif IssueTargetOrderById(u,852588,cu)thencall yc(u,1093682005,2)call DestroyGroup(g)call RemoveLocation(LI)returnendifendifendloopcall DestroyGroup(g)call RemoveLocation(LI)endifcall Ud(u,null)endfunctionfunction ND takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)if(GetUnitState((u),UNIT_STATE_LIFE))/(GetUnitState((u),UNIT_STATE_MAX_LIFE))<=.3 and(not(zc((u),(1097235065))>0))thenif IssueImmediateOrderById(u,852561)thencall yc(u,1097235065,9999)returnendifendifcall Ud(u,null)endfunctionfunction bD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local unit culocal location LIlocal group glocal boolean ct=falseif(not(zc((u),(1768843636))>0))thencall yc(u,1093678663,GetRandomReal(2,10))call yc(u,1768843636,1200)endifif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif(not(zc((u),(1093678663))>0))thenset LI=GetUnitLoc(u)set g=sI(1600,LI)loopset cu=GroupPickRandomUnit(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if GetRandomInt(1,100)<=10 and(GetUnitState((cu),UNIT_STATE_LIFE))/(GetUnitState((cu),UNIT_STATE_MAX_LIFE))<=.5 and not(IsUnitType(cu,UNIT_TYPE_DEAD))and IsUnitInGroup(cu,hv)and GetOwningPlayer(cu)==Vv thenif IssueTargetOrderById(u,852092,cu)thencall yc(u,1093678663,10)call DestroyGroup(g)call RemoveLocation(LI)returnendifendifendloopcall DestroyGroup(g)call RemoveLocation(LI)endifcall Ud(u,null)endfunctionfunction BD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local unit cu=nulllocal location LIif Wd(u)thencall yc(u,1093678672,GetRandomReal(3,5))endifif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif(not(zc((u),(1093678672))>0))and mN(GetUnitX(u),GetUnitY(u),GetUnitX(tu),GetUnitY(tu))>350 thenif IssueTargetOrderById(u,852092,tu)thencall yc(u,1093678672,3)returnendifendifcall Ud(u,null)endfunctionfunction cD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(UE)local unit tu=nulllocal timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)local location p=nullif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifset tu=Td(u,0)if GetUnitAbilityLevel(u,1093679176)==0 and st>480 thencall UnitAddAbility(u,1093679176)endifif GetUnitAbilityLevel(tu,1112560453)>0 and mN(GetUnitX(u),GetUnitY(u),GetUnitX(tu),GetUnitY(tu))<700 thenif OrderId2String(GetUnitCurrentOrder(u))=="move" thenreturnendifloopset p=GetRandomLocInRect(jv[jR])exitwhen mN(GetLocationX(p),GetLocationY(p),GetUnitX(tu),GetUnitY(tu))>=700call RemoveLocation(p)endloopcall IssuePointOrderByIdLoc(u,851986,p)call RemoveLocation(p)returnendifif st>30 and(not(zc((u),(1093679429))>0))thenif IssueImmediateOrderById(u,852127)thencall yc(u,1093679429,30)returnendifendifif st>15 and(not(zc((u),(1093679427))>0))and mN(GetUnitX(u),GetUnitY(u),GetUnitX(tu),GetUnitY(tu))>350 thenif IssueTargetOrderById(u,852092,tu)thencall yc(u,1093679427,GetRandomInt(1,2))returnendifendifcall Ud(u,tu)endfunctionfunction CD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local unit culocal real dx=GetUnitX(tu)-GetUnitX(u)local real dy=GetUnitY(tu)-GetUnitY(u)local real f=SquareRoot(dx*dx+dy*dy)local timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)if(not(zc((u),(1094939746))>0))and st>15 and f<=600 thenif IssueTargetOrderById(u,852252,tu)thencall yc(u,1094939746,GetRandomInt(12,18))returnendifendifcall Ud(u,null)endfunctionfunction dD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)local location LIif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif(not(zc((u),(1093679174))>0))and st>20 thencall vB(u,1093679174,1110454595,10,true)call yc(u,1093679174,GetRandomInt(24,30))call sB(u,SB(u)+46)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl",u,"origin"))set LI=GetUnitLoc(u)call KI(300,LI,function Zd)call RemoveLocation(LI)endifif(not(zc((u),(1129071432))>0))and st>30 thencall wd(u)call yc(u,1129071432,GetRandomInt(24,36))endifif(not(zc((u),(1093679160))>0))and st>7 thenif IssueTargetOrderById(u,852597,tu)thenif GetUnitAbilityLevel(u,1093679174)>0 thencall yc(u,1093679160,GetRandomInt(2,4))elsecall yc(u,1093679160,GetRandomInt(3,8))endifreturnendifendifif(not(zc((u),(1093678669))>0))and st>20 thenif mN(GetUnitX(u),GetUnitY(u),GetUnitX(tu),GetUnitY(tu))>550 thenif IssueTargetOrderById(u,852588,tu)thencall yc(u,1093678669,25)returnendifendifendifcall Ud(u,null)endfunctionfunction DD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)if GetUnitUserData(u)==0 thencall yc(u,1093678414,GetRandomInt(12,24))call SetUnitUserData(u,1)endifif(not(zc((u),(1093678414))>0))thenif IssueImmediateOrderById(u,852129)thencall wd(u)call yc(u,1093678414,GetRandomInt(45,60))returnendifendifcall Ud(u,null)endfunctionfunction fD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif(not(zc((u),(1093678657))>0))and st>10 and GetRandomInt(1,100)<=30 thenif IssueTargetOrderById(u,852092,tu)thencall yc(u,1093678657,GetRandomInt(12,15))returnendifendifif(not(zc((u),(1093678661))>0))thenif IssueImmediateOrderById(u,852588)thencall yc(u,1093678661,GetRandomInt(15,20))returnendifendifcall Ud(u,null)endfunctionfunction FD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local unit cu=nulllocal timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)local group g=nulllocal location LIif st>20 and(not(zc((u),(1093678137))>0))thenif IssueImmediateOrderById(u,852127)thencall yc(u,1093678137,GetRandomInt(15,30))returnendifendifif(GetUnitState((u),UNIT_STATE_LIFE))/(GetUnitState((u),UNIT_STATE_MAX_LIFE))<=.2 and(not(zc((u),(1097235065))>0))thenif IssueImmediateOrderById(u,852561)thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl",u,"origin"))call SetUnitState((u),UNIT_STATE_LIFE,(((GetUnitState((u),UNIT_STATE_MAX_LIFE))*(.2+.2*Le))*1.))call CC(u,true)call yc(u,1097235065,9999)returnendifendifcall Ud(u,null)endfunctionfunction gD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local unit culocal location LIlocal group glocal timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)local integer ilocal unit GD=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1180658805)if GetUnitAbilityLevel(u,1093679176)==0 and st>480 thencall UnitAddAbility(u,1093679176)endifif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif(not(zc((u),(1093679178))>0))and st>6 thenset i=1loopset cu=GroupPickRandomUnit(Qv)exitwhen cu==null or(IsUnitType(cu,UNIT_TYPE_HERO)and GetUnitAbilityLevel(cu,1093678674)==0 and GetUnitAbilityLevel(cu,1093679182)==0 and cu!=GD)set i=i+1if i>32 thenset cu=nullexitwhen trueendifendloopif cu!=null thenif IssueTargetOrderById(u,852092,cu)thencall Zc(u,1093679178,6,true)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1180658805,cu)returnendifendifendifif(not(zc((u),(1093678404))>0))and st>9 thenset i=1loopset cu=GroupPickRandomUnit(Qv)exitwhen cu==null or(IsUnitType(cu,UNIT_TYPE_HERO)and GetUnitAbilityLevel(cu,1093678674)==0 and GetUnitAbilityLevel(cu,1093679182)==0 and cu!=GD)set i=i+1if i>32 thenset cu=nullexitwhen trueendifendloopif cu!=null thenif IssueTargetOrderById(u,852588,cu)thencall Zc(u,1093678404,9,true)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1180658805,cu)returnendifendifendifif(not(zc((u),(1093678644))>0))and st>8 thenif IssueImmediateOrderById(u,852526)thencall yc(u,1093678644,8)returnendifendifcall Ud(u,null)endfunctionfunction hD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local unit culocal timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)local integer iif(not(zc((u),(1768843636))>0))thencall yc(u,1093678411,GetRandomReal(15,25))call yc(u,1768843636,1200)endifif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif(not(zc((u),(1093678411))>0))and GetRandomInt(1,100)<=15 thenif IssueImmediateOrderById(u,852092)thencall yc(u,1093678411,GetRandomInt(5,10))returnendifendifcall Ud(u,null)endfunctionfunction HD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local unit culocal timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)local integer iif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif(not(zc((u),(1093678659))>0))and st>15 thenif IssueImmediateOrderById(u,852253)thencall yc(u,1093678659,10)returnendifendifcall Ud(u,null)endfunctionfunction jD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)if(GetUnitState((u),UNIT_STATE_LIFE))/(GetUnitState((u),UNIT_STATE_MAX_LIFE))<=.25 and(not(zc((u),(1097235065))>0))thenif IssueImmediateOrderById(u,852561)thencall yc(u,1097235065,9999)returnendifendifcall Ud(u,null)endfunctionfunction JD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local location LIlocal group glocal unit cuif(not(zc((u),(1768843636))>0))thencall yc(u,1093678419,GetRandomReal(2,10))call yc(u,1097036393,GetRandomReal(10,12))call yc(u,1098213478,GetRandomReal(10,12))call yc(u,1768843636,1200)endifif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif(not(zc((u),(1093678419))>0))thenset LI=GetUnitLoc(u)set g=sI(1600,LI)loopset cu=GroupPickRandomUnit(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if(GetUnitState((cu),UNIT_STATE_LIFE))/(GetUnitState((cu),UNIT_STATE_MAX_LIFE))<=.7 and qB(u,cu,false)and GetRandomInt(1,100)<=25 thenif IssueTargetOrderById(u,852092,cu)thencall yc(u,1093678419,4)call DestroyGroup(g)call RemoveLocation(LI)returnendifendifendloopcall DestroyGroup(g)call RemoveLocation(LI)endifif(not(zc((u),(1097036393))>0))thenset LI=GetUnitLoc(u)set g=sI(1600,LI)loopset cu=GroupPickRandomUnit(g)exitwhen SA(u,cu,false,false)and IsUnitType(cu,UNIT_TYPE_HERO)or cu==nullcall GroupRemoveUnit(g,cu)endloopcall DestroyGroup(g)call RemoveLocation(LI)if cu!=null thenif IssueTargetOrderById(u,852189,cu)thencall yc(u,1097036393,GetRandomInt(10,15))returnendifendifendifif(not(zc((u),(1098213478))>0))thenset LI=GetUnitLoc(u)set g=sI(1600,LI)loopset cu=GroupPickRandomUnit(g)exitwhen(qB(u,cu,false)and GetUnitAbilityLevel(cu,1114990694)==0)or cu==nullcall GroupRemoveUnit(g,cu)endloopcall DestroyGroup(g)call RemoveLocation(LI)if cu!=null thenif IssueTargetOrderById(u,852209,cu)thencall yc(u,1098213478,GetRandomInt(12,18))returnendifendifendifcall Ud(u,null)endfunctionfunction kD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)local unit cuif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif GetUnitAbilityLevel(u,1093679157)==0 and(GetUnitState((u),UNIT_STATE_LIFE))/(GetUnitState((u),UNIT_STATE_MAX_LIFE))<=.25 thencall UnitAddAbility(u,1093679157)if zd()thencall IssueImmediateOrderById(u,851995)returnendifendifif(not(zc((u),(1093678424))>0))thencall yc(u,1093678424,999999)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((lX))))),StringHash("u"),u)call TriggerExecute(lX)endifif(not(zc((u),(1093678151))>0))and st>20 thenif IssueImmediateOrderById(u,852092)thencall yc(u,1093678151,16-Le)returnendifendifif(not(zc((u),(1093678648))>0))and st>20 and(GetUnitState((u),UNIT_STATE_LIFE))/(GetUnitState((u),UNIT_STATE_MAX_LIFE))>.25 thenif IssueImmediateOrderById(u,852588)thencall yc(u,1093678648,40)call Zc(u,1093678660,30,true)returnendifendifif(not(zc((u),(1093678660))>0))and st>45 and zd()thenif IssueImmediateOrderById(u,851995)thencall yc(u,1093678660,50)returnendifendifcall Ud(u,null)endfunctionfunction KD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)if GetUnitAbilityLevel(u,1093679173)==0 and(GetUnitState((u),UNIT_STATE_LIFE))/(GetUnitState((u),UNIT_STATE_MAX_LIFE))<.3 thencall SetUnitScalePercent(u,135,135,135)call vB(u,1093679173,1110454858,60,true)endifif(not(zc((u),(1129071432))>0))and st>30 thencall wd(u)call yc(u,1129071432,GetRandomInt(24,36))returnendifcall Ud(u,null)endfunctionfunction lD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local unit cu=nulllocal location LI=nulllocal group g=nullif(not(zc((u),(1768843636))>0))thencall yc(u,1093679180,GetRandomReal(3,6))call yc(u,1768843636,1200)endifif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif(not(zc((u),(1093679180))>0))thenset LI=GetUnitLoc(u)set g=sI(1600,LI)loopset cu=GroupPickRandomUnit(g)exitwhen cu==null or(qB(u,cu,false)and(GetUnitState((cu),UNIT_STATE_LIFE))/(GetUnitState((cu),UNIT_STATE_MAX_LIFE))<.7)and not(IsUnitType(cu,UNIT_TYPE_DEAD))call GroupRemoveUnit(g,cu)endloopcall DestroyGroup(g)call RemoveLocation(LI)if cu!=null thenif IssueTargetOrderById(u,852092,cu)thencall yc(u,1093679180,3)returnendifendifendifcall Ud(u,null)endfunctionfunction LD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local unit cu=nulllocal timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)local location LI=nulllocal group g=nullif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif(not(zc((u),(1094939500))>0))and st>10 and GetRandomInt(1,100)<=25 thenset LI=GetUnitLoc(u)set g=sI(1200,LI)loopset cu=GroupPickRandomUnit(g)exitwhen cu==null or(SA(u,cu,false,true)and GetUnitAbilityLevel(cu,1112896364)==0)call GroupRemoveUnit(g,cu)endloopcall DestroyGroup(g)call RemoveLocation(LI)if cu!=null thenif IssueTargetOrderById(u,852227,cu)thencall yc(u,1094939500,20)returnendifendifendifif(not(zc((u),(1093679186))>0))and GetRandomInt(1,100)<=25 thenset LI=GetUnitLoc(u)set cu=BB(LI,1200)call RemoveLocation(LI)if cu!=null thenif IssueTargetOrderById(u,852588,cu)thencall yc(u,1093679186,GetRandomInt(2,6))returnendifendifendifcall Ud(u,null)endfunctionfunction mD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)local location LIlocal group glocal unit cuif GetUnitAbilityLevel(u,1093679176)==0 and st>480 thencall UnitAddAbility(u,1093679176)endifif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif(not(zc((u),(1093679434))>0))and st>12 thenset LI=GetUnitLoc(u)set g=sI(1600,LI)loopset cu=FirstOfGroup(g)exitwhen(SA(u,cu,false,false)and IsUnitType(cu,UNIT_TYPE_HERO)and GetUnitAbilityLevel(cu,1093679438)==0)or cu==nullcall GroupRemoveUnit(g,cu)endloopif cu!=null thenif IssueImmediateOrderById(u,852588)thencall yc(u,1093679434,GetRandomInt(12,16))returnendifendifendifif(not(zc((u),(1093681715))>0))and st>18 thenset g=PI(jv[jR])loopset cu=GroupPickRandomUnit(g)exitwhen SA(u,cu,false,false)and IsUnitType(cu,UNIT_TYPE_HERO)call GroupRemoveUnit(g,cu)endloopcall DestroyGroup(g)if cu!=null thenif IssueTargetOrderById(u,852487,cu)thencall yc(u,1093681715,GetRandomInt(12,15))returnendifendifendifif(not(zc((u),(1093679440))>0))and st>8 thenset g=PI(jv[jR])loopset cu=GroupPickRandomUnit(g)exitwhen SA(u,cu,false,false)and IsUnitType(cu,UNIT_TYPE_HERO)call GroupRemoveUnit(g,cu)endloopcall DestroyGroup(g)if cu!=null thencall hC(DO,u,cu)call yc(u,1093679440,2)endifendifcall Ud(u,null)endfunctionfunction MD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)if(not(zc((u),(1093678916))>0))and GetRandomInt(1,100)<=15 thenif IssueImmediateOrderById(u,852127)thencall yc(u,1093678916,GetRandomInt(45,50))returnendifendifcall Ud(u,null)endfunctionfunction pD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local location LIlocal timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)local group gif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif(not(zc((u),(1093679444))>0))and st>10 thenif IssueTargetOrderById(u,852580,tu)thencall yc(u,1093679444,GetRandomInt(7,15))returnendifendifif(not(zc((u),(1093679184))>0))and st>15 thenif IssueImmediateOrderById(u,852253)thencall yc(u,1093679184,GetRandomInt(10,20))returnendifendifcall Ud(u,null)endfunctionfunction PD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local unit cu=nulllocal timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)local group g=nulllocal location LIif(not(zc((u),(1229867348))>0))thencall yc(u,1229867348,1200)call yc(u,1093678665,GetRandomReal(8,16))endifif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif(not(zc((u),(1093678665))>0))thenif IssueImmediateOrderById(u,852092)thencall yc(u,1093678665,GetRandomInt(4,12))returnendifendifif(not(zc((u),(1093679446))>0))thenset LI=GetUnitLoc(u)set g=sI(1600,LI)loopset cu=GroupPickRandomUnit(g)exitwhen cu==null or(qB(u,cu,false)and(GetUnitState((cu),UNIT_STATE_LIFE))/(GetUnitState((cu),UNIT_STATE_MAX_LIFE))<.8 and GetUnitAbilityLevel(cu,1114793322)==0)call GroupRemoveUnit(g,cu)endloopcall DestroyGroup(g)call RemoveLocation(LI)if cu!=null thenif IssueTargetOrderById(u,852160,cu)thencall yc(u,1093679446,GetRandomInt(9,15))returnendifendifendifcall Ud(u,null)endfunctionfunction qD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local unit cu=nulllocal timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)local integer i=0local group glocal location LIif(not(zc((u),(1093679447))>0))thencall SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((KX))))),StringHash("u"),u)call TriggerExecute(KX)call yc(u,1093679447,3600)endifif GetUnitAbilityLevel(u,1093679176)==0 and st>300 thencall UnitAddAbility(u,1093679176)endifif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif(not(zc((u),(1093679448))>0))and st>9 thenif IssueTargetOrderById(u,852580,tu)thencall yc(u,1093679448,9)returnendifendifif(not(zc((u),(1093678416))>0))and st>6 thenif IssueTargetOrderById(u,852597,tu)thencall yc(u,1093678416,6)returnendifendifif(not(zc((u),(1093678415))>0))and st>15 thenset g=PI(jv[jR])loopset cu=GroupPickRandomUnit(g)exitwhen cu==null or(SA(u,cu,false,false)and IsUnitType(cu,UNIT_TYPE_HERO)and cu!=tu)call GroupRemoveUnit(g,cu)endloopcall DestroyGroup(g)if cu==null thenset cu=tuendifif cu!=null thenif IssueTargetOrderById(u,852095,cu)thencall yc(u,1093678415,12)returnendifendifendifif(not(zc((u),(1093681746))>0))and st>20 thencall CreateUnit(GetOwningPlayer(u),1697656883,GetUnitX(u),GetUnitY(u),0)call yc(u,1093681746,20)returnendifcall Ud(u,null)endfunctionfunction QD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)if GetUnitAbilityLevel(u,1093679173)==0 and st>30 thencall vB(u,1093679173,1110454858,120,true)endifcall Ud(u,null)endfunctionfunction sD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local real xlocal real yif(not(zc((u),(1768843636))>0))thencall yc(u,1735355492,12)call yc(u,1768843636,99999)call SetUnitPathing(u,false)endifif(not(zc((u),(1735355492))>0))thenset x=GetUnitX(u)+GetRandomInt(-64,64)set y=GetUnitY(u)+GetRandomInt(-64,64)call sB(u,SB(u)+8)call SetItemUserData(CreateItem(1735355492,x,y),GetRandomInt(48,60))call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl",x,y))call yc(u,1735355492,2)endifcall Ud(u,null)endfunctionfunction n008_Con takes nothing returns booleanlocal unit u=GetFilterUnit()return IsUnitType(u,UNIT_TYPE_HERO)and IsUnitAliveBJ(u)endfunctionfunction SD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local unit cu=nulllocal location LI=nullif(not(zc((u),(1093678903))>0))thenif IssueImmediateOrderById(u,852526)thencall yc(u,1093678903,GetRandomInt(12,20))returnendifendifcall Ud(u,null)endfunctionfunction tD takes nothing returns booleanreturn GetOwningPlayer(GetFilterUnit())!=Vvendfunctionfunction TD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(UE)local unit tu=nulllocal integer i=0local group g=nulllocal location LI=nulllocal rect r=nulllocal unit lu=nullif Wd(u)thencall yc(u,1668446841,240)call yc(u,1093679413,30)call yc(u,1093678914,24)call yc(u,1093678913,16)call yc(u,1853059172,15)endifset tu=Td(u,0)if GetUnitAbilityLevel(u,1093679176)==0 and(not(zc((u),(1668446841))>0))thencall UnitAddAbility(u,1093679176)endifif GetUnitAbilityLevel(u,1110454837)>0 thencall UnitRemoveAbility(u,1093679413)call UnitRemoveAbility(u,1110454606)call yc(u,1093679413,GetRandomInt(15,25))endifif(not(zc((u),(1853059172))>0))thenset r=(Kv[((jR)-1)*10+(GetRandomInt(1,4))])call yc(u,1853059172,15)set lu=CreateUnit(GetOwningPlayer(u),1853059172,GetRectCenterX(r),GetRectCenterY(r),0)call SaveBoolean(Ne,(StringHash(I2S(GetHandleId((lu))))),1852665710,true)endifif(not(zc((u),(1093679413))>0))and GetUnitAbilityLevel(u,1093679413)==0 thencall vB(u,1093679413,1110454606,30,true)endifif(not(zc((u),(1093678913))>0))thenif IssueImmediateOrderById(u,852253)thenset LI=GetUnitLoc(u)set g=qI(300,LI,Condition(function tD))if CountUnitsInGroup(g)>5 thencall yc(u,1093678913,GetRandomInt(1,3))elsecall yc(u,1093678913,GetRandomInt(12,18))endifcall RemoveLocation(LI)call DestroyGroup(g)returnendifendifif(not(zc((u),(1093678914))>0))thenif IssueTargetOrderById(u,852252,tu)thencall yc(u,1093678914,GetRandomInt(24,26))returnendifendifcall Ud(u,tu)endfunctionfunction u004_Con takes nothing returns booleanlocal unit u=GetFilterUnit()return IsUnitType(u,UNIT_TYPE_HERO)and IsUnitAliveBJ(u)endfunctionfunction uD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local unit cu=nulllocal timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)local location LI=nulllocal group g=nullif(not(zc((u),(1229867348))>0))thencall yc(u,1229867348,1835104304)call yc(u,1093678903,GetRandomInt(12,24))endifif(not(zc((u),(1093681463))>0))and st>10 thenset LI=GetUnitLoc(u)set g=sI(1200,LI)loopset cu=GroupPickRandomUnit(g)exitwhen cu==null or(SA(u,cu,false,true)and GetUnitAbilityLevel(cu,1110455097)==0)call GroupRemoveUnit(g,cu)endloopcall DestroyGroup(g)call RemoveLocation(LI)if cu!=null thenif IssueTargetOrderById(u,852190,cu)thencall yc(u,1093681463,7)returnendifendifendifif(not(zc((u),(1093678903))>0))thenif IssueImmediateOrderById(u,852526)thencall yc(u,1093678903,GetRandomInt(12,20))returnendifendifcall Ud(u,null)endfunctionfunction UD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)local location LIlocal group glocal unit cuif IsUnitType(u,UNIT_TYPE_TAUREN)thenreturnendifif(not(zc((u),(1097036393))>0))and st>5 thenset LI=GetUnitLoc(u)set g=sI(1600,LI)loopset cu=GroupPickRandomUnit(g)exitwhen SA(u,cu,false,false)and IsUnitType(cu,UNIT_TYPE_HERO)or cu==nullcall GroupRemoveUnit(g,cu)endloopcall DestroyGroup(g)call RemoveLocation(LI)if cu!=null thenif IssueTargetOrderById(u,852189,cu)thencall yc(u,1097036393,GetRandomInt(5,10))returnendifendifendifif(not(zc((u),(1098213478))>0))and st>10 thenset LI=GetUnitLoc(u)set g=sI(1600,LI)loopset cu=GroupPickRandomUnit(g)exitwhen(qB(u,cu,false)and GetUnitAbilityLevel(cu,1114990694)==0)or cu==nullcall GroupRemoveUnit(g,cu)endloopcall DestroyGroup(g)call RemoveLocation(LI)if cu!=null thenif IssueTargetOrderById(u,852209,cu)thencall yc(u,1098213478,20)returnendifendifendifcall Ud(u,null)endfunctionfunction wD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)local group glocal unit culocal unit lulocal rect rif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif GetUnitMoveSpeed(u)<522 thencall SetUnitMoveSpeed(u,GetUnitMoveSpeed(u)+10)endifif(not(zc((u),(1836022394))>0))and st>5 thencall yc(u,1836022394,4)set r=jv[jR]set lu=CreateUnit(Vv,1853517677,GetRandomReal(GetRectMinX(r),GetRectMaxX(r)),GetRandomReal(GetRectMinY(r),GetRectMaxY(r)),0)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",GetUnitX(lu),GetUnitY(lu)))endifif(not(zc((u),(1668051555))>0))and st>15 thencall wd(u)set cu=cB(jv[jR])if cu!=null thencall md(u,cu,9999999)call yc(u,1668051555,15)endifendifif(not(zc((u),(1093681480))>0))and st>20 thenif IssueImmediateOrderById(u,852092)thencall yc(u,1093681480,25-Le*2)returnendifendifcall Ud(u,null)endfunctionfunction WD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local location LIlocal unit cuif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif(not(zc((u),(1229867348))>0))thencall yc(u,1093681713,GetRandomReal(5,15))call yc(u,1229867348,1852143218)call yc(u,1093681968,12)endifif(not(zc((u),(1093681968))>0))and Le>2 thenif IssueImmediateOrderById(u,852097)thencall yc(u,1093681968,GetRandomInt(30,40))returnendifendifif(not(zc((u),(1093681713))>0))thenset LI=GetUnitLoc(u)set cu=BB(LI,1200)call RemoveLocation(LI)if IssuePointOrderById(u,852185,GetUnitX(cu),GetUnitY(cu))thencall yc(u,1093681713,GetRandomInt(24,30))returnendifendifcall Ud(u,null)endfunctionfunction yD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)call IssueTargetOrderById(u,852597,tu)endfunctionfunction YD takes nothing returns nothinglocal unit u=Yd(null)local unit cu=nulllocal unit tu=Td(u,0)local location LIlocal integer i=0if Wd(u)thencall yc(u,1668446841,240)call yc(u,1094938742,25)call yc(u,1094939746,15)endifcall XB(u,tu,175)if GetUnitAbilityLevel(u,1093679176)==0 and(not(zc((u),(1668446841))>0))thencall UnitAddAbility(u,1093679176)endifif(not(zc((u),(1094938742))>0))thencall SetUnitAbilityLevel(u,1094938742,2)call vB(u,1094938742,0,6,true)call yc(u,1094938742,GetRandomInt(18,24))endifif GetUnitAbilityLevel(u,1094938742)==0 thencall UnitAddAbility(u,1094938742)endifif(not(zc((u),(1094939746))>0))thenset LI=GetUnitLoc(u)set i=1loopset cu=BB(LI,1200)exitwhen cu!=tu or cu==null or i>16set i=i+1endloopif cu==null and tu!=null thenset cu=tuendifcall RemoveLocation(LI)if cu!=null thenif IssueTargetOrderById(u,852252,cu)thencall md(u,cu,100+Le*50)call yc(u,1094939746,GetRandomInt(12,16))returnendifendifendifcall Ud(u,null)endfunctionfunction zD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)if(not(zc((u),(1229867348))>0))thencall yc(u,1093682010,GetRandomInt(9,16))call yc(u,1229867348,1852143218)endifif(not(zc((u),(1093682010))>0))thenif IssueImmediateOrderById(u,852561)thencall yc(u,1093682010,GetRandomInt(24,30))returnendifendifcall Ud(u,null)endfunctionfunction ZD takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local unit culocal location LIlocal timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)local integer i=0if(not(zc((u),(1768843636))>0))thencall yc(u,1768843636,99999)call yc(u,1093682228,10)call yc(u,1093682229,6)call yc(u,1093682230,4)call yc(u,1667332729,240)endifif GetUnitAbilityLevel(u,1093679176)==0 and(not(zc((u),(1667332729))>0))thencall UnitAddAbility(u,1093679176)endifif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif(not(zc((u),(1093682228))>0))thenset LI=GetUnitLoc(u)set i=1loopset cu=BB(LI,2400)exitwhen cu!=tu or cu==null or i>16set i=i+1endloopif cu==null and tu!=null thenset cu=tuendifcall RemoveLocation(LI)if cu!=null thenif IssueTargetOrderById(u,852092,cu)thencall yc(u,1093682228,35)returnendifendifendifif(not(zc((u),(1093682229))>0))thenset LI=GetUnitLoc(u)set i=1loopset cu=BB(LI,1100)exitwhen cu!=tu or cu==null or i>16set i=i+1endloopif cu==null and tu!=null thenset cu=tuendifcall RemoveLocation(LI)if cu!=null thenif IssueTargetOrderById(u,852218,cu)thencall yc(u,1093682229,GetRandomInt(12,16))returnendifendifendifif(not(zc((u),(1093682230))>0))thenif IssueTargetOrderById(u,852588,tu)thencall yc(u,1093682230,GetRandomInt(6,8))returnendifendifcall Ud(u,null)endfunctionfunction vf takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local unit culocal location LIlocal real zx=0local real zy=0local timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)local integer i=0local integer ef=0if(not(zc((u),(1768843636))>0))thencall yc(u,1768843636,99999)call yc(u,1093682257,3)call yc(u,1093682258,15)call yc(u,1667332729,240)endifif GetUnitAbilityLevel(u,1093679176)==0 and(not(zc((u),(1667332729))>0))thencall UnitAddAbility(u,1093679176)endifset ef=R2I((1-(GetUnitState((u),UNIT_STATE_LIFE))/(GetUnitState((u),UNIT_STATE_MAX_LIFE)))*20)if ef>0 thencall UnitAddAbility(u,1093682260)call SetUnitAbilityLevel(u,1093682260,ef)endifif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif not((not(zc((u),(1479558226))>0)))thenif(not(zc((u),(1093682243))>0))thenset LI=GetUnitLoc(u)set cu=AB(LI,3200)call RemoveLocation(LI)call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),1970174584,GetUnitX(cu))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),1970174585,GetUnitY(cu))call yc(u,1093682243,3)endifset zx=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),1970174584)set zy=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),1970174585)call IssuePointOrderById(u,851986,zx,zy)returnendifcall SetUnitPathing(u,true)if(not(zc((u),(1093682258))>0))thenif IssueImmediateOrderById(u,852128)thencall yc(u,1093682258,GetRandomInt(40,45))call yc(u,1479558226,15)call SetUnitPathing(u,false)returnendifendifif(not(zc((u),(1093682257))>0))thenif IssueTargetOrderById(u,852588,tu)thencall yc(u,1093682257,4)returnendifendifcall Ud(u,null)endfunctionfunction xf takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))local real st=TimerGetElapsed(t)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1)thenreturnendifif(not(zc((u),(1093679175))>0))and st>10 thenif IssueTargetOrderById(u,852161,tu)thencall yc(u,1093679175,8)returnendifendifcall Ud(u,null)endfunctionfunction of takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local location LIlocal unit culocal integer i=0if(not(zc((u),(1229867348))>0))thencall yc(u,1093682505,4)call yc(u,1093682506,12)call yc(u,1229867348,1852143218)call yc(u,1667332729,240)endifif GetUnitAbilityLevel(u,1093679176)==0 and(not(zc((u),(1667332729))>0))thencall UnitAddAbility(u,1093679176)endifif(not(zc((u),(1093682505))>0))thenif IssueTargetOrderById(u,852580,tu)thencall yc(u,1093682505,16)returnendifendifif(not(zc((u),(1093682506))>0))thenset LI=GetUnitLoc(u)loopset cu=BB(LI,2400)exitwhen cu!=tu or i>16set i=i+1endloopcall RemoveLocation(LI)if cu!=null thenset LI=GetUnitLoc(cu)if IssuePointOrderByIdLoc(u,852092,LI)thencall yc(u,1093682506,16)returnendifcall RemoveLocation(LI)endifendifcall Ud(u,null)endfunctionfunction rf takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=Yd(null)local unit tu=Td(u,0)local location LIlocal unit culocal integer i=0if(not(zc((u),(1229867348))>0))thencall yc(u,1093682503,16)call yc(u,1093682504,8)call yc(u,1229867348,1852143218)call yc(u,1667332729,240)endifif GetUnitAbilityLevel(u,1093679176)==0 and(not(zc((u),(1667332729))>0))thencall UnitAddAbility(u,1093679176)endifif(not(zc((u),(1093682503))>0))thenif IssueTargetOrderById(u,852580,tu)thencall yc(u,1093682503,16)returnendifendifif(not(zc((u),(1093682504))>0))thenset LI=GetUnitLoc(u)loopset cu=BB(LI,2400)exitwhen cu!=tu or i>16set i=i+1endloopcall RemoveLocation(LI)if cu!=null thenset LI=GetUnitLoc(cu)if IssuePointOrderByIdLoc(u,852092,LI)thencall yc(u,1093682504,16)returnendifcall RemoveLocation(LI)endifendifcall Ud(u,null)endfunctionfunction af takes unit u returns nothinglocal timer t=CreateTimer()local real nf=.68local integer id=GetUnitTypeId(u)call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1432305993,t)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1095327573,u)if id==1853125235 thencall TimerStart(t,nf,true,function eD)elseif id==1852204917 thencall TimerStart(t,nf,true,function xD)elseif id==1852534636 thencall TimerStart(t,nf,true,function oD)elseif id==1852534631 thencall TimerStart(t,nf,true,function rD)elseif id==1852273259 thencall TimerStart(t,nf,true,function iD)elseif id==1852600420 thencall TimerStart(t,nf,true,function aD)elseif id==1853059681 thencall TimerStart(t,nf,true,function VD)elseif id==1853323876 thencall TimerStart(t,nf,true,function XD)elseif id==1852666477 thencall TimerStart(t,nf,true,function RD)elseif id==1853319546 thencall TimerStart(t,nf,true,function ID)elseif id==1853125235 thencall TimerStart(t,nf,true,function eD)elseif id==1853057903 thencall TimerStart(t,nf,true,function ND)elseif id==1852534644 thencall TimerStart(t,nf,true,function bD)elseif id==1852796263 thencall TimerStart(t,nf,true,function BD)elseif id==1853125223 thencall TimerStart(t,nf,true,function cD)elseif id==1852270450 thencall TimerStart(t,nf,true,function CD)elseif id==1970498405 thencall TimerStart(t,nf,true,function dD)elseif id==1853060204 thencall TimerStart(t,nf,true,function DD)elseif id==1751543663 thencall TimerStart(t,nf,true,function fD)elseif id==1852798821 thencall TimerStart(t,nf,true,function FD)elseif id==1852139641 thencall TimerStart(t,nf,true,function gD)elseif id==1853323879 thencall TimerStart(t,nf,true,function hD)elseif id==1969316463 thencall TimerStart(t,nf,true,function HD)elseif id==1969711215 thencall TimerStart(t,nf,true,function jD)elseif id==1970169187 thencall TimerStart(t,nf,true,function JD)elseif id==1853320295 thencall TimerStart(t,nf,true,function kD)elseif id==1852794738 thencall TimerStart(t,nf,true,function KD)elseif id==1852142195 thencall TimerStart(t,nf,true,function lD)elseif id==1852794734 thencall TimerStart(t,nf,true,function LD)elseif id==1970498413 thencall TimerStart(t,nf,true,function mD)elseif id==1851941170 thencall TimerStart(t,nf,true,function MD)elseif id==1851941997 thencall TimerStart(t,nf,true,function pD)elseif id==1851942003 thencall TimerStart(t,nf,true,function PD)elseif id==1851942007 thencall TimerStart(t,nf,true,function qD)elseif id==1853125236 thencall TimerStart(t,nf,true,function QD)elseif id==1852272239 thencall TimerStart(t,nf,true,function sD)elseif id==1848651832 thencall TimerStart(t,nf,true,function SD)elseif id==1848651833 thencall TimerStart(t,nf,true,function TD)elseif id==1966092340 thencall TimerStart(t,nf,true,function uD)elseif id==1966092339 thencall TimerStart(t,nf,true,function UD)elseif id==1966092336 thencall TimerStart(t,nf,true,function wD)elseif id==1853323890 thencall TimerStart(t,nf,true,function WD)elseif id==1852008243 thencall TimerStart(t,nf,true,function yD)elseif id==1848651847 thencall TimerStart(t,nf,true,function AD)elseif id==1853056866 thencall TimerStart(t,nf,true,function YD)elseif id==1852269675 thencall TimerStart(t,nf,true,function zD)elseif id==1852008551 thencall TimerStart(t,nf,true,function ZD)elseif id==1851941230 thencall TimerStart(t,nf,true,function vf)elseif id==1966092341 thencall TimerStart(t,nf,true,function xf)elseif id==1852995187 thencall TimerStart(t,nf,true,function of)elseif id==1852995174 thencall TimerStart(t,nf,true,function rf)elsecall TimerStart(t,nf,true,function vD)endifendfunctionfunction Vf takes unit u returns nothingif not(IsUnitInGroup(u,ov))thenset xv=xv+1call GroupAddUnit(ov,u)endifendfunctionfunction Ef takes unit u,boolean xN returns booleanlocal boolean b=IsUnitInGroup(u,ov)if b and xN thenset xv=xv-1endifreturn bendfunctionfunction IsBossAllDie takes nothing returns booleanreturn xv==0endfunctionfunction Xf takes nothing returns nothingset xv=0call GroupClear(ov)endfunctionfunction Of takes unit u returns nothinglocal real Rf=.35if xx thencall LB(u,R2I((GetUnitState((u),UNIT_STATE_MAX_LIFE))*Rf))endifendfunctionfunction If takes nothing returns nothinglocal integer i=1loopexitwhen i>hRcall SetUnitState((Nv[i]),UNIT_STATE_LIFE,((99999)*1.))call SetUnitState((Nv[i]),UNIT_STATE_MANA,((99999)*1.))set i=i+1endloopendfunctionfunction Af takes nothing returns nothinglocal rect r=(Kv[((jR)-1)*10+(1)])local unit ulocal real xlocal real ylocal integer ilocal integer jcall If()set i=16loopcall gI(.3)exitwhen i<0set j=1loopexitwhen j>36set x=GetRectCenterX(rx)+i*80*Cos(j*10*bj_DEGTORAD)set y=GetRectCenterY(rx)+i*80*Sin(j*10*bj_DEGTORAD)call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",x,y))set j=j+1endloopset i=i-1endloopcall TimerStart(Mv,9999999,false,null)set u=CreateUnit(Vv,1853056866,GetRectCenterX(rx),GetRectCenterY(rx),90)call zA()call wA()call WA()call Of(u)call Vf(u)call SetUnitAbilityLevel(u,1094939746,Le)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(u),GetUnitY(u)))endfunctionfunction Nf takes nothing returns nothinglocal rect r=(Kv[((jR)-1)*10+(3)])local unit ulocal integer icall If()set ve[5]=0call TimerStart(Mv,9999999,false,null)set u=CreateUnit(Vv,1853323876,GetRandomReal(GetRectMinX(r),GetRectMaxX(r)),GetRandomReal(GetRectMinY(r),GetRectMaxY(r)),90)call zA()call wA()call WA()call Of(u)call Vf(u)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(u),GetUnitY(u)))endfunctionfunction bf takes nothing returns nothinglocal rect r=(Kv[((jR)-1)*10+(GetRandomInt(1,4))])local unit ulocal integer icall If()call TimerStart(Mv,9999999,false,null)set u=CreateUnit(Vv,1848651833,GetRandomReal(GetRectMinX(r),GetRectMaxX(r)),GetRandomReal(GetRectMinY(r),GetRectMaxY(r)),90)call zA()call wA()call WA()call Of(u)call Vf(u)set ve[8]=0call TriggerRegisterUnitEvent(aR,u,EVENT_UNIT_DEATH)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(u),GetUnitY(u)))endfunctionfunction Bf takes nothing returns nothinglocal rect r=(Kv[((jR)-1)*10+(GetRandomInt(1,5))])local unit ulocal integer icall If()call TimerStart(Mv,9999999,false,null)set u=CreateUnit(Vv,1853125223,GetRandomReal(GetRectMinX(r),GetRectMaxX(r)),GetRandomReal(GetRectMinY(r),GetRectMaxY(r)),90)call zA()call wA()call WA()set ve[6]=1call Of(u)call Vf(u)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(u),GetUnitY(u)))endfunctionfunction Cf takes nothing returns nothinglocal rect r=(Kv[((jR)-1)*10+(GetRandomInt(1,4))])local unit ulocal integer icall If()call TimerStart(Mv,9999999,false,null)if me thenset u=CreateUnit(Vv,1852534636,GetRandomReal(GetRectMinX(r),GetRectMaxX(r)),GetRandomReal(GetRectMinY(r),GetRectMaxY(r)),90)set me=falseelseset u=CreateUnit(Vv,1970498405,GetRandomReal(GetRectMinX(r),GetRectMaxX(r)),GetRandomReal(GetRectMinY(r),GetRectMaxY(r)),90)endifcall zA()call wA()call WA()call Of(u)call Vf(u)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(u),GetUnitY(u)))endfunctionfunction df takes nothing returns nothinglocal rect r=Rolocal unit ulocal integer ilocal real xlocal real ylocal effect e=AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",GetRectCenterX(r),GetRectCenterY(r))call If()call gI(5)call DestroyEffect(e)set i=1loopexitwhen i>6set x=GetRectCenterX(r)+180*Cos((i*60-30)*bj_DEGTORAD)set y=GetRectCenterY(r)+180*Sin((i*60-30)*bj_DEGTORAD)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",x,y))set i=i+1endloopcall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",GetRectCenterX(r),GetRectCenterY(r)))call TimerStart(Mv,9999999,false,null)call zA()call wA()call WA()set u=CreateUnit(Vv,1852139641,GetRandomReal(GetRectMinX(r),GetRectMaxX(r)),GetRandomReal(GetRectMinY(r),GetRectMaxY(r)),90)call Of(u)call Vf(u)endfunctionfunction Df takes nothing returns nothinglocal rect r=Iolocal unit ulocal integer ilocal real xlocal real ylocal effect e=AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",GetRectCenterX(r),GetRectCenterY(r))call If()call gI(5)call DestroyEffect(e)set i=1loopexitwhen i>6set x=GetRectCenterX(r)+180*Cos((i*60-30)*bj_DEGTORAD)set y=GetRectCenterY(r)+180*Sin((i*60-30)*bj_DEGTORAD)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",x,y))set i=i+1endloopcall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",GetRectCenterX(r),GetRectCenterY(r)))call TimerStart(Mv,9999999,false,null)set u=CreateUnit(Vv,1853320295,GetRandomReal(GetRectMinX(r),GetRectMaxX(r)),GetRandomReal(GetRectMinY(r),GetRectMaxY(r)),90)call zA()call wA()call WA()call Of(u)call Vf(u)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(u),GetUnitY(u)))endfunctionfunction Ff takes nothing returns nothinglocal rect r=(Kv[((jR)-1)*10+(GetRandomInt(1,4))])local unit ulocal integer icall If()call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",GetRectCenterX(r),GetRectCenterY(r)))call TimerStart(Mv,9999999,false,null)set u=CreateUnit(Vv,1970498413,GetRandomReal(GetRectMinX(r),GetRectMaxX(r)),GetRandomReal(GetRectMinY(r),GetRectMaxY(r)),90)call zA()call wA()call WA()call Of(u)call Vf(u)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(u),GetUnitY(u)))endfunctionfunction gf takes nothing returns nothinglocal rect r=Folocal unit ulocal integer ilocal real xlocal real ylocal effect e=AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",GetRectCenterX(r),GetRectCenterY(r))call bA("Boss 9A",5)call If()call gI(5)call DestroyEffect(e)set i=1loopexitwhen i>6set x=GetRectCenterX(r)+180*Cos((i*60-30)*bj_DEGTORAD)set y=GetRectCenterY(r)+180*Sin((i*60-30)*bj_DEGTORAD)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",x,y))set i=i+1endloopcall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",GetRectCenterX(r),GetRectCenterY(r)))call TimerStart(Mv,9999999,false,null)set u=CreateUnit(Vv,1851942007,GetRandomReal(GetRectMinX(r),GetRectMaxX(r)),GetRandomReal(GetRectMinY(r),GetRectMaxY(r)),90)call SetUnitState((u),UNIT_STATE_LIFE,(((GetUnitState((u),UNIT_STATE_MAX_LIFE))*.45)*1.))call zA()call wA()call WA()call Of(u)call Vf(u)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(u),GetUnitY(u)))call bA("Boss 9B",5)endfunctionfunction Gf takes nothing returns nothinglocal rect r=jolocal unit ulocal integer ilocal real xlocal real ylocal effect e=AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",GetRectCenterX(r),GetRectCenterY(r))set AI=falsecall If()call gI(5)call DestroyEffect(e)set i=1loopexitwhen i>6set x=GetRectCenterX(r)+180*Cos((i*60-30)*bj_DEGTORAD)set y=GetRectCenterY(r)+180*Sin((i*60-30)*bj_DEGTORAD)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",x,y))set i=i+1endloopcall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",GetRectCenterX(r),GetRectCenterY(r)))call TimerStart(Mv,9999999,false,null)call zA()call wA()call WA()set u=CreateUnit(Vv,1852534636,GetRectCenterX(r),GetRectCenterY(r),90)call SetUnitPathing(u,false)call Of(u)call Vf(u)endfunctionfunction hf takes nothing returns nothinglocal rect r=Qolocal unit ulocal integer ilocal real xlocal real ylocal effect e=AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",GetRectCenterX(r),GetRectCenterY(r))call If()call gI(5)call DestroyEffect(e)call TimerStart(Mv,9999999,false,null)call zA()call wA()call WA()set u=CreateUnit(Vv,1852995187,GetRectCenterX(r),GetRectCenterY(r),90)call Of(u)call Vf(u)set u=CreateUnit(Vv,1852995174,GetRectCenterX(r),GetRectCenterY(r),90)call Of(u)call Vf(u)endfunctionfunction Hf takes unit u,unit tu,integer vb returns nothinglocal integer i=1local integer ch=0local unit cuif vb<=0 thenreturnendifloopset cu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1970168680+i)exitwhen cu==nullif cu==tu thenset ch=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1986093928+i)set ch=ch-vbif vb>0 thencall SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1986093928+i,vb)elsecall SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1986093928+i,0)endifexitwhen trueendifset i=i+1endloopendfunctionfunction jf takes nothing returns nothinglocal unit cu=nullloopset cu=FirstOfGroup(rv)exitwhen cu==nullcall GroupRemoveUnit(rv,cu)call FlushChildHashtable(Ne,(StringHash(I2S(GetHandleId((cu))))))endloopendfunctionfunction Jf takes unit u returns nothinglocal timer t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1432305993)call wd(u)call DestroyGroup(LoadGroupHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummedUnit")))call GroupRemoveUnit(hv,u)call EA(t)set t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"))call EA(t)set t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("OutTimer"))call EA(t)if not((IsUnitType((u),UNIT_TYPE_HERO)))thencall GroupAddUnit(rv,u)endifendfunctionfunction CF takes unit u,unit tu,real xs,real t,boolean ad returns integerlocal unit kf=Td(tu,0)local integer ch=R2I(ld(tu,kf))set ch=R2I(I2R(ch)*xs)if IsUnitType(tu,UNIT_TYPE_UNDEAD)thenreturn 1endifif kf==u and GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CHANNEL thenreturn 2endifif ad thenreturn 0endifcall vB(tu,1093678677,1110454353,t,true)call yc(tu,1970168678,t)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId(((tu)))))),1970561394,(u))if xs>0 thencall Ld(tu,u,ch)endifreturn 0endfunctionfunction Kf takes unit u,unit tu returns booleanlocal timer tif GetOwningPlayer(u)!=Vv or IsUnitType(u,UNIT_TYPE_DEAD)or GetUnitTypeId(u)==1702327152 or IsUnitInGroup(u,hv)or GetUnitAbilityLevel(u,1097625443)>0 or GetUnitAbilityLevel(u,1093681484)>0 thenreturn falseendifcall GroupAddUnit(hv,u)call GroupRemoveUnit(Qv,u)call SetUnitMoveSpeed(u,GetUnitDefaultMoveSpeed(u))set t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1432305993)if tu!=null thencall md(u,tu,0)endifif t!=null thenreturn falseendifcall af(u)set t=CreateTimer()call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("StartTimer"),t)call TimerStart(t,99999999,true,null)return trueendfunctionfunction lf takes unit tu,location LI,real Lf,integer vb returns nothinglocal group g=sI(Lf,LI)local unit culoopset cu=FirstOfGroup(g)exitwhen cu==nullcall md(cu,tu,vb)call GroupRemoveUnit(g,cu)endloopcall DestroyGroup(g)returnendfunctionfunction mf takes unit u returns nothinglocal timer t=nullcall GroupRemoveUnit(Qv,u)set t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1970173042)if t!=null thencall EA(t)call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1970173042,null)endifendfunctionfunction Mf takes nothing returns nothinglocal timer tr=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((tr))))),1970170228)local player p=GetOwningPlayer(u)local real xs=0local real hj=0local real a=0local real b=0local real c=0if Db(u)thencall SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),1315272536,GetUnitX(u))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),1315272537,GetUnitY(u))elseif GetUnitAbilityLevel(u,1097625443)==0 and(LoadBoolean(Ne,(StringHash(I2S(GetHandleId(((u)))))),1852796278))==false thencall SetUnitX(u,LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),1315272536))call SetUnitY(u,LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),1315272537))call IssueImmediateOrderById(u,851972)endifcall SetUnitState((u),UNIT_STATE_MANA,(((GetUnitState((u),UNIT_STATE_MANA))+ZB(u,true)*.25)*1.))call SetUnitState((u),UNIT_STATE_LIFE,(((GetUnitState((u),UNIT_STATE_LIFE))+zB(u,true)*.25)*1.))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),1315917136,(GetUnitState((u),UNIT_STATE_MANA)))endfunctionfunction pf takes unit u returns nothinglocal timer tr=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1970173042)if tr!=null or u==null thenreturnendifset tr=CreateTimer()call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((tr))))),1970170228,u)call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1970173042,tr)call TimerStart(tr,.25,true,function Mf)if(GetOwningPlayer(u)==Vv or GetUnitTypeId(u)==1702327152 or GetUnitAbilityLevel(u,1097625443)>0 or IsUnitType(u,UNIT_TYPE_STRUCTURE)or RectContainsUnit(ox,u))and not(IsUnitType(u,UNIT_TYPE_HERO))thenreturnendifcall GroupAddUnit(Qv,u)call GroupRemoveUnit(hv,u)endfunctionfunction qf takes unit u,real Oc,real aN,real ic,boolean setdmg returns reallocal real Qf=RMaxBJ(0,aN-C)local real sf=Qf*iclocal real Sf=0local real tf=Oclocal real Tf=Qfset Sf=RMinBJ(sf,Oc)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)thencall Sb(u,Sf)elseset C=C+Sfendifset tf=RMaxBJ(0,Oc-Sf)set Tf=RMaxBJ(0,aN-Sf)return tfendfunctionfunction uf takes unit u,unit tu,integer wB,real Uf,real ic,boolean ac,boolean Vc,boolean Ec returns booleanlocal real lA=0local real wf=yB(tu,true,wB)local integer bj=Jc(u,tu)local location LI=nulllocal integer dA=10local unit cu=nulllocal boolean EN=falseset Av[1]=falseset Av[2]=falseset Av[3]=falseset Av[4]=falseset Av[5]=falseif IsUnitType(tu,UNIT_TYPE_DEAD)or IsUnitType(tu,UNIT_TYPE_MAGIC_IMMUNE)thenreturn falseendifif Vc and GetUnitAbilityLevel(tu,1093679414)>0 thenreturn falseendifif av==false thenset lA=Rc(0,u,tu,wB,Uf,ic,ac,Vc,Ec)elseset lA=Ufendifif nv==false thenset lA=lA*(1-wf)endifif GetRandomInt(1,100)<=bj+Hv and Ec thenset lA=lA*(1.5+Ce)set dA=14set EN=trueset Av[1]=trueendifset LI=GetUnitLoc(tu)call iN(u,tu,lA,TR,wB,ac,Vc,EN)set lA=RMaxBJ(0,(D*R)-C)if lA>0 thencall BA(GetOwningPlayer(u),GetOwningPlayer(tu),I2S(R2I(lA)),LI,dA,GetUnitFlyHeight(tu),GetRandomInt(70,110),.7,255,255,0,1.4)elsecall BA(GetOwningPlayer(u),GetOwningPlayer(tu),"吸收",LI,10,GetUnitFlyHeight(u),GetRandomInt(70,110),.7,255,255,0,1.4)endifif not(X)thencall DisableTrigger(En)call UnitDamageTargetBJ(u,tu,lA,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN)call EnableTrigger(En)endifset Iv=lAset Hv=0set Ce=0set iv=falseset av=falseset nv=falsecall RemoveLocation(LI)return trueendfunctionfunction Wf takes unit u,unit tu,integer wB,real Uf,real ic,boolean ac,boolean Vc,boolean Ec returns booleanlocal real lA=0local integer bj=Dc(u,tu)local integer yf=100local boolean gc=falselocal real Yf=0local integer dA=10local location LIlocal unit uu=nulllocal real hp=0local boolean EN=falseset Av[1]=falseset Av[2]=falseset Av[3]=falseset Av[4]=falseset Av[5]=falseif IsUnitType(tu,UNIT_TYPE_DEAD)or GetUnitAbilityLevel(tu,1098282348)>0 thenreturn falseendifif Vc and GetUnitAbilityLevel(tu,1093679414)>0 thenreturn falseendifif av==false thenset lA=fc(u,tu,0,Uf,ic,ac,Vc,Ec)elseset lA=Ufendifif GetRandomInt(1,100)<=bj+Hv and Ec thenset lA=lA*(2+Ce)set dA=14set Av[1]=trueset EN=trueendifset hp=(GetUnitState((tu),UNIT_STATE_LIFE))call iN(u,tu,lA,tR,wB,ac,Vc,EN)set yf=IMaxBJ(10,B-Gc(tu,false))set gc=GetRandomInt(1,100)>=yf and not(ac)and not(qv)set iv=falseset lA=RMaxBJ(0,(D*R)-C)if not(X)thencall DisableTrigger(En)call UnitDamageTargetBJ(u,tu,lA,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)call EnableTrigger(En)endifset Yf=hp-(GetUnitState((tu),UNIT_STATE_LIFE))set LI=GetUnitLoc(tu)if gc thencall BA(GetOwningPlayer(u),GetOwningPlayer(tu),"未击中",LI,10,GetUnitFlyHeight(tu),GetRandomInt(70,110),.7,255,192,192,1.4)elseif lA>0 thenif Yf>0 thencall BA(GetOwningPlayer(u),GetOwningPlayer(tu),I2S(R2I(Yf)),LI,dA,GetUnitFlyHeight(tu),GetRandomInt(70,110),.7,255,192,192,1.4)elsecall BA(GetOwningPlayer(u),GetOwningPlayer(tu),I2S(R2I(lA)),LI,dA,GetUnitFlyHeight(tu),GetRandomInt(70,110),.7,255,192,192,1.4)endifelsecall BA(GetOwningPlayer(u),GetOwningPlayer(tu),"吸收",LI,dA,GetUnitFlyHeight(tu),GetRandomInt(70,110),.7,255,192,192,1.4)endifendifcall RemoveLocation(LI)set Av[2]=gcset Iv=lAset wv=lAset Hv=0set qv=falseset av=falsereturn trueendfunctionfunction zf takes unit u,unit tu,real Zf,real ic,boolean vF,boolean Vc,boolean Ec returns booleanlocal real Oc=Rc(1,u,tu,0,Zf,ic,vF,false,Ec)local location LI=GetUnitLoc(u)local real eF=(GetUnitState((tu),UNIT_STATE_LIFE))local real xF=(GetUnitState((tu),UNIT_STATE_MAX_LIFE))local real oF=xF-eFlocal real ch=0local real rF=0local integer i=((1+GetPlayerId((GetOwningPlayer(u)))))local integer bj=GetUnitAbilityLevel(u,1093677121)+7local integer dA=10if IsUnitType(tu,UNIT_TYPE_DEAD)thenreturn falseendifset Av[1]=falseset Av[2]=falseset Av[3]=falseset Av[4]=falseset Av[5]=falseif GetRandomInt(1,100)<=bj+Hv and Ec thenset Oc=Oc*1.5set dA=14set Av[1]=trueendifif oF>Oc thenset ch=Oc*.1set rF=Ocset fv[i]=fv[i]+R2I(Oc)elseset ch=oF*.1set fv[i]=fv[i]+R2I(oF)set rF=oFendifif GetUnitAbilityLevel(tu,1111845229)>0 thenif tu!=u thencall SetUnitState((tu),UNIT_STATE_MANA,(((GetUnitState((tu),UNIT_STATE_MANA))+rF*.01)*1.))endifendifif not He thencall lf(u,LI,2000,R2I(ch))endifcall RemoveLocation(LI)set LI=GetUnitLoc(tu)call ON(u,tu,Oc,vF,Vc,dA==14)set iv=falseset Oc=RMaxBJ(0,F*G)if Oc>0 thencall BA(GetOwningPlayer(u),GetOwningPlayer(tu),"+"+I2S(R2I(Oc)),LI,dA,GetUnitFlyHeight(tu),GetRandomInt(70,110),.7,32,255,32,1.4)elsecall BA(GetOwningPlayer(u),GetOwningPlayer(tu),"吸收",LI,dA,GetUnitFlyHeight(tu),GetRandomInt(70,110),.7,32,255,32,1.4)endifif not(O)thencall SetUnitState((tu),UNIT_STATE_LIFE,(((GetUnitState((tu),UNIT_STATE_LIFE))+RMaxBJ(0,Oc))*1.))endifcall RemoveLocation(LI)set Iv=RMinBJ(Oc,rF)set Hv=0return trueendfunctionfunction iF takes unit u,location LI,real fw,integer wB,real Uf,real ic,boolean ac,boolean Vc,boolean Ec returns nothinglocal unit culocal group gset g=sI(fw,LI)loopset cu=FirstOfGroup(g)call GroupRemoveUnit(g,cu)exitwhen cu==nullif SA(u,cu,false,false)thencall uf(u,cu,wB,Uf,ic,ac,Vc,Ec)endifendloopcall DestroyGroup(g)endfunctionfunction aF takes unit lu returns nothinglocal integer array UAlocal integer i=0local integer id=GetUnitTypeId(lu)set UA[0]=1164666213set UA[1]=1215324524set UA[2]=1211117648set UA[3]=1211117649set UA[4]=1211117651set UA[5]=1211117642set UA[6]=1211117636set UA[7]=1211117645set UA[8]=1211117644set UA[9]=1211117653set UA[10]=1211117625set UA[11]=1211117624set UA[12]=1211117634set UA[13]=1211117637set UA[14]=1211117639set UA[15]=1211117623set UA[16]=1211117620set UA[17]=1211117633set UA[18]=1211117635set UA[19]=1211117640set UA[20]=1211117654set UA[21]=1211117655set UA[22]=1211117657loopexitwhen UA[i]==nullif UA[i]==id thenset Ye[i]=Ye[i]+1exitwhen trueendifset i=i-1endloopendfunctionfunction nF takes unit lu returns nothinglocal player p=GetOwningPlayer(lu)local integer i=((1+GetPlayerId((p))))local integer j=0local integer VF=0local integer EF=0local integer XF=0local integer r=0local real x=0local real y=0local unit OFif not(Uv)and Be thencall zb(p,999999,false)elsecall zb(p,mR+GetRandomInt(2000,2200),false)endifcall RemoveUnit(Nv[i])call pf(lu)call TriggerRegisterPlayerUnitEventSimple(ei,Player(12),EVENT_PLAYER_UNIT_ATTACKED)set Nv[i]=lucall SelectUnitForPlayerSingle(lu,p)call Kc(lu,lR)call kc(lu,LR,true)call UnitAddAbility(lu,1093677122)call hc(lu,4)call Fc(lu,4)call SaveInteger(Ne,(StringHash(I2S(GetHandleId(((lu)))))),1498628948,(0))call SaveInteger(Ne,(StringHash(I2S(GetHandleId(((lu)))))),1498628933,(0))set x=GetUnitX(NR)+256*Cos(32*i*bj_DEGTORAD)set y=GetUnitY(NR)+256*Sin(32*i*bj_DEGTORAD)set OF=CreateUnit(p,1852010352,x,y,0)call SaveUnitHandle(Ne,1852010352,i,OF)if p==GetLocalPlayer()thencall SetUnitColor(OF,PLAYER_COLOR_RED)elsecall SetUnitColor(OF,PLAYER_COLOR_LIGHT_GRAY)endifset VF=GetHeroStr(lu,false)set EF=GetHeroAgi(lu,false)set XF=GetHeroInt(lu,false)set j=1loopexitwhen j>10set r=GetRandomInt(0,2)if r==0 thenset VF=VF+1elseif r==1 thenset EF=EF+1elseif r==2 thenset XF=XF+1endifset j=j+1endloopset oI[i]=LoadStr(Ne,GetUnitTypeId(lu),1383033957)if TN(oI[i])thencall tN()endifcall SetHeroStr(lu,VF,false)call SetHeroAgi(lu,EF,false)call SetHeroInt(lu,XF,false)call SetUnitFacing(lu,90)call SetUnitAbilityLevel(lu,1093679441,gR+1)call UnitRemoveAbility(lu,1110454863)call Ad(p,lu)call ResetUnitAnimation(lu)set se=se+1call UnitAddItem(lu,CreateItem(1819107954,0,0))endfunctionfunction RF takes player p,real x,real y returns unitlocal integer r=0local integer i=((1+GetPlayerId((p))))loopset r=GetRandomInt(1,13)exitwhen not(pe[r])and Rv[r]!=1211117622 and Rv[r]!=1211117643 and Rv[r]!=1211117617endloopset pe[r]=truereturn CreateUnit(p,Rv[r],x,y,90)endfunctionfunction IF takes unit u,unit tu,integer lv returns nothinglocal unit lu=nulllocal integer lA=300+300*lvlocal real ic=vN(u)local timer t=CreateTimer()local integer eb=0call vB(tu,1093677135,1110454327,12,true)call TimerStart(t,12,false,null)loopif IsUnitType(tu,UNIT_TYPE_DEAD)thenreturnendifexitwhen GetUnitAbilityLevel(tu,1093677135)==0 or TimerGetRemaining(t)==0call XA(.01)endloopcall DestroyTimer(t)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",tu,"origon"))if LoadBoolean(Ne,(StringHash(I2S(GetHandleId((tu))))),1093677135)thenset eb=eb+20call SaveBoolean(Ne,(StringHash(I2S(GetHandleId((tu))))),1093677135,false)endifset Hv=ebif GetUnitAbilityLevel(tu,1093677907)>0 thenset ic=ic*1.2endifcall uf(u,tu,PR,lA*ic,1.6+I2R(lv)*.8*ic,false,false,true)if IsUnitType(tu,UNIT_TYPE_DEAD)and GetRandomInt(1,100)<=25 thenset lu=CreateUnit(GetOwningPlayer(u),1851941170,GetUnitX(tu),GetUnitY(tu),0)call jd(lu,u,0,.35,.4)call vB(lu,1093678900,1110454358,45+GetRandomInt(1,5)*15,true)loopif IsUnitType(lu,UNIT_TYPE_DEAD)thenreturnendifcall TriggerSleepAction(.01)exitwhen GetUnitAbilityLevel(lu,1093678900)==0endloopcall SetUnitOwner(lu,Vv,false)call Kf(lu,u)endifendfunctionfunction AF takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228)local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970173045)local integer lv=GetUnitAbilityLevel(u,1093677131)local integer c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1634955363)local real lA=(50+100*lv)/ 10local real ic=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1650876976)*3if GetUnitAbilityLevel(tu,1093677907)==0 or c<1 thencall SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),StringHash("A00K")+(StringHash(I2S(GetHandleId((u))))),null)call PauseTimer(t)call DestroyTimer(t)returnendifset c=c-1call uf(u,tu,PR,lA*ic,.12+.045*I2R(lv)*ic,true,false,false)call zf(u,u,Iv/ 3,0,true,false,false)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1634955363,c)endfunctionfunction NF takes unit u,unit tu,integer lv returns nothinglocal timer t=nulllocal real ic=vN(u)set t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),StringHash("A00K")+(StringHash(I2S(GetHandleId((u))))))if t==null thenset t=CreateTimer()call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1650876976,ic)call vB(tu,1093677907,1114992243,30.1,true)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228,u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970173045,tu)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1634955363,10)call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),StringHash("A00K")+(StringHash(I2S(GetHandleId((u))))),t)call TimerStart(t,3,true,function AF)elsecall SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1650876976,ic)call vB(tu,1093677907,1114992243,30.1,true)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1634955363,10)endifendfunctionfunction bF takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228)local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970173045)local integer lv=GetUnitAbilityLevel(u,1093677138)local integer c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1634955363)local real lA=(250+250*lv)/ 7local real ic=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1650876976)if GetUnitAbilityLevel(tu,1093678409)==0 or c<1 thencall SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),StringHash("A00R")+(StringHash(I2S(GetHandleId((u))))),null)call PauseTimer(t)call DestroyTimer(t)returnendifset c=c-1call uf(u,tu,PR,lA*ic,(1+I2R(lv)*.5*ic)/ 7,true,false,false)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1634955363,c)endfunctionfunction BF takes unit u,unit tu,integer lv returns nothinglocal timer t=nulllocal real ic=vN(u)set t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),StringHash("A00R")+(StringHash(I2S(GetHandleId((u))))))if t==null thenset t=CreateTimer()call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1650876976,ic)call vB(tu,1093678409,1114796130,14.01,true)call vB(tu,1093678645,0,14.01,true)if GetUnitAbilityLevel(tu,1093678645)<lv thencall SetUnitAbilityLevel(tu,1093678645,lv)endifcall SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228,u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970173045,tu)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1634955363,7)call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),StringHash("A00R")+(StringHash(I2S(GetHandleId((u))))),t)call TimerStart(t,2,true,function bF)elsecall SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1650876976,ic)call vB(tu,1093678409,1114796130,14.01,true)call vB(tu,1093678645,0,14.01,true)if GetUnitAbilityLevel(tu,1093678645)<lv thencall SetUnitAbilityLevel(tu,1093678645,lv)endifcall SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1634955363,7)endifendfunctionfunction cF takes unit u returns reallocal real db=1if GetUnitAbilityLevel(u,1093678640)>0 thenset db=db+.35endifreturn dbendfunctionfunction dF takes unit u returns reallocal real db=0set db=I2R(GetUnitAbilityLevel(u,1093681457)*6)return dbendfunctionfunction DF takes nothing returns nothinglocal timer t=GetExpiredTimer()local real m=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1835101793)local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1433299316)call SetUnitState((u),UNIT_STATE_MANA,(((GetUnitState((u),UNIT_STATE_MANA))-(m-(GetUnitState((u),UNIT_STATE_MANA)))*(.05+GetUnitAbilityLevel(u,1093677394)*.05))*1.))call DestroyTimer(t)endfunctionfunction fF takes unit u returns reallocal real db=0local real lv=I2R(GetUnitAbilityLevel(u,1093677394))local timer tif lv>0 thenset t=CreateTimer()call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1835101793,(GetUnitState((u),UNIT_STATE_MANA)))call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1433299316,u)call TimerStart(t,.01,false,function DF)set db=db+.05+.05*lvendifreturn dbendfunctionfunction FF takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228)local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1952543349)local integer c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1633839459)local real aN=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1633971559)if c>0 and GetUnitAbilityLevel(tu,1093682497)>0 thenset av=trueset nv=truecall uf(u,tu,1,aN,0,true,false,false)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1633839459,c-1)elsecall PauseTimer(t)call DestroyTimer(t)endifendfunctionfunction gF takes unit u,unit tu,real aN,integer c returns nothinglocal timer t=nulllocal real GF=0local integer oc=0call vB(tu,1093682497,1110454598,6.1,true)set t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),1114797422+(StringHash(I2S(GetHandleId((u))))))if t==null thenset t=CreateTimer()call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),1114797422+(StringHash(I2S(GetHandleId((u))))),t)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228,u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1952543349,tu)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1633839459,c)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1633971559,aN/ c)call TimerStart(t,1.5,true,function FF)elseset t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),1114797422+(StringHash(I2S(GetHandleId((u))))))set oc=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1633839459)set GF=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1633971559)set aN=(aN+oc*GF)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1633839459,c)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1633971559,aN/ c)endifendfunctionfunction hF takes unit u,unit tu,boolean HF returns nothinglocal real lA=0if HF and Av[1]thenif Iv>0 thenset lA=Ivelseset lA=Ccall bA("Fire C:"+R2S(lA),5)endifcall gF(u,tu,lA*.45,4)endifendfunctionfunction jF takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1886287477,100)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction LF takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1953723506,5)call RandomDistAddItem(1952736632,5)call RandomDistAddItem(1953066612,5)call RandomDistAddItem(-1,85)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction mF takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1953723506,5)call RandomDistAddItem(1952736632,5)call RandomDistAddItem(1953066612,5)call RandomDistAddItem(-1,85)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction MF takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1953723506,5)call RandomDistAddItem(1952736632,5)call RandomDistAddItem(1953066612,5)call RandomDistAddItem(-1,85)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction pF takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1936093031,10)call RandomDistAddItem(-1,90)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction PF takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1735355492,5)call RandomDistAddItem(1953723442,5)call RandomDistAddItem(1952741426,5)call RandomDistAddItem(1953066546,5)call RandomDistAddItem(-1,80)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction qF takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1953723442,100)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction QF takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1919182128,2)call RandomDistAddItem(2003723623,2)call RandomDistAddItem(-1,96)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction sF takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1919182128,2)call RandomDistAddItem(2003723623,2)call RandomDistAddItem(-1,96)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction SF takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1919182128,2)call RandomDistAddItem(2003723623,2)call RandomDistAddItem(-1,96)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction tF takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1919182128,2)call RandomDistAddItem(2003723623,2)call RandomDistAddItem(-1,96)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction TF takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1919182128,2)call RandomDistAddItem(2003723623,2)call RandomDistAddItem(-1,96)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction uF takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1919182128,2)call RandomDistAddItem(2003723623,2)call RandomDistAddItem(-1,96)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction UF takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1919182128,2)call RandomDistAddItem(2003723623,2)call RandomDistAddItem(-1,96)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction wF takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1919182128,2)call RandomDistAddItem(2003723623,2)call RandomDistAddItem(-1,96)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction WF takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1919182128,2)call RandomDistAddItem(2003723623,2)call RandomDistAddItem(-1,96)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction yF takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1919182128,2)call RandomDistAddItem(2003723623,2)call RandomDistAddItem(-1,96)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction YF takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1919182128,2)call RandomDistAddItem(2003723623,2)call RandomDistAddItem(-1,96)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction zF takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(ChooseRandomItemEx(ITEM_TYPE_ARTIFACT,-1),15)call RandomDistAddItem(-1,85)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction ZF takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1953328500,100)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction vg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(ChooseRandomItemEx(ITEM_TYPE_ARTIFACT,-1),15)call RandomDistAddItem(-1,85)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction eg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(ChooseRandomItemEx(ITEM_TYPE_ARTIFACT,-1),15)call RandomDistAddItem(-1,85)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction xg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1734567276,100)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction og takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1919182130,33)call RandomDistAddItem(-1,67)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction ig takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(-1,1)call RandomDistAddItem(-1,99)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction ag takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1886287477,50)call RandomDistAddItem(1885826401,50)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Vg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1735355492,5)call RandomDistAddItem(1953723442,5)call RandomDistAddItem(1952741426,5)call RandomDistAddItem(1953066546,5)call RandomDistAddItem(-1,80)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Eg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1735355492,5)call RandomDistAddItem(1953723442,5)call RandomDistAddItem(1952741426,5)call RandomDistAddItem(1953066546,5)call RandomDistAddItem(-1,80)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Xg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1735355492,5)call RandomDistAddItem(1953723442,5)call RandomDistAddItem(1952741426,5)call RandomDistAddItem(1953066546,5)call RandomDistAddItem(-1,80)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Og takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1735355492,5)call RandomDistAddItem(1953723442,5)call RandomDistAddItem(1952741426,5)call RandomDistAddItem(1953066546,5)call RandomDistAddItem(-1,80)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Rg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1735355492,5)call RandomDistAddItem(1953723442,5)call RandomDistAddItem(1952741426,5)call RandomDistAddItem(1953066546,5)call RandomDistAddItem(-1,80)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Ig takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(2003723623,100)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Ag takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1685288301,100)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Ng takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1953723506,8)call RandomDistAddItem(1952736632,8)call RandomDistAddItem(1953066612,8)call RandomDistAddItem(-1,76)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction bg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(ChooseRandomItemEx(ITEM_TYPE_ARTIFACT,3),5)call RandomDistAddItem(-1,95)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Bg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1953723506,8)call RandomDistAddItem(1952736632,8)call RandomDistAddItem(1953066612,8)call RandomDistAddItem(-1,76)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction cg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(ChooseRandomItemEx(ITEM_TYPE_ARTIFACT,2),40)call RandomDistAddItem(-1,60)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Cg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1935895664,15)call RandomDistAddItem(-1,85)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Dg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(ChooseRandomItemEx(ITEM_TYPE_POWERUP,1),2)call RandomDistAddItem(-1,98)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction fg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(ChooseRandomItemEx(ITEM_TYPE_POWERUP,1),2)call RandomDistAddItem(-1,98)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Fg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(ChooseRandomItemEx(ITEM_TYPE_POWERUP,1),2)call RandomDistAddItem(-1,98)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction gg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(ChooseRandomItemEx(ITEM_TYPE_POWERUP,1),2)call RandomDistAddItem(-1,98)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Gg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(ChooseRandomItemEx(ITEM_TYPE_POWERUP,1),2)call RandomDistAddItem(-1,98)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction hg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(ChooseRandomItemEx(ITEM_TYPE_POWERUP,1),2)call RandomDistAddItem(-1,98)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Hg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(ChooseRandomItemEx(ITEM_TYPE_POWERUP,1),2)call RandomDistAddItem(-1,98)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction jg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(ChooseRandomItemEx(ITEM_TYPE_POWERUP,1),2)call RandomDistAddItem(-1,98)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Jg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1936749157,10)call RandomDistAddItem(1869375794,1)call RandomDistAddItem(-1,89)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction kg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1919448168,30)call RandomDistAddItem(-1,70)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Kg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1803121518,50)call RandomDistAddItem(-1,50)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction lg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1735355492,100)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Lg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1953723506,8)call RandomDistAddItem(1952736632,8)call RandomDistAddItem(1953066612,8)call RandomDistAddItem(-1,76)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Mg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1953723506,8)call RandomDistAddItem(1952736632,8)call RandomDistAddItem(1953066612,8)call RandomDistAddItem(-1,76)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction pg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1735355492,5)call RandomDistAddItem(1953723442,5)call RandomDistAddItem(1952741426,5)call RandomDistAddItem(1953066546,5)call RandomDistAddItem(-1,80)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Pg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(-1,1)call RandomDistAddItem(-1,99)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction qg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1953723506,8)call RandomDistAddItem(1952736632,8)call RandomDistAddItem(1953066612,8)call RandomDistAddItem(-1,76)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Qg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1953723506,8)call RandomDistAddItem(1952736632,8)call RandomDistAddItem(1953066612,8)call RandomDistAddItem(-1,76)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction sg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1953723506,8)call RandomDistAddItem(1952736632,8)call RandomDistAddItem(1953066612,8)call RandomDistAddItem(-1,76)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Sg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1953723506,8)call RandomDistAddItem(1952736632,8)call RandomDistAddItem(1953066612,8)call RandomDistAddItem(-1,76)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction tg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1953723506,8)call RandomDistAddItem(1952736632,8)call RandomDistAddItem(1953066612,8)call RandomDistAddItem(-1,76)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Tg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1735355492,30)call RandomDistAddItem(-1,70)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction ug takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1735355492,30)call RandomDistAddItem(-1,70)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Ug takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(1735355492,30)call RandomDistAddItem(-1,70)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction wg takes nothing returns nothinglocal widget JF=nulllocal unit kF=nulllocal integer KF=0local boolean lF=trueset JF=bj_lastDyingWidgetif(JF==null)thenset kF=GetTriggerUnit()endifif(kF!=null)thenset lF=not IsUnitHidden(kF)if(lF and GetChangingUnit()!=null)thenset lF=(GetChangingUnitPrevOwner()==Player(12))endifendifif(lF)thencall RandomDistReset()call RandomDistAddItem(-1,5)call RandomDistAddItem(-1,95)set KF=RandomDistChoose()if(kF!=null)thencall iA(kF,KF)elsecall WidgetDropItem(JF,KF)endifendifset bj_lastDyingWidget=nullcall DestroyTrigger(GetTriggeringTrigger())endfunctionfunction nG takes nothing returns nothinglocal player p=Player(11)local unit ulocal integer unitIDlocal trigger tlocal real ygset u=CreateUnit(p,1702064246,-12819.,-5720.6,270.)set u=CreateUnit(p,1702064246,-12735.1,-5714.7,270.)set u=CreateUnit(p,1702064246,-12648.9,-5714.9,270.)set u=CreateUnit(p,1702064246,-12817.9,-5765.9,270.)set u=CreateUnit(p,1702064246,-12728.7,-5767.5,270.)set u=CreateUnit(p,1702064246,-12653.2,-5771.9,270.)set u=CreateUnit(p,1702064246,-14187.7,-1157.1,50.132)set u=CreateUnit(p,1702064246,-13940.3,-1145.3,320.404)set u=CreateUnit(p,1702064246,-14182.2,-1409.3,24.918)set u=CreateUnit(p,1702064246,-13938.7,-1417.2,174.688)set u=CreateUnit(p,1702064246,-13926.8,-1261.2,47.484)set u=CreateUnit(p,1702064246,-14075.2,-1141.4,336.478)set u=CreateUnit(p,1702064246,-14214.4,-1239.7,142.354)set u=CreateUnit(p,1702064246,-14062.9,-1414.,322.634)set u=CreateUnit(p,1702064246,-14074.,-1244.8,47.484)set BR=CreateUnit(p,1702064246,-14340.9,-14233.,153.86)set u=CreateUnit(p,1702064246,-10818.3,-6883.1,174.688)set u=CreateUnit(p,1702064246,-10394.5,-6883.1,174.688)set u=CreateUnit(p,1702064246,-10830.1,-7315.8,88.576)set u=CreateUnit(p,1702064246,-8003.6,-6849.3,174.69)set u=CreateUnit(p,1702064246,-8442.6,-6854.3,174.69)set u=CreateUnit(p,1702064246,-7999.,-7257.4,174.69)set u=CreateUnit(p,1702064246,-8009.3,-9634.1,174.69)set u=CreateUnit(p,1702064246,-7997.6,-9219.8,174.69)set u=CreateUnit(p,1702064246,-8439.1,-9652.9,174.69)set u=CreateUnit(p,1702064246,-10364.2,-9642.,174.69)set u=CreateUnit(p,1702064246,-10822.9,-9653.5,174.69)set u=CreateUnit(p,1702064246,-10829.9,-9269.8,174.69)endfunctionfunction CreatePlayerUnits takes nothing returns nothingcall nG()endfunctionfunction CG takes nothing returns nothingcall BN(Xn,1684106599,"gg_trg_Show_Noral_Dmg")call BN(ER,1684106599,"gg_trg_Show_Pander_Dmg")call BN(Nn,1684106599,"gg_trg_MZL")call BN(Bi,1751474540,"gg_trg_I048")call BN(aa,1684106599,"gg_trg_afac")call BN(wE,1684106599,"gg_trg_Apig")call BN(tn,1684106599,"gg_trg_A022_M")call BN(Tn,1751474540,"gg_trg_A022_H")call BN(Ni,1751474540,"gg_trg_I03T")call BN(rX,1684106599,"gg_trg_A0DR")call BN(ji,1684106599,"gg_trg_A0AZ")call BN(jn,1684106599,"gg_trg_A05V")call BN(Kn,1684106599,"gg_trg_A042_A03A")call BN(ln,1684106599,"gg_trg_A02S")call BN(Ln,1684106599,"gg_trg_A03Q")call BN(mn,1684106599,"gg_trg_A03M")call BN(Mn,1684106599,"gg_trg_A087")call BN(pn,1684106599,"gg_trg_A08B")call BN(Pn,1684106599,"gg_trg_A0B8")call BN(Qn,1684106599,"gg_trg_Binf")call BN(sn,1684106599,"gg_trg_A02H")call BN(EV,1684106599,"gg_trg_A00H_Dmg")call BN(iX,1684106599,"gg_trg_A0D9")call BN(VX,1684106599,"gg_trg_A0D5")call BN(EX,1684106599,"gg_trg_A0D8")call BN(IX,1684106599,"gg_trg_A0BG")call BN(NX,1684106599,"gg_trg_A0BD_B")call BN(fX,1684106599,"gg_trg_A064")call BN(FX,1684106599,"gg_trg_A06Q")call BN(gX,1684106599,"gg_trg_A0A6")call BN(GX,1684106599,"gg_trg_A09X")call BN(hX,1684106599,"gg_trg_A09T")call BN(HX,1684106599,"gg_trg_A06K")call BN(jX,1684106599,"gg_trg_A077")call BN(Ja,1684106599,"gg_trg_A01Q")call BN(na,1684106599,"gg_trg_rat9")call BN(JV,1684106599,"gg_trg_A04V")call BN(kV,1684106599,"gg_trg_A0DV")call BN(yV,1684106599,"gg_trg_A03U_X")call BN(oV,1684106599,"gg_trg_A08Q")call BN(bi,1684106599,"gg_trg_dthb")call BN(Yi,1684106599,"gg_trg_blba")call BN(gi,1684106599,"gg_trg_B04Z")call BN(Dn,1684106599,"gg_trg_A0C6")call BN(oX,1684106599,"gg_trg_A0DT")call BN(xX,1684106599,"gg_trg_A0A4")call BN(Ui,1684106599,"gg_trg_I05R")call BN(Cn,1684106599,"gg_trg_A00L")call BN(YE,1684106599,"gg_trg_A0EG")call BN(zE,1684106599,"gg_trg_A0EI")call BN(Fn,1684106599,"gg_trg_A0BK")call BN(iV,1684106599,"gg_trg_A06F")call BN(ja,1684106599,"gg_trg_A0ED")call BN(cn,1684106599,"gg_trg_A02O")call BN(eX,1684106599,"gg_trg_A0DU")call BN(An,1684106599,"gg_trg_A01I_Dmg")call BN(fn,1751474540,"gg_trg_A0DD")call BN(bn,1684106599,"gg_trg_A09Q_Dmg")call BN(Bn,1751474540,"gg_trg_A09Q_Hel")call BN(rV,1684106599,"gg_trg_A0DF_dmg")call BN(aV,1751474540,"gg_trg_A0DF_hel")call BN(yn,1684106599,"gg_trg_A02C")endfunctionfunction DG takes nothing returns nothinglocal timer tr=GetExpiredTimer()local timer fG=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((tr))))),StringHash("tr"))local lightning FG=LoadLightningHandle(Ne,(StringHash(I2S(GetHandleId((tr))))),StringHash("lig"))local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((tr))))),StringHash("u"))local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((tr))))),StringHash("tu"))local location gG=GetUnitLoc(u)local location GG=GetUnitLoc(tu)local real r=TimerGetRemaining(fG)call MoveLightningEx(FG,false,GetUnitX(u),GetUnitY(u),GetUnitFlyHeight(u)+GetLocationZ(gG)+40,GetUnitX(tu),GetUnitY(tu),GetUnitFlyHeight(tu)+GetLocationZ(GG)+40)if r<=1 thencall SetLightningColor(FG,1,1,1,r)endifcall RemoveLocation(gG)call RemoveLocation(GG)endfunctionfunction hG takes nothing returns nothinglocal timer tr=GetExpiredTimer()local timer HG=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((tr))))),StringHash("dtr"))local lightning FG=LoadLightningHandle(Ne,(StringHash(I2S(GetHandleId((tr))))),StringHash("lig"))call PauseTimer(HG)call DestroyTimer(HG)call DestroyTimer(tr)call DestroyLightning(FG)endfunctionfunction jG takes unit u,unit tu,string JG,real kG returns lightninglocal timer tr=CreateTimer()local timer HG=CreateTimer()local location gG=GetUnitLoc(u)local location GG=GetUnitLoc(tu)local lightning FG=AddLightningEx(JG,true,GetUnitX(u),GetUnitY(u),GetUnitFlyHeight(u)+GetLocationZ(gG)+40,GetUnitX(tu),GetUnitY(tu),GetUnitFlyHeight(tu)+GetLocationZ(GG)+40)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((HG))))),StringHash("u"),u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((HG))))),StringHash("tu"),tu)call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((HG))))),StringHash("tr"),tr)call SaveLightningHandle(Ne,(StringHash(I2S(GetHandleId((HG))))),StringHash("lig"),FG)call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((tr))))),StringHash("dtr"),HG)call SaveLightningHandle(Ne,(StringHash(I2S(GetHandleId((tr))))),StringHash("lig"),FG)call RemoveLocation(gG)call RemoveLocation(GG)call TimerStart(HG,.1,true,function DG)call TimerStart(tr,kG,false,function hG)return FGendfunctionfunction KG takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer i=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Integer"))local real pN=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Angle"))local real m=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Speed"))/ 50local real a=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Distance"))/ 2local real b=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("High"))/ 2local real A=b/(a*a)local real xlocal real ylocal unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Unit"))local real lGlocal real LGset i=i+1set x=m*iset y=-A*(x-a)*(x-a)+bset lG=GetUnitX(u)+m*Cos(pN*bj_DEGTORAD)set LG=GetUnitY(u)+m*Sin(pN*bj_DEGTORAD)call SetUnitX(u,lG)call SetUnitY(u,LG)call SetUnitFacing(u,pN)call SetUnitFlyHeight(u,y,.0)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Integer"),i)if x>=(2*a)thencall UnitRemoveAbility(u,1098015094)call hB(u,false)call SetUnitFlyHeight(u,GetUnitDefaultFlyHeight(u),.0)call SaveBoolean(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("Flying"),false)call FlushChildHashtable(Ne,(StringHash(I2S(GetHandleId((t))))))call DestroyTimer(t)endifendfunctionfunction mG takes unit u,real MG,real pG,real IA,real PG returns nothinglocal timer t=nullif GetUnitAbilityLevel(u,1098015094)==0 and GetUnitState(u,UNIT_STATE_LIFE)>.0 and pG>.0 and IA>.0 thenset t=CreateTimer()call UnitAddAbility(u,1098015094)call hB(u,true)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Angle"),PG)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("High"),MG)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Distance"),pG)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Speed"),IA)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Unit"),u)call SaveBoolean(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Flying"),TRUE)call TimerStart(t,.02,true,function KG)endifendfunctionfunction qG takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer i=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Integer"))local real pN=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Angle"))local real m=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Speed"))/ 50local real a=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Distance"))/ 2local real b=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("High"))/ 2local real A=b/(a*a)local real xlocal real ylocal unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Unit"))local real lGlocal real LGset i=i+1set x=m*iset y=-A*(x-a)*(x-a)+bset lG=GetUnitX(u)+m*Cos(pN*bj_DEGTORAD)set LG=GetUnitY(u)+m*Sin(pN*bj_DEGTORAD)if not(IsTerrainPathable(lG,LG,PATHING_TYPE_WALKABILITY))thencall SetUnitX(u,lG)call SetUnitY(u,LG)endifcall SetUnitFacing(u,pN)call SetUnitFlyHeight(u,y,.0)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Integer"),i)if x>=(2*a)thencall hB(u,false)call SetUnitFlyHeight(u,GetUnitDefaultFlyHeight(u),.0)call SaveBoolean(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("Flying"),false)call FlushChildHashtable(Ne,(StringHash(I2S(GetHandleId((t))))))call DestroyTimer(t)call UnitRemoveAbility(u,1098015094)endifendfunctionfunction QG takes unit u,real MG,real pG,real IA,real PG returns nothinglocal timer t=nullif GetUnitAbilityLevel(u,1098015094)==0 and GetUnitState(u,UNIT_STATE_LIFE)>.0 and pG>.0 and IA>.0 thenset t=CreateTimer()call hB(u,true)call UnitAddAbility(u,1098015094)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Angle"),PG)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("High"),MG)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Distance"),pG)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Speed"),IA)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Unit"),u)call SaveBoolean(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("Flying"),TRUE)call TimerStart(t,.02,true,function qG)endifset t=nullendfunctionfunction sG takes nothing returns nothinglocal timer t=GetExpiredTimer()local real ml=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1296844103)local lightning FG=LoadLightningHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1279870798)local integer SG=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1868985204)+3local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228)local real tG=RMinBJ(LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1279610439),LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1279610418)+6)local real x=GetUnitX(u)local real y=GetUnitY(u)local real x1=MN(x,SG,ml)local real y1=qN(y,SG,ml)local real x2=MN(x,SG+120,ml)local real y2=qN(y,SG+120,ml)local real f=QN(x1,y1,x2,y2)local real x3=MN(x1,f,tG)local real y3=qN(y1,f,tG)call MoveLightning(FG,false,x1,y1,x3,y3)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1868985204,SG)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1279610418,tG)endfunctionfunction TG takes nothing returns nothingcall KillUnit(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetExpiredTimer()))))),1970170228))call DestroyTimer(GetExpiredTimer())endfunctionfunction uG takes unit u,real t returns nothinglocal timer tr=CreateTimer()call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((tr))))),1970170228,u)call TimerStart(tr,t,false,function TG)endfunctionfunction wG takes unit u returns integerlocal integer i=1loopexitwhen Ov[i]==0if GetUnitAbilityLevel(u,Ov[i])>0 thencall UnitRemoveAbility(u,Ov[i])call UnitRemoveAbility(u,Wv[i])return Ov[i]endifset i=i+1endloopreturn 0endfunctionfunction WG takes unit u returns integerlocal integer i=1loopexitwhen ne[i]==0if ne[i]==1110454864 thencall bA(I2S(i),5)endifif GetUnitAbilityLevel(u,ne[i])>0 thencall bA("x",5)call UnitRemoveAbility(u,ne[i])call UnitRemoveAbility(u,bv[i])return ne[i]endifset i=i+1endloopreturn 0endfunctionfunction Trig_Achievement_lib_Actions takes nothing returns nothingendfunctionfunction xh takes string s,integer v returns nothinglocal sound JI=CreateSound(s,false,false,true,12700,12700,"")call SetSoundVolume(JI,v)call StartSound(JI)call KillSoundWhenDone(JI)endfunctionfunction oh takes nothing returns nothingcall xh("CleaveTarget.wav",0)call xh("Sound\\Units\\Combat\\MetalMediumChopMetal3.wav",0)call xh("SwingWeaponSpecialWarriorE.wav",0)endfunctionfunction ih takes nothing returns booleanreturn(GetDestructableTypeId(GetEnumDestructable())==1280599416)or(GetDestructableTypeId(GetEnumDestructable())==1110454321)or(GetDestructableTypeId(GetEnumDestructable())==1110454322)or(GetDestructableTypeId(GetEnumDestructable())==1110454324)or(GetDestructableTypeId(GetEnumDestructable())==1110454323)endfunctionfunction ah takes nothing returns booleanreturn(ih())endfunctionfunction nh takes nothing returns booleanreturn(GetDestructableTypeId(GetEnumDestructable())==1110454320)endfunctionfunction Vh takes nothing returns nothingif(ah())thencall TriggerRegisterDeathEvent(ni,GetEnumDestructable())endifif(nh())thencall SetDestructableInvulnerable(GetEnumDestructable(),true)endifendfunctionfunction Eh takes nothing returns nothingcall DestroyTrigger(GetTriggeringTrigger())call CinematicFadeBJ(1,.0,"ReplaceableTextures\\CameraMasks\\Black_mask.blp",0,0,0,0)call CreateTimerDialogBJ(bj_lastStartedTimer," ")call InitHashtableBJ()set Ne=bj_lastCreatedHashtablecall InitGameCacheBJ("SPELL IV.w3v")set Be=SaveGameCache(bj_lastCreatedGameCache)call tb(false)if GetPlayerName(Player(0))==GetObjectName(1399023668)thenset Uv=trueendifcall CG()call FlushGameCache(bj_lastCreatedGameCache)set ze=InitGameCache("SL.w3v")call MeleeStartingVisibility()call TriggerExecute(pr)call TriggerExecute(Mr)call TriggerExecute(Tr)call TriggerExecute(lr)call TriggerExecute(mr)call TriggerExecute(Pr)call TriggerExecute(Lr)call TriggerExecute(Sr)call TriggerExecute(yr)call TriggerExecute(jr)call TriggerExecute(wr)call TriggerExecute(Wr)set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=8loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset bj_forLoopBIndex=9set bj_forLoopBIndexEnd=11loopexitwhen bj_forLoopBIndex>bj_forLoopBIndexEndcall SetPlayerAllianceStateBJ(Player(-1+(bj_forLoopAIndex)),Player(-1+(bj_forLoopBIndex)),3)call SetPlayerAllianceStateBJ(Player(-1+(bj_forLoopBIndex)),Player(-1+(bj_forLoopAIndex)),3)set bj_forLoopBIndex=bj_forLoopBIndex+1endloopset bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall EnumDestructablesInRectAll(bj_mapInitialPlayableArea,function Vh)call SetPlayerFlagBJ(PLAYER_STATE_GIVES_BOUNTY,false,Player(12))call SetMapFlag(MAP_RESOURCE_TRADING_ALLIES_ONLY,true)call SetPlayerAbilityAvailableBJ(false,1093677122,Player(12))set fe=fRcall FogMaskEnableOn()call CreateFogModifierRectBJ(true,Vv,FOG_OF_WAR_VISIBLE,bj_mapInitialPlayableArea)set bj_forLoopAIndex=1loopexitwhen bj_forLoopAIndex>hRcall SetPlayerAllianceStateBJ(Player(12),Player(-1+(bj_forLoopAIndex)),6)call SetPlayerAbilityAvailableBJ(false,1093677122,Player(-1+(bj_forLoopAIndex)))set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall uA(Player(8))call uA(Player(9))call uA(Player(10))call SetPlayerAllianceStateBJ(Player(11),Vv,2)endfunctionfunction Oh takes nothing returns booleanreturn((1+GetPlayerId(GetFilterPlayer()))<=8)endfunctionfunction Rh takes nothing returns nothingcall SetCameraTargetControllerNoZForPlayer(GetEnumPlayer(),cR,0,0,false)endfunctionfunction Ih takes nothing returns nothingcall SelectUnitForPlayerSingle(cR,GetEnumPlayer())endfunctionfunction Ah takes nothing returns booleanreturn(Be)and(Uv==false)endfunctionfunction Nh takes nothing returns booleanreturn(Ah())endfunctionfunction bh takes nothing returns nothingcall ib()call CinematicFadeBJ(0,8.,"ReplaceableTextures\\CameraMasks\\Black_mask.blp",0,0,0,0)call ForForce(TI(Condition(function Oh)),function Rh)call TriggerExecute(Na)call TriggerExecute(Yr)call TriggerExecute(Ur)call StartTimerBJ(Gv,false,1000000000.)call gI(.5)call ForForce(bj_FORCE_ALL_PLAYERS,function Ih)call Wb()call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.,"|cd07070d0元素IV："+gv+"|r"+UR)call HA(dR)call HA(DR)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.,"欢迎来到元素魔法之战
官方论坛:ele4.uuu9.com")if(Nh())thencall DisableTrigger(ME)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,180.,"系统检测到您在正单机模式下游戏,因此你有大量的技能点以及金币可以使用.但是你不能进入传送门进行过关游戏.如果需要过关游戏请到区域网下进行联机游戏")elsecall TriggerExecute(PE)endifcall gI(20.)call DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Ch takes nothing returns nothingcall SaveInteger(Ne,1227894865,StringHash("STR"),4)call SaveInteger(Ne,1227894865,StringHash("GOLD"),600)call SaveInteger(Ne,1227894871,StringHash("AGI"),4)call SaveInteger(Ne,1227894871,StringHash("GOLD"),600)call SaveInteger(Ne,1227895097,StringHash("INT"),4)call SaveInteger(Ne,1227895097,StringHash("GOLD"),600)call SaveInteger(Ne,1227895105,StringHash("STR"),10)call SaveInteger(Ne,1227895105,StringHash("GOLD"),1500)call SaveInteger(Ne,1227895106,StringHash("AGI"),10)call SaveInteger(Ne,1227895106,StringHash("GOLD"),1500)call SaveInteger(Ne,1227895107,StringHash("INT"),10)call SaveInteger(Ne,1227895107,StringHash("GOLD"),1500)call SaveInteger(Ne,1227895108,StringHash("AMM"),2)call SaveInteger(Ne,1227895108,StringHash("GOLD"),300)call SaveInteger(Ne,1227895109,StringHash("AMM"),6)call SaveInteger(Ne,1227895109,StringHash("GOLD"),900)call SaveInteger(Ne,1227895110,StringHash("AMM"),10)call SaveInteger(Ne,1227895110,StringHash("GOLD"),1500)call SaveInteger(Ne,1227895111,StringHash("GOLD"),750)call SaveInteger(Ne,1227895112,StringHash("GOLD"),600)call SaveInteger(Ne,1227895113,StringHash("GOLD"),1600)call SaveReal(Ne,1227895113,StringHash("ITR"),.2)call SaveInteger(Ne,1227895114,StringHash("ATT"),12)call SaveInteger(Ne,1227895114,StringHash("GOLD"),1600)call SaveInteger(Ne,1227895115,StringHash("SP_DMG"),18)call SaveInteger(Ne,1227895115,StringHash("GOLD"),1600)call SaveInteger(Ne,1227895116,StringHash("SP_HEL"),18)call SaveInteger(Ne,1227895116,StringHash("GOLD"),1600)call SaveInteger(Ne,1227895117,StringHash("GOLD"),3500)call SaveReal(Ne,1227895117,StringHash("ITR"),.45)call SaveInteger(Ne,1227895118,StringHash("GOLD"),900)call SaveReal(Ne,1227895118,StringHash("SPB"),.07)call SaveInteger(Ne,1227895119,StringHash("ATT"),18)call SaveInteger(Ne,1227895119,StringHash("GOLD"),3200)call SaveInteger(Ne,1227895120,StringHash("SP_DMG"),40)call SaveInteger(Ne,1227895120,StringHash("GOLD"),3600)call SaveInteger(Ne,1227895121,StringHash("GOLD"),3600)call SaveInteger(Ne,1227895121,StringHash("SP"),40)call SaveInteger(Ne,1227895122,StringHash("GOLD"),1100)call SaveInteger(Ne,1227895123,StringHash("GOLD"),1100)call SaveInteger(Ne,1227895124,StringHash("GOLD"),3200)call SaveInteger(Ne,1227895124,StringHash("STR"),6)call SaveInteger(Ne,1227895124,StringHash("AGI"),6)call SaveInteger(Ne,1227895124,StringHash("INT"),6)call SaveInteger(Ne,1227895125,StringHash("GOLD"),1200)call SaveInteger(Ne,1227895125,StringHash("MHP"),200)call SaveInteger(Ne,1227895126,StringHash("GOLD"),1100)call SaveInteger(Ne,1227895126,StringHash("MMP"),100)call SaveInteger(Ne,1227895127,StringHash("GOLD"),550)call SaveReal(Ne,1227895127,StringHash("HPR"),3)call SaveInteger(Ne,1227895128,StringHash("GOLD"),600)call SaveReal(Ne,1227895128,StringHash("MPR"),.5)call SaveInteger(Ne,1227895129,StringHash("GOLD"),550)call SaveInteger(Ne,1227895129,StringHash("Crt"),6)call SaveInteger(Ne,1227895130,StringHash("GOLD"),450)call SaveInteger(Ne,1227895130,StringHash("MISS"),6)call SaveInteger(Ne,1227895344,StringHash("GOLD"),550)call SaveReal(Ne,1227895344,StringHash("ITR"),-.1)call SaveInteger(Ne,1227895345,StringHash("GOLD"),600)call SaveStr(Ne,1227895345,StringHash("SUIT"),"无私的奉献")call SaveInteger(Ne,1227895346,StringHash("GOLD"),400)call SaveStr(Ne,1227895346,StringHash("SUIT"),"无私的奉献")call SaveInteger(Ne,1227895347,StringHash("GOLD"),600)call SaveInteger(Ne,1227895347,StringHash("SP"),8)call SaveInteger(Ne,1227895369,StringHash("STR"),15)call SaveInteger(Ne,1227895370,StringHash("AGI"),15)call SaveInteger(Ne,1227895372,StringHash("INT"),15)call SaveInteger(Ne,1227895374,StringHash("AMM"),3)call SaveInteger(Ne,1227895374,StringHash("MHP"),250)call SaveInteger(Ne,1227895376,StringHash("AMM"),2)call SaveInteger(Ne,1227895378,StringHash("AMM"),2)call SaveInteger(Ne,1227895379,StringHash("STR"),10)call SaveReal(Ne,1227895379,StringHash("ITR"),.2)call SaveInteger(Ne,1227895383,StringHash("AGI"),10)call SaveInteger(Ne,1227895383,StringHash("ATT"),12)call SaveInteger(Ne,1227895386,StringHash("SP_DMG"),18)call SaveInteger(Ne,1227895386,StringHash("INT"),10)call SaveInteger(Ne,1227895602,StringHash("SP_HEL"),18)call SaveInteger(Ne,1227895602,StringHash("INT"),10)call SaveStr(Ne,1227895605,StringHash("SUIT"),"无私的奉献")call SaveInteger(Ne,1227895348,StringHash("SPK"),8)call SaveInteger(Ne,1227895348,StringHash("GOLD"),800)call SaveInteger(Ne,1227895351,StringHash("GOLD"),1000)call SaveReal(Ne,1227895351,StringHash("SPB_LIG"),.06)call SaveInteger(Ne,1227895350,StringHash("GOLD"),1000)call SaveReal(Ne,1227895350,StringHash("SPB_ICE"),.06)call SaveInteger(Ne,1227895352,StringHash("GOLD"),1000)call SaveReal(Ne,1227895352,StringHash("SPB_FIR"),.06)call SaveInteger(Ne,1227895349,StringHash("GOLD"),1000)call SaveReal(Ne,1227895349,StringHash("SPB_DRK"),.06)call SaveInteger(Ne,1227895608,StringHash("AMM"),6)call SaveReal(Ne,1227895608,StringHash("HPR"),4)call SaveInteger(Ne,1227895618,StringHash("Crt"),8)call SaveInteger(Ne,1227895621,StringHash("Crt"),8)call SaveInteger(Ne,1227895621,StringHash("SP"),12)call SaveInteger(Ne,1227895624,StringHash("STR"),15)call SaveInteger(Ne,1227895624,StringHash("MISS"),6)call SaveInteger(Ne,1227895627,StringHash("ATT"),42)call SaveInteger(Ne,1227895627,StringHash("AGI"),15)call SaveReal(Ne,1227895627,StringHash("ITR"),-.15)call SaveInteger(Ne,1227895630,StringHash("SP"),44)call SaveInteger(Ne,1227895630,StringHash("MMP"),200)call SaveInteger(Ne,1227895633,StringHash("SP"),52)call SaveInteger(Ne,1227895633,StringHash("Crt"),8)call SaveInteger(Ne,1227895636,StringHash("INT"),10)call SaveReal(Ne,1227895636,StringHash("SPB_HEL"),.08)call SaveInteger(Ne,1227895636,StringHash("SP_HEL"),48)call SaveInteger(Ne,1227895858,StringHash("STR"),8)call SaveInteger(Ne,1227895858,StringHash("AGI"),8)call SaveInteger(Ne,1227895858,StringHash("INT"),8)call SaveInteger(Ne,1227895858,StringHash("AMM"),3)call SaveInteger(Ne,1227895858,StringHash("MHP"),300)call SaveInteger(Ne,1227895639,StringHash("STR"),10)call SaveInteger(Ne,1227895639,StringHash("AMM"),12)call SaveReal(Ne,1227895639,StringHash("ITR"),.2)call SaveInteger(Ne,1227895642,StringHash("AMM"),15)call SaveInteger(Ne,1227895642,StringHash("SPK"),16)call SaveInteger(Ne,1667460452,StringHash("INT"),10)call SaveInteger(Ne,1667460452,StringHash("SP_HEL"),58)call SaveInteger(Ne,1651270241,StringHash("STR"),15)call SaveReal(Ne,1651270241,StringHash("HPR"),4)call SaveReal(Ne,1651270241,StringHash("ITR"),.25)call SaveInteger(Ne,1651270241,StringHash("AMM"),6)call SaveInteger(Ne,1227895880,StringHash("STR"),18)call SaveReal(Ne,1227895880,StringHash("HPR"),4)call SaveReal(Ne,1227895880,StringHash("ITR"),.3)call SaveInteger(Ne,1227895880,StringHash("AMM"),8)call SaveInteger(Ne,1227895881,StringHash("STR"),21)call SaveReal(Ne,1227895881,StringHash("HPR"),4)call SaveReal(Ne,1227895881,StringHash("ITR"),.35)call SaveInteger(Ne,1227895881,StringHash("AMM"),10)call SaveInteger(Ne,1918989369,StringHash("ATT"),48)call SaveInteger(Ne,1685088357,StringHash("STR"),8)call SaveInteger(Ne,1685088357,StringHash("AGI"),8)call SaveInteger(Ne,1685088357,StringHash("INT"),8)call SaveInteger(Ne,1685088357,StringHash("Crt"),7)call SaveReal(Ne,1685088357,StringHash("SPB_LIG"),.08)call SaveInteger(Ne,1634099555,StringHash("ATT"),40)call SaveInteger(Ne,1634099555,StringHash("INT"),15)call SaveInteger(Ne,1634099555,StringHash("Crt"),8)call SaveInteger(Ne,1936025714,StringHash("SP"),60)call SaveReal(Ne,1936025714,StringHash("SPB"),.08)call SaveInteger(Ne,1936614759,StringHash("AMM"),7)call SaveInteger(Ne,1936614759,StringHash("MHP"),300)call SaveInteger(Ne,1936614759,StringHash("SP"),18)call SaveInteger(Ne,1936614759,StringHash("Crt"),10)call SaveInteger(Ne,1918986033,StringHash("MHP"),300)call SaveReal(Ne,1918986033,StringHash("HPR"),5)call SaveInteger(Ne,1918986033,StringHash("SPK"),12)call SaveInteger(Ne,1936683569,StringHash("ATT"),42)call SaveInteger(Ne,1936683569,StringHash("AGI"),15)call SaveInteger(Ne,1668048493,StringHash("AMM"),8)call SaveReal(Ne,1668048493,StringHash("ITR"),.5)call SaveInteger(Ne,1668048493,StringHash("INT"),12)call SaveInteger(Ne,1668048493,StringHash("MISS"),10)call SaveInteger(Ne,2003397740,StringHash("SP"),44)call SaveInteger(Ne,2003397740,StringHash("Crt"),8)call SaveInteger(Ne,2003397740,StringHash("INT"),12)call SaveInteger(Ne,1969646695,StringHash("AMM"),4)call SaveInteger(Ne,1969646695,StringHash("STR"),5)call SaveInteger(Ne,1969646695,StringHash("INT"),5)call SaveInteger(Ne,1969646695,StringHash("AGI"),5)call SaveInteger(Ne,1685350498,StringHash("AMM"),8)call SaveInteger(Ne,1685350498,StringHash("STR"),5)call SaveInteger(Ne,1685350498,StringHash("AGI"),5)call SaveInteger(Ne,1685350498,StringHash("INT"),5)call SaveInteger(Ne,1685350498,StringHash("ATT"),24)call SaveInteger(Ne,1685350498,StringHash("SP"),36)call SaveInteger(Ne,1919182132,StringHash("AMM"),3)call SaveInteger(Ne,1919182132,StringHash("ATT"),6)call SaveInteger(Ne,1919182132,StringHash("AGI"),12)call SaveInteger(Ne,1919182132,StringHash("Crt"),10)call SaveInteger(Ne,1919182131,StringHash("AMM"),18)call SaveInteger(Ne,1835233141,StringHash("AMM"),7)call SaveInteger(Ne,1835233141,StringHash("STR"),6)call SaveInteger(Ne,1835233141,StringHash("MISS"),5)call SaveInteger(Ne,1936683571,StringHash("AMM"),8)call SaveInteger(Ne,1935827816,StringHash("SP"),32)call SaveInteger(Ne,1919182130,StringHash("AMM"),2)call SaveInteger(Ne,1937007980,StringHash("AMM"),13)call SaveInteger(Ne,1702261868,StringHash("ATT"),6)call SaveInteger(Ne,1936943468,StringHash("SP"),48)call SaveInteger(Ne,1936943468,StringHash("INT"),6)call SaveInteger(Ne,1936288875,StringHash("Crt"),6)call SaveReal(Ne,1936288875,StringHash("MPR"),.75)call SaveInteger(Ne,1885695602,StringHash("SP"),32)call SaveInteger(Ne,1685288301,StringHash("AMM"),3)call SaveInteger(Ne,1685288301,StringHash("ATT"),18)call SaveInteger(Ne,1936683572,StringHash("ATT"),24)call SaveInteger(Ne,1752588652,StringHash("AMM"),6)call SaveInteger(Ne,1752588652,StringHash("STR"),6)call SaveInteger(Ne,1752588652,StringHash("MISS"),9)call SaveInteger(Ne,1918989366,StringHash("AMM"),7)call SaveInteger(Ne,1918989366,StringHash("ATT"),18)call SaveInteger(Ne,1953328500,StringHash("AMM"),6)call SaveInteger(Ne,1953328500,StringHash("MISS"),6)call SaveInteger(Ne,1735356530,StringHash("SP"),48)call SaveInteger(Ne,1735356530,StringHash("INT"),6)call SaveInteger(Ne,1735356530,StringHash("Crt"),8)call SaveReal(Ne,1735356530,StringHash("MPR"),1)call SaveInteger(Ne,1936093031,StringHash("ATT"),12)call SaveInteger(Ne,1936749157,StringHash("SP"),16)call SaveInteger(Ne,1919182128,StringHash("AMM"),1)call SaveInteger(Ne,1718056302,StringHash("ATT"),9)call SaveInteger(Ne,1868983399,StringHash("AMM"),1)call SaveInteger(Ne,1868983399,StringHash("ATT"),9)call SaveInteger(Ne,2003723623,StringHash("AMM"),6)call SaveInteger(Ne,1869375794,StringHash("AMM"),16)call SaveInteger(Ne,1936683573,StringHash("AMM"),8)call SaveInteger(Ne,1936683573,StringHash("ATT"),35)call SaveInteger(Ne,1936683573,StringHash("STR"),18)call SaveInteger(Ne,1718378855,StringHash("AMM"),6)call SaveInteger(Ne,1718378855,StringHash("MISS"),6)call SaveInteger(Ne,1718378855,StringHash("STR"),15)call SaveInteger(Ne,1818784628,StringHash("ATT"),12)call SaveInteger(Ne,1735160683,StringHash("AMM"),8)call SaveInteger(Ne,1735160683,StringHash("STR"),9)call SaveInteger(Ne,1735160683,StringHash("AGI"),3)call SaveInteger(Ne,1735160683,StringHash("INT"),3)call SaveInteger(Ne,1735160683,StringHash("MISS"),8)call SaveInteger(Ne,1650946932,StringHash("AMM"),6)call SaveInteger(Ne,1684370275,StringHash("ATT"),9)call SaveInteger(Ne,1684370275,StringHash("SP"),48)call SaveInteger(Ne,1684370275,StringHash("Crt"),6)call SaveReal(Ne,1684370275,StringHash("MPR"),.5)call SaveInteger(Ne,1818715240,StringHash("ATT"),6)call SaveInteger(Ne,1818715240,StringHash("SP"),10)call SaveInteger(Ne,1818715240,StringHash("Crt"),9)call SaveInteger(Ne,1802529134,StringHash("ATT"),36)call SaveInteger(Ne,1802529134,StringHash("AGI"),10)call SaveInteger(Ne,1802529134,StringHash("Crt"),7)call SaveInteger(Ne,1919182129,StringHash("AMM"),16)call SaveInteger(Ne,1919182129,StringHash("MISS"),10)call SaveInteger(Ne,1886219873,StringHash("Crt"),6)call SaveInteger(Ne,1886219873,StringHash("SP"),24)call SaveInteger(Ne,2002874980,StringHash("ATT"),24)call SaveInteger(Ne,2002874980,StringHash("STR"),12)call SaveInteger(Ne,2002874980,StringHash("Crt"),7)call SaveInteger(Ne,1634362734,StringHash("SP"),48)call SaveInteger(Ne,1634362734,StringHash("INT"),10)call SaveInteger(Ne,1886549620,StringHash("ATT"),42)call SaveInteger(Ne,1886549620,StringHash("Crt"),4)call SaveInteger(Ne,1936879474,StringHash("AMM"),12)call SaveInteger(Ne,1936879474,StringHash("MISS"),8)call SaveInteger(Ne,1719104371,StringHash("AMM"),21)call SaveInteger(Ne,1719104371,StringHash("MISS"),3)call SaveInteger(Ne,1937012577,StringHash("ATT"),5)call SaveInteger(Ne,1920298352,StringHash("ATT"),1)call SaveInteger(Ne,1952670067,StringHash("AMM"),15)call SaveInteger(Ne,1952670067,StringHash("MHP"),200)call SaveInteger(Ne,1952670067,StringHash("SPK"),12)call SaveInteger(Ne,1920168051,StringHash("AMM"),12)call SaveInteger(Ne,1920168051,StringHash("MHP"),200)call SaveInteger(Ne,1920168051,StringHash("STR"),10)call SaveInteger(Ne,1920168051,StringHash("MISS"),15)call SaveInteger(Ne,1635412082,StringHash("SP_HEL"),32)call SaveInteger(Ne,1635412082,StringHash("INT"),6)call SaveReal(Ne,1635412082,StringHash("MPR"),.5)call SaveInteger(Ne,1986290796,StringHash("STR"),12)call SaveInteger(Ne,1986290796,StringHash("AMM"),12)call SaveReal(Ne,1986290796,StringHash("ITR"),.33)call SaveInteger(Ne,1919837539,StringHash("ATT"),32)call SaveInteger(Ne,1835823988,StringHash("SP_HEL"),72)call SaveInteger(Ne,1835823988,StringHash("INT"),15)call SaveInteger(Ne,1835823988,StringHash("Crt"),8)call SaveReal(Ne,1835823988,StringHash("MPR"),1)call SaveInteger(Ne,1798532403,StringHash("AMM"),13)call SaveInteger(Ne,1798532403,StringHash("STR"),24)call SaveInteger(Ne,1798532403,StringHash("MISS"),12)call SaveInteger(Ne,1936683575,StringHash("ATT"),48)call SaveInteger(Ne,1936683575,StringHash("Crt"),12)call SaveInteger(Ne,1936683575,StringHash("AGI"),9)call SaveInteger(Ne,1718055787,StringHash("SP"),64)call SaveInteger(Ne,1718055787,StringHash("INT"),12)call SaveInteger(Ne,1718055787,StringHash("Crt"),8)call SaveInteger(Ne,1668180078,StringHash("SP"),24)call SaveInteger(Ne,1668180078,StringHash("ATT"),18)call SaveInteger(Ne,1919512113,StringHash("ATT"),9)call SaveInteger(Ne,1919512113,StringHash("SP"),12)call SaveInteger(Ne,1227894858,StringHash("MHP"),250)call SaveInteger(Ne,1227894858,StringHash("MMP"),150)call SaveInteger(Ne,1227894858,StringHash("SPK"),10)call SaveReal(Ne,1227894861,StringHash("MPR"),.8)call SaveInteger(Ne,1227894861,StringHash("MMP"),150)call SaveReal(Ne,1227894864,StringHash("MPR"),1)call SaveInteger(Ne,1227894864,StringHash("MMP"),200)call SaveInteger(Ne,1227894864,StringHash("SP_DMG"),46)call SaveReal(Ne,1227894864,StringHash("SPB_DRK"),.15)call SaveInteger(Ne,1227894868,StringHash("ATT"),24)call SaveInteger(Ne,1227894868,StringHash("Crt"),10)call SaveInteger(Ne,1227894868,StringHash("AMM"),8)call SaveReal(Ne,1227894868,StringHash("HPR"),6)call SaveInteger(Ne,1227894872,StringHash("MHP"),300)call SaveInteger(Ne,1227894872,StringHash("MMP"),200)call SaveInteger(Ne,1227894872,StringHash("AMM"),5)call SaveReal(Ne,1227894872,StringHash("MPR"),1)call SaveInteger(Ne,1919707494,StringHash("Crt"),24)call SaveInteger(Ne,1668051812,StringHash("ATT"),64)call SaveInteger(Ne,1227895089,StringHash("SP_DMG"),42)call SaveInteger(Ne,1227895089,StringHash("Crt"),8)call SaveInteger(Ne,1227895089,StringHash("INT"),10)call SaveReal(Ne,1227895089,StringHash("SPB_ICE"),.1)call SaveInteger(Ne,1227895092,StringHash("SP_DMG"),40)call SaveInteger(Ne,1227895092,StringHash("Crt"),8)call SaveInteger(Ne,1227895092,StringHash("STR"),10)call SaveInteger(Ne,1227895092,StringHash("AGI"),10)call SaveInteger(Ne,1227895092,StringHash("INT"),10)call SaveReal(Ne,1227895092,StringHash("SPB_LIG"),.1)call SaveInteger(Ne,1227895095,StringHash("AMM"),15)call SaveInteger(Ne,1227895095,StringHash("STR"),12)call SaveReal(Ne,1227895095,StringHash("ITR"),.3)call SaveInteger(Ne,1227895091,StringHash("SP_DMG"),50)call SaveInteger(Ne,1227895091,StringHash("Crt"),8)call SaveInteger(Ne,1227895091,StringHash("INT"),12)call SaveInteger(Ne,1227895864,StringHash("SP_HEL"),44)call SaveInteger(Ne,1227895864,StringHash("Crt"),8)call SaveInteger(Ne,1227895864,StringHash("INT"),12)call SaveInteger(Ne,1227895874,StringHash("SP_DMG"),36)call SaveInteger(Ne,1227895874,StringHash("Crt"),8)call SaveInteger(Ne,1227895874,StringHash("INT"),12)call SaveInteger(Ne,1227895877,StringHash("SP_DMG"),40)call SaveInteger(Ne,1227895877,StringHash("Crt"),8)call SaveInteger(Ne,1227895877,StringHash("INT"),12)call SaveInteger(Ne,1227895878,StringHash("SP_DMG"),44)call SaveInteger(Ne,1227895878,StringHash("Crt"),8)call SaveInteger(Ne,1227895878,StringHash("INT"),12)call SaveInteger(Ne,1227895879,StringHash("SP_DMG"),48)call SaveInteger(Ne,1227895879,StringHash("Crt"),8)call SaveInteger(Ne,1227895879,StringHash("INT"),12)call SaveInteger(Ne,1751282792,StringHash("AMM"),6)call SaveInteger(Ne,1751282792,StringHash("MHP"),200)call SaveInteger(Ne,1751282792,StringHash("AGI"),18)call SaveInteger(Ne,1634890600,StringHash("AMM"),14)call SaveInteger(Ne,1634890600,StringHash("MISS"),8)call SaveInteger(Ne,1634890600,StringHash("STR"),16)call SaveInteger(Ne,1635279219,StringHash("SP"),81)call SaveInteger(Ne,1227895882,StringHash("MISS"),8)call SaveReal(Ne,1227895882,StringHash("ITR"),.25)call SaveInteger(Ne,1227895882,StringHash("STR"),25)call SaveInteger(Ne,1227896146,StringHash("ATT"),46)call SaveInteger(Ne,1227896146,StringHash("Crt"),8)call SaveInteger(Ne,1227896146,StringHash("AGI"),12)call SaveInteger(Ne,1935895664,StringHash("AMM"),2)call SaveInteger(Ne,1935895664,StringHash("STR"),6)call SaveInteger(Ne,1935895664,StringHash("AGI"),6)call SaveInteger(Ne,1935895664,StringHash("INT"),12)call SaveReal(Ne,1935895664,StringHash("SPB"),.15)call SaveReal(Ne,1935895664,StringHash("MPR"),1)call SaveReal(Ne,1935895664,StringHash("HPR"),2)call SaveInteger(Ne,1227896151,StringHash("SP_DMG"),50)call SaveInteger(Ne,1227896151,StringHash("Crt"),8)call SaveReal(Ne,1227896151,StringHash("SPB_FIR"),.06)call SaveInteger(Ne,1918987571,StringHash("ATT"),24)call SaveInteger(Ne,1227896369,StringHash("MHP"),350)call SaveInteger(Ne,1227896369,StringHash("Crt"),8)call SaveInteger(Ne,1227896369,StringHash("AMM"),4)call SaveInteger(Ne,1668446579,StringHash("MISS"),24)call SaveInteger(Ne,1920428410,StringHash("AMM"),30)endfunctionfunction Dh takes nothing returns nothingcall DestroyTrigger(GetTriggeringTrigger())set Rv[1]=1211117618set Rv[2]=1211117638set Rv[3]=1211117621set Rv[4]=1211117641set Rv[5]=1211117643set Rv[6]=1211117646set Rv[7]=1211117647set Rv[8]=1211117650set Rv[9]=1211117652set Rv[10]=1211117622set Rv[11]=1211117656set Rv[12]=1211117616set Rv[13]=1211117617endfunctionfunction Fh takes nothing returns nothinglocal integer i=1local integer j=0set Cv[1]=1751937908set Cv[2]=1936880227set Cv[3]=2004055908set Cv[4]=1718055527set Cv[5]=1936876915set Cv[6]=1886545267set Cv[7]=1885628790set Cv[8]=1718055524set Cv[9]=1919248947set Cv[10]=1768842867set Cv[11]=1634626408set Cv[12]=1953461367set Cv[13]=2003397732set Cv[14]=2003007843set Cv[15]=2003791219set Cv[16]=1735355758set Cv[17]=2004052083set Cv[18]=1718051943set Cv[19]=1920099634set Cv[20]=1919444275set Cv[21]=1937012592set Cv[22]=1936221537set Cv[23]=1718052456set Cv[24]=2003596132set Cv[25]=1919770930set Cv[26]=1920099633set Cv[27]=1920426356set Cv[28]=1920099699set Cv[29]=1919444274set Cv[30]=1920168044set Cv[31]=1919183219set Cv[32]=1919770990set Cv[33]=1920168036set Cv[34]=1920099682set Cv[35]=2003335012set Cv[36]=1935765092set Cv[37]=1735751273set Cv[38]=1936876903set Cv[39]=1886350702set Cv[40]=1734766450set Cv[41]=1835233897set Cv[42]=1936422252set Cv[43]=1853189228set Cv[44]=2004118631set Cv[45]=1885825390set Cv[46]=1798532401set Cv[47]=1734700404set Cv[48]=1798532402set Cv[49]=1785753204set Cv[50]=1936683617set Cv[51]=2003790951set Cv[52]=1936683622set Cv[53]=1936683576set Cv[54]=1953265005set Cv[55]=1952604523set Cv[56]=1936421492set Cv[57]=1227895631set Cv[58]=1227895632set Cv[59]=1227895640set Cv[60]=1227895641set Cv[61]=1227895607set Cv[62]=1227895606set Cv[63]=1227895373set Cv[64]=1227895365set Cv[65]=1227895363set Cv[66]=1227895364set Cv[67]=1227895856set Cv[68]=1227895857set Cv[69]=1227895375set Cv[70]=1227895366set Cv[71]=1227895628set Cv[72]=1227895629set Cv[73]=1227895601set Cv[74]=1227895600set Cv[75]=1227895620set Cv[76]=1227895619set Cv[77]=1227895617set Cv[78]=1227895609set Cv[79]=1227895382set Cv[80]=1227895381set Cv[81]=1227895625set Cv[82]=1227895626set Cv[83]=1227895385set Cv[84]=1227895384set Cv[85]=1227895380set Cv[86]=1227895368set Cv[87]=1227895634set Cv[88]=1227895635set Cv[89]=1227895623set Cv[90]=1227895622set Cv[91]=1227895377set Cv[92]=1227895367set Cv[93]=1227895604set Cv[94]=1227895603set Cv[95]=1227895637set Cv[96]=1227895638set Cv[97]=1227895353set Cv[98]=1227895361set Cv[99]=1227895371set Cv[100]=1227895362set Cv[101]=1227894854set Cv[102]=1227894855set Cv[103]=1227894856set Cv[104]=1227894857set Cv[105]=1918989411set Cv[106]=1651663203set Cv[107]=1227894859set Cv[108]=1227894860set Cv[109]=1227894862set Cv[110]=1227894863set Cv[111]=1227894866set Cv[112]=1227894867set Cv[113]=1227894869set Cv[114]=1227894870set Cv[115]=1227894873set Cv[116]=1227894874set Cv[117]=1227895860set Cv[118]=1227895090set Cv[119]=1227895093set Cv[120]=1227895094set Cv[121]=1227895096set Cv[122]=1227895859set Cv[123]=1227895861set Cv[124]=1227895862set Cv[125]=1227895865set Cv[126]=1227895873set Cv[127]=1227895875set Cv[128]=1227895876set Cv[129]=1227895886set Cv[130]=1227895887set Cv[131]=1227895888set Cv[132]=1227895350set Cv[133]=1227895889set Cv[134]=1227895351set Cv[135]=1227895890set Cv[136]=1227895352set Cv[137]=1227895891set Cv[138]=1227895349set Cv[139]=1227895892set Cv[140]=1227895348set Cv[141]=1227896133set Cv[142]=1227895124set Cv[143]=1227896121set Cv[144]=1227895125set Cv[145]=1227896119set Cv[146]=1227895126set Cv[147]=1227896129set Cv[148]=1227895127set Cv[149]=1227896120set Cv[150]=1227895128set Cv[151]=1227896115set Cv[152]=1227895129set Cv[153]=1227896143set Cv[154]=1227895130set Cv[155]=1227896140set Cv[156]=1227895344set Cv[157]=1227896132set Cv[158]=1227895345set Cv[159]=1227896112set Cv[160]=1227895346set Cv[161]=1227896135set Cv[162]=1227895347set Cv[163]=1227895893set Cv[164]=1227894865set Cv[165]=1227895898set Cv[166]=1227894871set Cv[167]=1227896114set Cv[168]=1227895097set Cv[169]=1227895894set Cv[170]=1227895111set Cv[171]=1227896142set Cv[172]=1227895105set Cv[173]=1227896137set Cv[174]=1227895106set Cv[175]=1227896131set Cv[176]=1227895107set Cv[177]=1227896134set Cv[178]=1227895112set Cv[179]=1227896141set Cv[180]=1227895108set Cv[181]=1227896138set Cv[182]=1227895109set Cv[183]=1227896117set Cv[184]=1227895110set Cv[185]=1227895895set Cv[186]=1227895113set Cv[187]=1227896139set Cv[188]=1227895114set Cv[189]=1227895897set Cv[190]=1227895115set Cv[191]=1227896118set Cv[192]=1227895116set Cv[193]=1227896113set Cv[194]=1227895117set Cv[195]=1227896136set Cv[196]=1227895118set Cv[197]=1227896130set Cv[198]=1227895119set Cv[199]=1227896145set Cv[200]=1919837539set Cv[201]=1227896116set Cv[202]=1227895121set Cv[203]=1227895896set Cv[204]=1227895122set Cv[205]=1227896144set Cv[206]=1227895123set Cv[207]=1227896148set Cv[208]=1227896147set Cv[209]=1227896149set Cv[210]=1227896150set Cv[211]=1227896152set Cv[212]=1227896153set Cv[213]=1227896154set Cv[214]=1227896368set Bv[1]=1936880227set Bv[2]=1314212940set Bv[3]=1919182130set cv[3]=2set Bv[10]=1919182131set Bv[11]=1718055527set Bv[12]=1935827816set Bv[13]=1919448168set cv[13]=2set Bv[20]=1936943468set Bv[21]=1886545267set Bv[22]=1919448168set cv[22]=4set Bv[30]=1885695602set Bv[31]=1718055524set Bv[32]=1227895114set cv[32]=2set Bv[33]=1227895119set Bv[40]=1918989369set Bv[41]=1768842867set Bv[42]=1918986033set Bv[50]=1651732580set Bv[51]=1835955060set Bv[52]=1668446579set Bv[53]=1868850534set cv[53]=4set Bv[60]=1936749416set Bv[61]=1953461367set Bv[62]=1919448168set Bv[63]=1668181858set Bv[64]=1868850534set Bv[70]=1920428410set Bv[71]=2003596132set Bv[72]=1227895117set Bv[73]=1227895107set Bv[74]=1227895109set Bv[75]=1227895130set Bv[80]=1668048493set Bv[81]=1651663203set Bv[82]=1227895125set Bv[83]=1227895127set Bv[84]=1227895348set Bv[90]=1918986033set Bv[91]=1735355758set Bv[92]=1702261868set Bv[93]=1667854953set Bv[94]=1734567276set Bv[100]=1936683570set Bv[101]=1718051943set Bv[102]=1919182130set cv[102]=4set Bv[110]=1936683571set Bv[111]=1919444275set Bv[112]=1702261868set cv[112]=4set Bv[120]=1936683572set Bv[121]=1227895873set Bv[122]=1227895602set Bv[123]=1227895621set Bv[124]=1227895347set Bv[130]=1227895864set Bv[131]=1868983399set cv[131]=2set Bv[140]=1685288301set Bv[141]=1936749157set cv[141]=2set Bv[150]=1935827816set Bv[151]=1936221537set Bv[152]=1919182130set cv[152]=2set Bv[153]=1685288301set Bv[160]=1918989366set Bv[161]=1920099633set Bv[162]=1752588652set Bv[163]=1920169009set Bv[170]=1667984999set Bv[171]=1920099699set Bv[172]=1751348590set Bv[173]=1734567276set Bv[180]=1919182132set Bv[181]=1920168044set Bv[182]=1227895109set Bv[183]=1227895125set Bv[184]=1227895621set Bv[190]=1936614759set Bv[191]=1919770990set Bv[192]=1936943468set Bv[193]=1936288875set Bv[200]=1735356530set Bv[201]=1920099682set Bv[202]=1227895113set Bv[203]=1227895369set Bv[204]=1227895608set Bv[210]=1651270241set Bv[211]=2003723623set cv[211]=2set Bv[220]=1937007980set Bv[221]=1935765092set Bv[222]=1836020340set Bv[223]=1919182131set Bv[230]=1868984943set Bv[231]=1936876903set Bv[232]=1937007980set Bv[233]=1919512113set Bv[234]=1885891700set Bv[240]=1952670067set Bv[241]=1734766450set Bv[242]=1227895602set Bv[243]=1227895121set Bv[250]=1667460452set Bv[251]=1936422252set Bv[252]=1835233141set Bv[253]=1885891700set Bv[254]=1936683574set Bv[260]=1920168051set Bv[261]=1853189228set Bv[262]=1853189228set Bv[263]=1853189228set Bv[264]=1853189228set Bv[270]=1853189228set Bv[271]=1798532401set Bv[272]=1935827816set cv[272]=2set Bv[273]=1936288875set Bv[274]=1803119982set Bv[280]=1835823988set Bv[281]=1798532402set Bv[283]=1667984999set Bv[290]=1798532403set Bv[291]=1936683617set Bv[292]=1227895121set Bv[293]=1227895115set Bv[294]=1227895118set Bv[300]=1936025714set Bv[301]=1936683622set Bv[302]=1918989366set Bv[303]=1920169009set Bv[304]=1918989411set Bv[310]=1735222898set Bv[311]=1953265005set Bv[312]=1918989369set Bv[313]=1667854953set Bv[314]=1918987571set Bv[320]=1936683575set Bv[321]=1936421492set Bv[322]=1227895386set Bv[323]=1227895129set Bv[324]=1227895347set cv[324]=2set Bv[330]=2003397740set Bv[331]=1936220530set Bv[332]=1227895121set Bv[333]=1227895347set cv[333]=3set Bv[334]=1227895129set Bv[335]=1227895107set Bv[340]=1718055787set Bv[341]=1227895105set Bv[342]=1227895361set Bv[343]=1227894865set Bv[350]=1227895369set Bv[351]=1227895364set Bv[352]=1227894871set Bv[353]=1227895106set Bv[360]=1227895370set Bv[361]=1227895362set Bv[362]=1227895097set Bv[363]=1227895107set Bv[370]=1227895372set Bv[371]=1227895125set Bv[372]=1227895365set Bv[373]=1227895108set Bv[380]=1227895374set Bv[381]=1227895366set Bv[382]=1227895108set Bv[383]=1227895122set Bv[390]=1227895376set Bv[391]=1227895367set Bv[392]=1227895108set Bv[393]=1227895123set Bv[400]=1227895378set Bv[401]=1227895368set Bv[402]=1227895105set Bv[403]=1227895113set Bv[410]=1227895379set Bv[411]=1227895381set Bv[412]=1227895106set Bv[413]=1227895114set Bv[420]=1227895383set Bv[421]=1227895384set Bv[422]=1227895107set Bv[423]=1227895115set Bv[430]=1227895386set Bv[431]=1227895600set Bv[432]=1227895107set Bv[433]=1227895116set Bv[440]=1227895602set Bv[441]=1227895603set Bv[442]=1227895345set Bv[443]=1227895346set Bv[450]=1227895605set Bv[451]=1227895606set Bv[452]=1227895109set Bv[453]=1227895127set Bv[460]=1227895608set Bv[461]=1227895609set Bv[462]=1227895111set Bv[463]=1227895129set Bv[470]=1227895618set Bv[471]=1227895619set Bv[472]=1227895347set Bv[473]=1227895129set Bv[480]=1227895621set Bv[481]=1227895622set Bv[482]=1227895369set Bv[483]=1227895130set Bv[490]=1227895624set Bv[491]=1227895626set Bv[492]=1227895370set Bv[493]=1227895344set Bv[494]=1919837539set Bv[500]=1227895627set Bv[501]=1227895629set Bv[502]=1227895121set Bv[503]=1227895126set Bv[504]=1227895605set Bv[510]=1227895630set Bv[511]=1227895632set Bv[512]=1227895121set Bv[513]=1227895621set Bv[520]=1227895633set Bv[521]=1227895635set Bv[522]=1227895602set Bv[523]=1227895118set Bv[524]=1227895116set Bv[530]=1227895636set Bv[531]=1227895857set Bv[532]=1227895374set Bv[533]=1227895124set Bv[540]=1227895858set Bv[541]=1227895638set Bv[542]=1227895376set Bv[543]=1227895379set Bv[550]=1227895639set Bv[551]=1227895641set Bv[552]=1227895378set Bv[553]=1227895348set cv[553]=2set Bv[554]=1227895110set Bv[560]=1227895642set Bv[561]=1227894855set Bv[562]=1227895124set Bv[563]=1227895351set Bv[564]=1227895129set Bv[570]=1685088357set Bv[571]=1227894857set Bv[572]=1919837539set Bv[573]=1227895372set Bv[574]=1227895129set Bv[580]=1634099555set Bv[581]=1936683617set Bv[582]=1227895121set Bv[583]=1227895116set Bv[584]=1227895118set Bv[590]=1936025714set Bv[591]=1920099682set Bv[592]=1651270241set Bv[600]=1227895880set Bv[601]=1920099682set Bv[602]=1227895880set Bv[610]=1227895881set Bv[611]=2003007843set Bv[612]=1919837539set Bv[613]=1227895370set Bv[614]=1227895111set Bv[620]=1936683569set Bv[621]=1227894860set Bv[622]=1227895125set Bv[623]=1227895126set Bv[624]=1227895348set Bv[625]=1227895112set Bv[630]=1227894858set Bv[631]=1227894863set Bv[632]=1227895128set Bv[633]=1227895126set Bv[640]=1227894861set Bv[641]=1227894867set Bv[642]=1227895121set Bv[643]=1227894861set Bv[644]=1227895349set cv[644]=2set Bv[650]=1227894864set Bv[651]=1227894870set Bv[652]=1227895119set Bv[653]=1227895618set Bv[654]=1227895608set Bv[660]=1227894868set Bv[661]=1227894874set Bv[662]=1227894861set Bv[663]=1227895374set Bv[664]=1227895124set Bv[670]=1227894872set Bv[671]=1227895090set Bv[672]=1227895386set Bv[673]=1227895621set Bv[674]=1227895350set Bv[680]=1227895089set Bv[681]=1227895094set Bv[682]=1685088357set Bv[683]=1227895115set cv[683]=2set Bv[690]=1227895092set Bv[691]=1227895859set Bv[692]=1227895378set Bv[693]=1227895379set Bv[694]=1227895110set Bv[700]=1227895095set Bv[701]=1227895862set Bv[702]=1227895386set Bv[703]=1227895621set Bv[704]=1227895115set Bv[710]=1227895091set Bv[711]=1227895876set Bv[712]=1227895115set cv[712]=2set Bv[713]=1227895618set Bv[720]=1227895874set Bv[721]=1227895876set Bv[722]=1227895874set Bv[730]=1227895877set Bv[731]=1227895876set Bv[732]=1227895877set Bv[740]=1227895878set Bv[741]=1227895876set Bv[742]=1227895878set Bv[750]=1227895879set Bv[751]=1227895887set Bv[752]=1227895624set Bv[753]=1227895379set Bv[760]=1227895882set Bv[761]=1227896147set Bv[762]=1227895383set Bv[763]=1227895129set Bv[764]=1919837539set Bv[770]=1227896146set Bv[771]=1227896150set Bv[772]=1227895115set cv[772]=2set Bv[773]=1227895621set Bv[774]=1227895352set Bv[780]=1227896151set Bv[781]=1227896368set Bv[782]=1227895374set Bv[783]=1227895129set Bv[784]=1227896153set Bv[790]=1227896369call bA("Item List Define",5)endfunctionfunction Gh takes nothing returns nothinglocal integer i=0call DestroyTrigger(GetTriggeringTrigger())set jv[0]=oxset jv[1]=rxset Jv[1]=Xxset kv[1]=Oxset Kv[1]=ixset Kv[2]=axset Kv[3]=Vxset Kv[4]=Exset jv[2]=Rxset Jv[2]=Ixset kv[2]=Oxset Kv[11]=Axset Kv[12]=Nxset Kv[13]=bxset jv[3]=Bxset Jv[3]=gxset kv[3]=Oxset Kv[21]=cxset Kv[22]=Cxset Kv[23]=Dxset Kv[24]=Fxset jv[4]=Gxset Jv[4]=hxset kv[4]=Oxset Kv[31]=Hxset Kv[32]=jxset Kv[33]=Jxset Kv[34]=kxset Kv[35]=Kxset jv[5]=lxset Jv[5]=Lxset kv[5]=Oxset Kv[41]=mxset Kv[42]=Mxset Kv[43]=pxset Kv[44]=Pxset jv[6]=qxset Jv[6]=ioset kv[6]=Oxset Kv[51]=Zxset Kv[52]=voset Kv[53]=eoset Kv[54]=xoset jv[7]=aoset Jv[7]=noset kv[7]=Oxset Kv[61]=Voset Kv[62]=Eoset Kv[63]=Xoset Kv[64]=Ooset jv[8]=Aoset Jv[8]=Coset kv[8]=Oxset Kv[71]=Noset Kv[72]=boset Kv[73]=Boset Kv[74]=coset jv[9]=doset Jv[9]=goset kv[9]=Foset Kv[81]=Doset Kv[82]=Goset Kv[83]=hoset Kv[84]=Hoset jv[10]=joset Jv[10]=Joset Kv[91]=joset jv[11]=loset Jv[11]=Loset Kv[101]=Qoset jv[21]=Zoset Jv[21]=erset Kv[201]=vrloopexitwhen i>30call TriggerRegisterEnterRectSimple(QE,jv[i])set i=i+1endloopendfunctionfunction Hh takes integer c,integer PA returns nothingset hs=hs+1if LoadInteger(Ne,1498628418,c)==0 thencall SaveInteger(Ne,1498628418,c,PA)elsecall bA("技能|cffffee00"+GetObjectName(PA)+"|r定义失败,重复代码|cffffee00"+I2S(c)+"|r 行:"+I2S(hs),99999)endifendfunctionfunction jh takes nothing returns nothingcall SaveInteger(Ne,1498630484,1227894832,1)call SaveInteger(Ne,1498630484,1227894833,4)call SaveInteger(Ne,1498630484,1227894834,16)call SaveInteger(Ne,1498630484,1227894835,64)call SaveInteger(Ne,1498630484,1227894836,256)call SaveInteger(Ne,1498630484,1227894837,1024)call SaveInteger(Ne,1498630484,1227894838,4096)call SaveInteger(Ne,1498630484,1227894839,16384)call DestroyTrigger(GetTriggeringTrigger())endfunctionfunction Jh takes nothing returns nothingcall Hh(1281,1093677364)call Hh(1041,1093677618)call Hh(16389,1093677898)call Hh(4176,1093677619)call Hh(5136,1093677621)call Hh(6144,1093677107)call Hh(20496,1093677902)call Hh(5124,1093677650)call Hh(17664,1093677897)call Hh(1032,1093677893)call Hh(576,1093677896)call Hh(264,1093677643)call Hh(288,1093677401)call Hh(528,1093677389)call Hh(513,1093677387)call Hh(72,1093677633)call Hh(16416,1093677399)call Hh(21504,1093677142)call Hh(5376,1093677900)call Hh(4356,1093677391)call Hh(1026,1093677656)call Hh(32769,1093677124)call Hh(768,1093677386)call Hh(33792,1093677127)call Hh(20481,1093677658)call Hh(21,1093677872)call Hh(20544,1093677383)call Hh(9,1093677625)call Hh(48,1093677105)call Hh(32832,1093677360)call Hh(16464,1093677892)call Hh(8196,1093677367)call Hh(516,1093677388)call Hh(4101,1093677646)call Hh(16704,1093677880)call Hh(17472,1093677133)call Hh(36864,1093677126)call Hh(12288,1093677365)call Hh(18,1093677653)call Hh(96,1093677400)call Hh(32772,1093677111)call Hh(32784,1093677112)call Hh(84,1093677636)call Hh(132,1093677394)call Hh(16512,1093677891)call Hh(144,1093677395)call Hh(324,1093677638)call Hh(1344,1093677398)call Hh(384,1093677889)call Hh(4224,1093677110)call Hh(192,1093677393)call Hh(129,1093677881)call Hh(1089,1093677901)call Hh(16656,1093677131)call Hh(1044,1093677361)call Hh(17424,1093677878)call Hh(2304,1093677146)call Hh(3,1093677651)call Hh(16401,1093677132)call Hh(69,1093677875)call Hh(3072,1093677104)call Hh(8208,1093677368)call Hh(16452,1093677879)call Hh(49152,1093677123)call Hh(4113,1093677384)call Hh(16386,1093677657)call Hh(8256,1093677369)call Hh(16644,1093677138)call Hh(2052,1093677144)call Hh(17409,1093677128)call Hh(16392,1093677624)call Hh(16449,1395666995)call Hh(17412,1093677130)call Hh(1029,1093677895)call Hh(1296,1093677620)call Hh(258,1093677894)call Hh(5121,1093677876)call Hh(1284,1093677363)call Hh(4128,1093677402)call Hh(1104,1093677137)call Hh(4353,1093677380)call Hh(8193,1093677366)call Hh(20484,1093677909)call Hh(6,1093677652)call Hh(276,1093677637)call Hh(4116,1093681969)call Hh(16641,1093677134)call Hh(66,1093677654)call Hh(24576,1093677904)call Hh(8448,1093677377)call Hh(9216,1093679431)call Hh(12,1093677623)call Hh(1056,1093677616)call Hh(4164,1093677641)call Hh(33,1093677905)call Hh(4368,1093677392)call Hh(18432,1093677143)call Hh(16404,1093679430)call Hh(1536,1093677390)call Hh(4104,1093677635)call Hh(4161,1093677397)call Hh(5184,1093677381)call Hh(2112,1093677145)call Hh(1092,1093677362)call Hh(16896,1093677140)call Hh(4416,1093677385)call Hh(273,1093677873)call Hh(336,1093677617)call Hh(4098,1093677655)call Hh(20736,1093677378)call Hh(2049,1093677106)call Hh(81,1093677874)call Hh(33024,1093677125)call Hh(1152,1093677396)call Hh(24,1093677908)call Hh(321,1093677906)call Hh(2064,1093677903)call Hh(36,1093677890)call Hh(4608,1093677109)call Hh(261,1093678385)call jh()endfunctionfunction lh takes nothing returns nothinglocal integer VB=0local integer i=0local integer Lh=0local integer mh=0call iB(1,0,1,1852995174,1)call iB(1,0,1,1852995187,1)if not(Uv)and Be thenreturnendifset Lh=1set mh=1call RandomDistReset()call RandomDistAddItem(1853125224,1)call RandomDistAddItem(1853055842,1)call RandomDistAddItem(1852666476,1)set i=1loopexitwhen i>12call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset mh=2call RandomDistReset()call RandomDistAddItem(1853125224,1)call RandomDistAddItem(1853055842,1)call RandomDistAddItem(1852666476,1)set i=1loopexitwhen i>8call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1853055794,1)call RandomDistAddItem(1852990828,1)call RandomDistAddItem(1853125235,1)call RandomDistAddItem(1852666482,1)set i=1loopexitwhen i>4call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset mh=3call RandomDistReset()call RandomDistAddItem(1853125224,1)call RandomDistAddItem(1853055842,1)call RandomDistAddItem(1852666476,1)set i=1loopexitwhen i>8call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1853055794,1)call RandomDistAddItem(1852990828,1)call RandomDistAddItem(1853125235,1)call RandomDistAddItem(1852666482,1)set i=1loopexitwhen i>5call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(Lh,mh,1,1853056878,GetRandomInt(1,4))set mh=4call RandomDistReset()call RandomDistAddItem(1853125224,1)call RandomDistAddItem(1853055842,1)call RandomDistAddItem(1852666476,1)set i=1loopexitwhen i>8call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1853055794,1)call RandomDistAddItem(1852990828,1)call RandomDistAddItem(1853125235,1)call RandomDistAddItem(1852666482,1)set i=1loopexitwhen i>6call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(Lh,mh,1,1853056878,GetRandomInt(1,4))call TriggerSleepAction(0)set Lh=2set mh=1call RandomDistReset()call RandomDistAddItem(1852993383,1)call RandomDistAddItem(1852273259,1)call RandomDistAddItem(1853319546,1)call RandomDistAddItem(1852666477,1)call RandomDistAddItem(1852534631,1)call RandomDistAddItem(1852600420,1)set i=1loopexitwhen i>6call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,3))set i=i+1endloopset mh=2set i=1loopexitwhen i>7call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,3))set i=i+1endloopset mh=3set i=1loopexitwhen i>7call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,3))set i=i+1endloopif Le>2 thencall iB(Lh,mh,1,1852270450,GetRandomInt(1,2))endifset mh=4set i=1loopexitwhen i>8call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,3))set i=i+1endloopif Le>2 thencall iB(Lh,mh,1,1852270450,GetRandomInt(1,2))endifcall TriggerSleepAction(0)set Lh=3set mh=1call RandomDistReset()call RandomDistAddItem(1852662125,2)call RandomDistAddItem(1848651832,1)call RandomDistAddItem(1852534631,1)call RandomDistAddItem(1852600420,1)set i=1loopexitwhen i>4call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset i=1loopexitwhen i>4call iB(Lh,mh,1,1853059172,GetRandomInt(1,4))set i=i+1endloopset mh=2set i=1loopexitwhen i>5call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset i=1loopexitwhen i>5call iB(Lh,mh,1,1853059172,GetRandomInt(1,4))set i=i+1endloopset mh=3set i=1loopexitwhen i>6call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset i=1loopexitwhen i>6call iB(Lh,mh,1,1853059172,GetRandomInt(1,4))set i=i+1endloopset mh=4set i=1loopexitwhen i>8call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset i=1loopexitwhen i>8call iB(Lh,mh,1,1853059172,GetRandomInt(1,4))set i=i+1endloopcall TriggerSleepAction(0)set Lh=4set mh=1call RandomDistReset()call RandomDistAddItem(1852534644,2)call RandomDistAddItem(1852796263,1)call RandomDistAddItem(1853057903,2)set i=1loopexitwhen i>8call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,5))set i=i+1endloopset mh=2call RandomDistReset()call RandomDistAddItem(1852534644,2)call RandomDistAddItem(1852796263,1)call RandomDistAddItem(1853057903,2)set i=1loopexitwhen i>9call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,5))set i=i+1endloopset mh=3call RandomDistReset()call RandomDistAddItem(1852534644,2)call RandomDistAddItem(1852796263,1)call RandomDistAddItem(1853057903,2)set i=1loopexitwhen i>10call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,5))set i=i+1endloopset mh=4call RandomDistReset()call RandomDistAddItem(1852534644,1)call RandomDistAddItem(1852796263,1)call RandomDistAddItem(1853057903,1)set i=1loopexitwhen i>12call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,5))set i=i+1endloopcall TriggerSleepAction(0)set Lh=5set mh=1call RandomDistReset()call RandomDistAddItem(1852207714,1)call RandomDistAddItem(1853323879,1)call RandomDistAddItem(1853060204,1)set i=1loopexitwhen i>4call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset i=1loopexitwhen i>6call iB(Lh,mh,1,1853058157,GetRandomInt(1,4))set i=i+1endloopset mh=2call RandomDistReset()call RandomDistAddItem(1852207714,1)call RandomDistAddItem(1853323879,1)call RandomDistAddItem(1853060204,1)set i=1loopexitwhen i>5call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset i=1loopexitwhen i>6call iB(Lh,mh,1,1853058157,GetRandomInt(1,4))set i=i+1endloopset mh=3call RandomDistReset()call RandomDistAddItem(1852207714,1)call RandomDistAddItem(1853323879,1)call RandomDistAddItem(1853060204,1)set i=1loopexitwhen i>5call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset i=1loopexitwhen i>8call iB(Lh,mh,1,1853058157,GetRandomInt(1,4))set i=i+1endloopset mh=4call RandomDistReset()call RandomDistAddItem(1852207714,1)call RandomDistAddItem(1853323879,1)call RandomDistAddItem(1853060204,1)set i=1loopexitwhen i>6call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset i=1loopexitwhen i>10call iB(Lh,mh,1,1853058157,GetRandomInt(1,4))set i=i+1endloopcall TriggerSleepAction(0)set Lh=6set mh=1call RandomDistReset()call RandomDistAddItem(1751543663,1)call RandomDistAddItem(1851880307,1)call RandomDistAddItem(1853323890,1)call RandomDistAddItem(1848651847,1)set i=1loopexitwhen i>5call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset mh=2call RandomDistReset()call RandomDistAddItem(1751543663,1)call RandomDistAddItem(1851880307,1)call RandomDistAddItem(1853323890,1)call RandomDistAddItem(1848651847,1)set i=1loopexitwhen i>6call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset mh=3call RandomDistReset()call RandomDistAddItem(1751543663,1)call RandomDistAddItem(1851880307,1)call RandomDistAddItem(1853323890,1)call RandomDistAddItem(1848651847,1)set i=1loopexitwhen i>6call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(Lh,mh,1,1852798821,GetRandomInt(1,4))set mh=4call RandomDistReset()call RandomDistAddItem(1751543663,1)call RandomDistAddItem(1851880307,1)call RandomDistAddItem(1853323890,1)call RandomDistAddItem(1848651847,1)set i=1loopexitwhen i>7call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(Lh,mh,1,1852798821,GetRandomInt(1,4))call TriggerSleepAction(0)set Lh=7set mh=1call RandomDistReset()call RandomDistAddItem(1969711215,3)call RandomDistAddItem(1969451641,1)call RandomDistAddItem(1970169187,1)set i=1loopexitwhen i>6call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset mh=2call RandomDistReset()call RandomDistAddItem(1969711215,3)call RandomDistAddItem(1969451641,2)call RandomDistAddItem(1970169187,1)set i=1loopexitwhen i>6call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset mh=3call RandomDistReset()call RandomDistAddItem(1969711215,2)call RandomDistAddItem(1969451641,2)call RandomDistAddItem(1970169187,1)set i=1loopexitwhen i>6call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(Lh,mh,1,1969316463,GetRandomInt(1,4))set mh=4call RandomDistReset()call RandomDistAddItem(1969711215,2)call RandomDistAddItem(1969451641,2)call RandomDistAddItem(1970169187,1)set i=1loopexitwhen i>8call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(Lh,mh,1,1969316463,GetRandomInt(1,4))call TriggerSleepAction(0)set Lh=8set mh=1call RandomDistReset()call RandomDistAddItem(1969451641,2)call RandomDistAddItem(1970169187,1)set i=1loopexitwhen i>4call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(Lh,mh,4,1852273271,GetRandomInt(1,4))call iB(Lh,mh,1,1852794738,GetRandomInt(1,4))set mh=2call RandomDistReset()call RandomDistAddItem(1969451641,2)call RandomDistAddItem(1970169187,2)call RandomDistAddItem(1852794734,1)set i=1loopexitwhen i>4call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(Lh,mh,4,1852273271,GetRandomInt(1,4))call iB(Lh,mh,1,1969316463,GetRandomInt(1,4))set mh=3call RandomDistReset()call RandomDistAddItem(1852142195,1)call RandomDistAddItem(1852794734,1)call RandomDistAddItem(1852794738,3)set i=1loopexitwhen i>5call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(Lh,mh,6,1852273271,GetRandomInt(1,4))set mh=4call RandomDistReset()call RandomDistAddItem(1852142195,1)call RandomDistAddItem(1852794734,1)call RandomDistAddItem(1852794738,2)set i=1loopexitwhen i>5call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(Lh,mh,6,1852273271,GetRandomInt(1,4))call iB(Lh,mh,1,1852269675,GetRandomInt(1,4))call TriggerSleepAction(0)set Lh=9set mh=1call RandomDistReset()call RandomDistAddItem(1852142195,1)call RandomDistAddItem(1852794734,1)call RandomDistAddItem(1852794738,1)set i=1loopexitwhen i>4call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1851941985,1)call RandomDistAddItem(1851942003,1)call iB(Lh,mh,12,1852273271,GetRandomInt(1,4))call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set mh=2call RandomDistReset()call RandomDistAddItem(1852142195,1)call RandomDistAddItem(1852794734,1)call RandomDistAddItem(1852794738,1)set i=1loopexitwhen i>4call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(Lh,mh,1,1851941985,GetRandomInt(1,4))call iB(Lh,mh,1,1851942003,GetRandomInt(1,4))set mh=3call RandomDistReset()call RandomDistAddItem(1851941985,2)call RandomDistAddItem(1851942003,1)set i=1loopexitwhen i>4call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(Lh,mh,1,1851941997,GetRandomInt(1,4))set mh=4call RandomDistReset()call RandomDistAddItem(1851941985,3)call RandomDistAddItem(1851942003,2)set i=1loopexitwhen i>5call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(Lh,mh,1,1851941997,GetRandomInt(1,4))call TriggerSleepAction(0)set Lh=10set mh=1call RandomDistReset()call RandomDistAddItem(1966092338,1)call RandomDistAddItem(1966092339,1)call RandomDistAddItem(1966092340,1)set i=1loopexitwhen i>4call iB(Lh,mh,1,RandomDistChoose(),1)set i=i+1endloopset i=1loopexitwhen i>4call iB(Lh,mh,1,1966092337,1)set i=i+1endloopset mh=2call RandomDistReset()call RandomDistAddItem(1966092338,1)call RandomDistAddItem(1966092339,1)call RandomDistAddItem(1966092340,1)set i=1loopexitwhen i>4call iB(Lh,mh,1,RandomDistChoose(),1)set i=i+1endloopset i=1loopexitwhen i>6call iB(Lh,mh,1,1966092337,1)set i=i+1endloopset mh=3call RandomDistReset()call RandomDistAddItem(1966092338,1)call RandomDistAddItem(1966092339,1)call RandomDistAddItem(1966092340,1)set i=1loopexitwhen i>4call iB(Lh,mh,1,RandomDistChoose(),1)set i=i+1endloopset i=1loopexitwhen i>6call iB(Lh,mh,1,1966092337,1)set i=i+1endloopcall iB(Lh,mh,1,1966092341,1)set mh=4call RandomDistReset()call RandomDistAddItem(1966092338,1)call RandomDistAddItem(1966092339,1)call RandomDistAddItem(1966092340,1)set i=1loopexitwhen i>6call iB(Lh,mh,1,RandomDistChoose(),1)set i=i+1endloopset i=1loopexitwhen i>6call iB(Lh,mh,1,1966092337,1)set i=i+1endloopcall iB(Lh,mh,1,1966092341,1)set Lh=11set mh=1call iB(Lh,mh,2,1852204917,1)set mh=2call iB(Lh,mh,1,1852008551,1)set mh=3call iB(Lh,mh,1,1851941230,1)call SaveInteger(Ne,StringHash("Boss"),1,5)call SaveInteger(Ne,StringHash("Boss"),2,5)call SaveInteger(Ne,StringHash("Boss"),3,5)call SaveInteger(Ne,StringHash("Boss"),4,5)call SaveInteger(Ne,StringHash("Boss"),5,5)call SaveInteger(Ne,StringHash("Boss"),6,5)call SaveInteger(Ne,StringHash("Boss"),7,5)call SaveInteger(Ne,StringHash("Boss"),8,5)call SaveInteger(Ne,StringHash("Boss"),9,5)call SaveInteger(Ne,StringHash("Boss"),10,5)call SaveInteger(Ne,StringHash("Boss"),11,3)call bA("Monster Define",5)endfunctionfunction ph takes nothing returns nothinglocal integer VB=0local integer i=0local integer Lh=0local integer mh=0if not(Uv)and Be thenreturnendifset Lh=1set mh=1call RandomDistReset()call RandomDistAddItem(1853125224,1)call RandomDistAddItem(1853055842,1)call RandomDistAddItem(1852666476,1)set i=1loopexitwhen i>8call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1853055794,1)call RandomDistAddItem(1852990828,1)call RandomDistAddItem(1853125235,1)call RandomDistAddItem(1852666482,1)set i=1loopexitwhen i>4call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset mh=2call RandomDistReset()call RandomDistAddItem(1853125224,1)call RandomDistAddItem(1853055842,1)call RandomDistAddItem(1852666476,1)set i=1loopexitwhen i>8call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1853055794,1)call RandomDistAddItem(1852990828,1)call RandomDistAddItem(1853125235,1)call RandomDistAddItem(1852666482,1)set i=1loopexitwhen i>6call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(Lh,mh,1,1853056878,GetRandomInt(1,4))call TriggerSleepAction(0)set Lh=2set mh=1call RandomDistReset()call RandomDistAddItem(1852993383,1)call RandomDistAddItem(1852273259,1)call RandomDistAddItem(1853319546,1)call RandomDistAddItem(1852666477,1)call RandomDistAddItem(1852534631,1)call RandomDistAddItem(1852600420,1)set i=1loopexitwhen i>7call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,3))set i=i+1endloopset mh=2set i=1loopexitwhen i>8call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,3))set i=i+1endloopif Le>2 thencall iB(Lh,mh,1,1852270450,GetRandomInt(1,2))endifcall TriggerSleepAction(0)set Lh=3set mh=1call RandomDistReset()call RandomDistAddItem(1852662125,2)call RandomDistAddItem(1848651832,1)call RandomDistAddItem(1852534631,1)call RandomDistAddItem(1852600420,1)set i=1loopexitwhen i>6call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset i=1loopexitwhen i>5call iB(Lh,mh,1,1853059172,GetRandomInt(1,4))set i=i+1endloopset mh=2set i=1loopexitwhen i>8call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset i=1loopexitwhen i>8call iB(Lh,mh,1,1853059172,GetRandomInt(1,4))set i=i+1endloopcall TriggerSleepAction(0)set Lh=4set mh=1call RandomDistReset()call RandomDistAddItem(1852534644,2)call RandomDistAddItem(1852796263,1)call RandomDistAddItem(1853057903,2)set i=1loopexitwhen i>9call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,5))set i=i+1endloopset mh=2call RandomDistReset()call RandomDistAddItem(1852534644,1)call RandomDistAddItem(1852796263,1)call RandomDistAddItem(1853057903,1)set i=1loopexitwhen i>12call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,5))set i=i+1endloopcall TriggerSleepAction(0)set Lh=5set mh=1call RandomDistReset()call RandomDistAddItem(1852207714,1)call RandomDistAddItem(1853323879,1)call RandomDistAddItem(1853060204,1)set i=1loopexitwhen i>5call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset i=1loopexitwhen i>6call iB(Lh,mh,1,1853058157,GetRandomInt(1,4))set i=i+1endloopset mh=2call RandomDistReset()call RandomDistAddItem(1852207714,1)call RandomDistAddItem(1853323879,1)call RandomDistAddItem(1853060204,1)set i=1loopexitwhen i>6call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset i=1loopexitwhen i>10call iB(Lh,mh,1,1853058157,GetRandomInt(1,4))set i=i+1endloopcall TriggerSleepAction(0)set Lh=6set mh=1call RandomDistReset()call RandomDistAddItem(1751543663,1)call RandomDistAddItem(1851880307,1)call RandomDistAddItem(1853323890,1)call RandomDistAddItem(1848651847,1)set i=1loopexitwhen i>6call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset mh=2call RandomDistReset()call RandomDistAddItem(1751543663,1)call RandomDistAddItem(1851880307,1)call RandomDistAddItem(1853323890,1)call RandomDistAddItem(1848651847,1)set i=1loopexitwhen i>7call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(Lh,mh,1,1852798821,GetRandomInt(1,4))call TriggerSleepAction(0)set Lh=7set mh=1call RandomDistReset()call RandomDistAddItem(1969711215,3)call RandomDistAddItem(1969451641,2)call RandomDistAddItem(1970169187,1)set i=1loopexitwhen i>6call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset mh=2call RandomDistReset()call RandomDistAddItem(1969711215,2)call RandomDistAddItem(1969451641,2)call RandomDistAddItem(1970169187,1)set i=1loopexitwhen i>8call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(Lh,mh,1,1969316463,GetRandomInt(1,4))call TriggerSleepAction(0)set Lh=8set mh=1call RandomDistReset()call RandomDistAddItem(1969451641,2)call RandomDistAddItem(1970169187,2)call RandomDistAddItem(1852794734,1)set i=1loopexitwhen i>4call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(Lh,mh,4,1852273271,GetRandomInt(1,4))call iB(Lh,mh,1,1969316463,GetRandomInt(1,4))set mh=2call RandomDistReset()call RandomDistAddItem(1852142195,1)call RandomDistAddItem(1852794734,1)call RandomDistAddItem(1852794738,2)set i=1loopexitwhen i>5call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(Lh,mh,6,1852273271,GetRandomInt(1,4))call iB(Lh,mh,1,1852269675,GetRandomInt(1,4))call TriggerSleepAction(0)set Lh=9set mh=1call RandomDistReset()call RandomDistAddItem(1852142195,1)call RandomDistAddItem(1852794734,1)call RandomDistAddItem(1852794738,1)set i=1loopexitwhen i>4call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(Lh,mh,1,1851941985,GetRandomInt(1,4))call iB(Lh,mh,1,1851942003,GetRandomInt(1,4))set mh=2call RandomDistReset()call RandomDistAddItem(1851941985,3)call RandomDistAddItem(1851942003,2)set i=1loopexitwhen i>5call iB(Lh,mh,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(Lh,mh,1,1851941997,GetRandomInt(1,4))call TriggerSleepAction(0)set Lh=10set mh=1call RandomDistReset()call RandomDistAddItem(1966092338,1)call RandomDistAddItem(1966092339,1)call RandomDistAddItem(1966092340,1)set i=1loopexitwhen i>4call iB(Lh,mh,1,RandomDistChoose(),1)set i=i+1endloopset i=1loopexitwhen i>6call iB(Lh,mh,1,1966092337,1)set i=i+1endloopset mh=2call RandomDistReset()call RandomDistAddItem(1966092338,1)call RandomDistAddItem(1966092339,1)call RandomDistAddItem(1966092340,1)set i=1loopexitwhen i>6call iB(Lh,mh,1,RandomDistChoose(),1)set i=i+1endloopset i=1loopexitwhen i>6call iB(Lh,mh,1,1966092337,1)set i=i+1endloopcall iB(Lh,mh,1,1966092341,1)set Lh=11set mh=1call iB(Lh,mh,2,1852204917,1)set mh=2call iB(Lh,mh,1,1852008551,1)set mh=3call iB(Lh,mh,1,1851941230,1)call SaveInteger(Ne,StringHash("Boss"),1,3)call SaveInteger(Ne,StringHash("Boss"),2,3)call SaveInteger(Ne,StringHash("Boss"),3,3)call SaveInteger(Ne,StringHash("Boss"),4,3)call SaveInteger(Ne,StringHash("Boss"),5,3)call SaveInteger(Ne,StringHash("Boss"),6,3)call SaveInteger(Ne,StringHash("Boss"),7,3)call SaveInteger(Ne,StringHash("Boss"),8,3)call SaveInteger(Ne,StringHash("Boss"),9,3)call SaveInteger(Ne,StringHash("Boss"),10,3)call SaveInteger(Ne,StringHash("Boss"),11,4)call bA("Monster Define 04",5)endfunctionfunction qh takes nothing returns nothinglocal integer i=0call RandomDistReset()call RandomDistAddItem(1853055842,1)call RandomDistAddItem(1853125224,1)call RandomDistAddItem(1852666476,1)call iB(1,1,8,RandomDistChoose(),GetRandomInt(1,4))call RandomDistReset()call RandomDistAddItem(1853055842,1)call RandomDistAddItem(1853125224,1)call RandomDistAddItem(1852666476,1)set i=1loopexitwhen i>6call iB(1,2,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1853055794,2)call RandomDistAddItem(1852666482,2)call RandomDistAddItem(1853125235,1)call RandomDistAddItem(1852990828,1)set i=1loopexitwhen i>3call iB(1,2,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1853055842,1)call RandomDistAddItem(1853125224,1)call RandomDistAddItem(1852666476,1)set i=1loopexitwhen i>6call iB(1,3,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1853055794,1)call RandomDistAddItem(1852666482,1)call RandomDistAddItem(1853125235,1)call RandomDistAddItem(1852990828,1)set i=1loopexitwhen i>3call iB(1,3,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1853055842,1)call RandomDistAddItem(1853125224,1)call RandomDistAddItem(1852666476,1)set i=1loopexitwhen i>6call iB(1,4,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1853055794,1)call RandomDistAddItem(1852666482,1)call RandomDistAddItem(1853125235,1)call RandomDistAddItem(1852990828,1)set i=1loopexitwhen i>3call iB(1,4,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(1,4,1,1853056878,GetRandomInt(1,4))call TriggerSleepAction(.01)call RandomDistReset()call RandomDistAddItem(1852993383,3)call RandomDistAddItem(1852273259,2)call RandomDistAddItem(1853319546,1)call RandomDistAddItem(1852666477,2)call RandomDistAddItem(1852534631,1)set i=1loopexitwhen i>5call iB(2,1,1,RandomDistChoose(),GetRandomInt(1,3))set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1852993383,2)call RandomDistAddItem(1852273259,2)call RandomDistAddItem(1853319546,1)call RandomDistAddItem(1852666477,2)call RandomDistAddItem(1852534631,1)set i=1loopexitwhen i>5call iB(2,2,1,RandomDistChoose(),GetRandomInt(1,3))set i=i+1endloopcall iB(2,2,1,1852600420,GetRandomInt(1,3))call RandomDistReset()call RandomDistAddItem(1852993383,2)call RandomDistAddItem(1852273259,2)call RandomDistAddItem(1853319546,1)call RandomDistAddItem(1852666477,2)call RandomDistAddItem(1852534631,2)set i=1loopexitwhen i>5call iB(2,3,1,RandomDistChoose(),GetRandomInt(1,3))set i=i+1endloopcall iB(2,3,1,1852600420,GetRandomInt(1,3))if Le>2 thencall iB(2,3,1,1852270450,GetRandomInt(1,2))endifcall RandomDistReset()call RandomDistAddItem(1852993383,2)call RandomDistAddItem(1852273259,2)call RandomDistAddItem(1853319546,1)call RandomDistAddItem(1852666477,2)call RandomDistAddItem(1852534631,2)set i=1loopexitwhen i>4call iB(2,4,1,RandomDistChoose(),GetRandomInt(1,3))set i=i+1endloopcall iB(2,4,1,1852600420,GetRandomInt(1,3))call iB(2,4,1,1852600420,GetRandomInt(1,3))if Le>2 thencall iB(2,4,1,1852270450,GetRandomInt(1,2))endifcall TriggerSleepAction(.01)call RandomDistReset()call RandomDistAddItem(1853059681,1)call RandomDistAddItem(1852662125,2)call RandomDistAddItem(1852534631,1)set i=1loopexitwhen i>3call iB(3,1,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(3,1,1,1852600420,GetRandomInt(1,4))set i=1loopexitwhen i>4call iB(3,1,1,1853059172,GetRandomInt(1,4))set i=i+1endloopset i=1loopexitwhen i>2call iB(3,2,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(3,2,1,1852600420,GetRandomInt(1,4))call iB(3,2,1,1852534631,GetRandomInt(1,4))set i=1loopexitwhen i>4call iB(3,2,1,1853059172,GetRandomInt(1,4))set i=i+1endloopcall iB(3,3,1,RandomDistChoose(),GetRandomInt(1,4))call iB(3,3,1,1848651832,GetRandomInt(1,4))call iB(3,3,1,1852600420,GetRandomInt(1,4))call iB(3,3,1,1852534631,GetRandomInt(1,4))set i=1loopexitwhen i>6call iB(3,3,1,1853059172,GetRandomInt(1,4))set i=i+1endloopcall iB(3,4,1,RandomDistChoose(),GetRandomInt(1,4))call iB(3,4,1,1852534631,GetRandomInt(1,4))call iB(3,4,1,1848651832,GetRandomInt(1,4))call iB(3,4,1,1852534631,GetRandomInt(1,4))call iB(3,4,1,1848651832,GetRandomInt(1,4))set i=1loopexitwhen i>6call iB(3,4,1,1853059172,GetRandomInt(1,4))set i=i+1endloopcall TriggerSleepAction(.01)call RandomDistReset()call RandomDistAddItem(1852534644,2)call RandomDistAddItem(1852796263,1)call RandomDistAddItem(1853057903,3)set i=1loopexitwhen i>4call iB(4,1,1,RandomDistChoose(),GetRandomInt(1,5))set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1852534644,2)call RandomDistAddItem(1852796263,1)call RandomDistAddItem(1853057903,3)set i=1loopexitwhen i>4call iB(4,2,1,RandomDistChoose(),GetRandomInt(1,5))set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1852534644,2)call RandomDistAddItem(1852796263,1)call RandomDistAddItem(1853057903,3)set i=1loopexitwhen i>6call iB(4,3,1,RandomDistChoose(),GetRandomInt(1,5))set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1852534644,5)call RandomDistAddItem(1852796263,2)call RandomDistAddItem(1853057903,6)set i=1loopexitwhen i>6call iB(4,4,1,RandomDistChoose(),GetRandomInt(1,5))set i=i+1endloopcall TriggerSleepAction(.01)call RandomDistReset()call RandomDistAddItem(1852207714,1)call RandomDistAddItem(1853323879,1)call RandomDistAddItem(1853060204,1)set i=1loopexitwhen i>4call iB(5,1,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset i=1loopexitwhen i>4call iB(5,1,1,1853058157,GetRandomInt(1,4))set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1852207714,1)call RandomDistAddItem(1853323879,1)call RandomDistAddItem(1853060204,1)set i=1loopexitwhen i>5call iB(5,2,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset i=1loopexitwhen i>5call iB(5,2,1,1853058157,GetRandomInt(1,4))set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1852207714,1)call RandomDistAddItem(1853323879,1)call RandomDistAddItem(1853060204,1)set i=1loopexitwhen i>5call iB(5,3,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset i=1loopexitwhen i>8call iB(5,3,1,1853058157,GetRandomInt(1,4))set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1852207714,1)call RandomDistAddItem(1853323879,1)call RandomDistAddItem(1853060204,1)set i=1loopexitwhen i>5call iB(5,4,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopset i=1loopexitwhen i>9call iB(5,4,1,1853058157,GetRandomInt(1,4))set i=i+1endloopcall TriggerSleepAction(.01)call RandomDistReset()call RandomDistAddItem(1751543663,2)call RandomDistAddItem(1851880307,3)call RandomDistAddItem(1853323890,1)set i=1loopexitwhen i>3call iB(6,1,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(6,1,1,1848651847,GetRandomInt(1,4))call RandomDistReset()call RandomDistAddItem(1751543663,2)call RandomDistAddItem(1851880307,3)call RandomDistAddItem(1853323890,1)set i=1loopexitwhen i>4call iB(6,2,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(6,2,1,1848651847,GetRandomInt(1,4))call RandomDistReset()call RandomDistAddItem(1751543663,2)call RandomDistAddItem(1851880307,3)call RandomDistAddItem(1853323890,1)set i=1loopexitwhen i>4call iB(6,3,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(6,3,1,1848651847,GetRandomInt(1,4))call iB(6,3,1,1852798821,GetRandomInt(1,4))call RandomDistReset()call RandomDistAddItem(1751543663,2)call RandomDistAddItem(1851880307,3)call RandomDistAddItem(1853323890,1)set i=1loopexitwhen i>5call iB(6,4,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(6,4,1,1848651847,GetRandomInt(1,4))call iB(6,4,1,1852798821,GetRandomInt(1,4))call TriggerSleepAction(.01)call RandomDistReset()call RandomDistAddItem(1969711215,3)call RandomDistAddItem(1969451641,2)call RandomDistAddItem(1970169187,1)set i=1loopexitwhen i>6call iB(7,1,1,RandomDistChoose(),1)set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1969711215,3)call RandomDistAddItem(1969451641,2)call RandomDistAddItem(1970169187,1)set i=1loopexitwhen i>6call iB(7,2,1,RandomDistChoose(),2)set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1969711215,3)call RandomDistAddItem(1969451641,2)call RandomDistAddItem(1970169187,1)set i=1loopexitwhen i>6call iB(7,3,1,RandomDistChoose(),3)set i=i+1endloopcall iB(7,3,1,1969316463,3)call RandomDistReset()call RandomDistAddItem(1969711215,3)call RandomDistAddItem(1969451641,2)call RandomDistAddItem(1970169187,1)set i=1loopexitwhen i>6call iB(7,4,1,RandomDistChoose(),4)set i=i+1endloopcall iB(7,4,1,1970169187,4)call iB(7,4,1,1969316463,4)call TriggerSleepAction(.01)call RandomDistReset()call RandomDistAddItem(1970169187,1)call RandomDistAddItem(1969451641,1)call RandomDistAddItem(1852794738,2)set i=1loopexitwhen i>3call iB(8,1,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(8,1,4,1852273271,GetRandomInt(1,4))call iB(8,1,1,1852794734,GetRandomInt(1,4))call RandomDistReset()call RandomDistAddItem(1852794738,2)call RandomDistAddItem(1969451641,2)call RandomDistAddItem(1970169187,1)set i=1loopexitwhen i>3call iB(8,2,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(8,2,4,1852273271,GetRandomInt(1,4))call iB(8,2,1,1969316463,GetRandomInt(1,4))call RandomDistReset()call RandomDistAddItem(1969451641,1)call RandomDistAddItem(1852794738,3)set i=1loopexitwhen i>3call iB(8,3,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(8,3,6,1852273271,GetRandomInt(1,4))call iB(8,3,1,1852142195,GetRandomInt(1,4))call iB(8,3,1,1852794734,GetRandomInt(1,4))call RandomDistReset()call RandomDistAddItem(1969451641,1)call RandomDistAddItem(1852794738,2)set i=1loopexitwhen i>3call iB(8,4,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(8,4,6,1852273271,GetRandomInt(1,4))call iB(8,4,1,1852269675,GetRandomInt(1,4))call iB(8,4,1,1852142195,GetRandomInt(1,4))call iB(8,4,1,1852794734,GetRandomInt(1,4))call TriggerSleepAction(.01)call RandomDistReset()call RandomDistAddItem(1852142195,1)call RandomDistAddItem(1852794734,1)call RandomDistAddItem(1852794738,1)set i=1loopexitwhen i>3call iB(9,1,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1851941985,1)call RandomDistAddItem(1851942003,1)call iB(9,1,6,1852273271,GetRandomInt(1,4))call iB(9,1,1,RandomDistChoose(),GetRandomInt(1,4))call RandomDistReset()call RandomDistAddItem(1852142195,1)call RandomDistAddItem(1852794734,1)call RandomDistAddItem(1852794738,1)set i=1loopexitwhen i>3call iB(9,2,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(9,2,1,1851941985,GetRandomInt(1,4))call iB(9,2,1,1851942003,GetRandomInt(1,4))call RandomDistReset()call RandomDistAddItem(1851941985,3)call RandomDistAddItem(1851942003,1)set i=1loopexitwhen i>3call iB(9,3,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(9,3,1,1851941997,GetRandomInt(1,4))call RandomDistReset()call RandomDistAddItem(1851941985,3)call RandomDistAddItem(1851942003,1)set i=1loopexitwhen i>3call iB(9,4,1,RandomDistChoose(),GetRandomInt(1,4))set i=i+1endloopcall iB(9,4,1,1851941997,GetRandomInt(1,4))call TriggerSleepAction(.01)call RandomDistReset()call RandomDistAddItem(1966092338,2)call RandomDistAddItem(1966092339,1)call RandomDistAddItem(1966092340,1)set i=1loopexitwhen i>3call iB(10,1,1,RandomDistChoose(),1)set i=i+1endloopset i=1loopexitwhen i>3call iB(10,1,1,1966092337,1)set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1966092338,2)call RandomDistAddItem(1966092339,1)call RandomDistAddItem(1966092340,1)set i=1loopexitwhen i>3call iB(10,2,1,RandomDistChoose(),1)set i=i+1endloopset i=1loopexitwhen i>4call iB(10,2,1,1966092337,1)set i=i+1endloopcall RandomDistReset()call RandomDistAddItem(1966092338,2)call RandomDistAddItem(1966092339,1)call RandomDistAddItem(1966092340,1)set i=1loopexitwhen i>3call iB(10,3,1,RandomDistChoose(),1)set i=i+1endloopset i=1loopexitwhen i>4call iB(10,3,1,1966092337,1)set i=i+1endloopcall iB(10,3,1,1966092341,1)call RandomDistReset()call RandomDistAddItem(1966092338,2)call RandomDistAddItem(1966092339,1)call RandomDistAddItem(1966092340,1)set i=1loopexitwhen i>4call iB(10,4,1,RandomDistChoose(),1)set i=i+1endloopset i=1loopexitwhen i>4call iB(10,4,1,1966092337,1)set i=i+1endloopcall iB(10,4,1,1966092341,1)call SaveInteger(Ne,StringHash("Boss"),1,5)call SaveInteger(Ne,StringHash("Boss"),2,5)call SaveInteger(Ne,StringHash("Boss"),3,5)call SaveInteger(Ne,StringHash("Boss"),4,5)call SaveInteger(Ne,StringHash("Boss"),5,5)call SaveInteger(Ne,StringHash("Boss"),6,5)call SaveInteger(Ne,StringHash("Boss"),7,5)call SaveInteger(Ne,StringHash("Boss"),8,5)call SaveInteger(Ne,StringHash("Boss"),9,5)call SaveInteger(Ne,StringHash("Boss"),10,5)call SaveInteger(Ne,StringHash("Boss"),11,3)call bA("Monster Define GF",5)endfunctionfunction sh takes nothing returns nothingcall SaveStr(Ne,1211117654,1383033957,"DPS")call SaveStr(Ne,1211117642,1383033957,"DPS")call SaveStr(Ne,1211117624,1383033957,"DPS")call SaveStr(Ne,1211117633,1383033957,"DPS")call SaveStr(Ne,1211117623,1383033957,"DPS")call SaveStr(Ne,1211117636,1383033957,"DPS")call SaveStr(Ne,1211117637,1383033957,"DPS")call SaveStr(Ne,1211117649,1383033957,"治疗")call SaveStr(Ne,1211117651,1383033957,"治疗")call SaveStr(Ne,1211117648,1383033957,"MT")call SaveStr(Ne,1215324524,1383033957,"MT")call SaveInteger(Ne,1853056866,StringHash("D-CRT"),15)call SaveInteger(Ne,1853056866,StringHash("D-MIS"),10)call SaveInteger(Ne,1853056866,StringHash("SPK4"),-12)call SaveInteger(Ne,1848651833,StringHash("D-CRT"),22)call SaveInteger(Ne,1848651833,StringHash("D-MIS"),13)call SaveInteger(Ne,1848651833,StringHash("SPK3"),25)call SaveInteger(Ne,1853125223,StringHash("D-CRT"),12)call SaveInteger(Ne,1853125223,StringHash("D-MIS"),6)call SaveInteger(Ne,1853125223,StringHash("SPK1"),22)call SaveInteger(Ne,1853125223,StringHash("SPK3"),22)call SaveInteger(Ne,1853125223,StringHash("SPK4"),-20)call SaveInteger(Ne,1970498405,StringHash("D-CRT"),35)call SaveInteger(Ne,1970498405,StringHash("D-MIS"),8)call SaveInteger(Ne,1970498405,StringHash("SPK2"),28)call SaveInteger(Ne,1852139641,StringHash("D-CRT"),5)call SaveInteger(Ne,1852139641,StringHash("D-MIS"),5)call SaveInteger(Ne,1852139641,StringHash("SPK1"),30)call SaveInteger(Ne,1852139641,StringHash("SPK2"),-10)call SaveInteger(Ne,1852139641,StringHash("SPK3"),30)call SaveInteger(Ne,1852139641,StringHash("SPK4"),-10)call SaveInteger(Ne,1853320295,StringHash("D-CRT"),15)call SaveInteger(Ne,1853320295,StringHash("D-MIS"),10)call SaveInteger(Ne,1853320295,StringHash("SPK1"),8)call SaveInteger(Ne,1853320295,StringHash("SPK2"),35)call SaveInteger(Ne,1853320295,StringHash("SPK3"),8)call SaveInteger(Ne,1853320295,StringHash("SPK4"),8)call SaveInteger(Ne,1970498413,StringHash("D-CRT"),30)call SaveInteger(Ne,1970498413,StringHash("D-MIS"),5)call SaveInteger(Ne,1970498413,StringHash("SPK1"),15)call SaveInteger(Ne,1970498413,StringHash("SPK2"),15)call SaveInteger(Ne,1970498413,StringHash("SPK3"),15)call SaveInteger(Ne,1970498413,StringHash("SPK4"),15)call SaveInteger(Ne,1851942007,StringHash("D-CRT"),40)call SaveInteger(Ne,1851942007,StringHash("D-MIS"),20)call SaveInteger(Ne,1851942007,StringHash("SPK1"),40)call SaveInteger(Ne,1852534636,StringHash("D-CRT"),20)call SaveInteger(Ne,1852534636,StringHash("D-MIS"),10)call SaveInteger(Ne,1852534636,StringHash("SPK1"),10)call SaveInteger(Ne,1852534636,StringHash("SPK2"),10)call SaveInteger(Ne,1852534636,StringHash("SPK3"),10)call SaveInteger(Ne,1852534636,StringHash("SPK4"),40)call SaveInteger(Ne,1853323876,StringHash("D-CRT"),15)call SaveInteger(Ne,1853323876,StringHash("D-MIS"),5)call SaveInteger(Ne,1853060204,StringHash("D-CRT"),20)call SaveInteger(Ne,1853060204,StringHash("D-MIS"),35)call SaveInteger(Ne,1853323876,StringHash("SPK1"),75)call SaveInteger(Ne,1853323876,StringHash("SPK3"),-30)call SaveInteger(Ne,1848651826,StringHash("SPK1"),75)call SaveInteger(Ne,1848651826,StringHash("SPK3"),-30)call SaveInteger(Ne,1970498354,StringHash("SPK2"),25)call SaveInteger(Ne,1966092336,StringHash("D-CRT"),33)call SaveInteger(Ne,1852204917,StringHash("D-CRT"),25)call SaveInteger(Ne,1852204917,StringHash("D-MIS"),15)call SaveInteger(Ne,1852008551,StringHash("D-CRT"),25)call SaveInteger(Ne,1852008551,StringHash("D-MIS"),15)call SaveInteger(Ne,1852995187,StringHash("SPK3"),35)call SaveInteger(Ne,1852995174,StringHash("SPK1"),35)endfunctionfunction th takes nothing returns nothingcall DestroyTrigger(Tr)endfunctionfunction uh takes nothing returns booleanreturn GetUnitTypeId(GetTriggerUnit())!=1752196449 and GetUnitTypeId(GetTriggerUnit())!=1702327152endfunctionfunction Uh takes nothing returns nothinglocal unit fulocal unit u=GetTriggerUnit()local integer ENlocal integer whlocal integer VBlocal integer splocal integer lvcall HA(u)if GetUnitAbilityLevel(u,1093682226)>0 thencall jC(u,1)endifif GetOwningPlayer(u)==Vv thencall SetUnitAnimation(u,"Birth")call bA("New Guy "+I2S(StringHash(I2S((StringHash(I2S(GetHandleId((u)))))))),5)call Kf(u,null)set EN=LoadInteger(Ne,GetUnitTypeId(u),StringHash("D-CRT"))-4set wh=LoadInteger(Ne,GetUnitTypeId(u),StringHash("D-MIS"))-4if EN<4 thenset EN=4endifif wh<4 thenset wh=4endifcall hc(u,EN)call Fc(u,wh)endifif jA(GetOwningPlayer(u))thencall pf(u)set VB=GetUnitTypeId(u)if VB==1848651827 or VB==1848651828 or VB==1848651829 or VB==1848651830 thenset fu=Nv[((1+GetPlayerId((GetOwningPlayer(u)))))]set lv=GetUnitAbilityLevel(fu,1093677654)call jd(u,fu,1,.1+lv*.1,0)call uG(u,25+GetHeroAgi(fu,true)*.15)endifendifendfunctionfunction yh takes nothing returns nothingset dv=CreateLeaderboard()call LeaderboardSetLabel(dv,"No Target")call ForceSetLeaderboardBJ(dv,bj_FORCE_ALL_PLAYERS)endfunctionfunction Trig_sandConditions takes nothing returns boolean    return ( ( GetItemTypeId(GetManipulatedItem()) == 'I065' ) )endfunctionfunction Trig_sandActions takes nothing returns nothing    call RemoveItem(GetManipulatedItem())    call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(), 1)), GetTriggerUnit())endfunctionfunction InitTrig_sand takes nothing returns nothing    set gg_trg_sand=CreateTrigger()    call TriggerRegisterAnyUnitEventBJ(gg_trg_sand, EVENT_PLAYER_UNIT_USE_ITEM)    call TriggerAddCondition(gg_trg_sand, Condition(function Trig_sandConditions))    call TriggerAddAction(gg_trg_sand, function Trig_sandActions)endfunctionfunction InitTrig_CH_Window takes nothing returns nothingcall yh()endfunctionfunction Yh takes nothing returns nothinglocal integer i=1local player plocal integer c=0local string nlocal string n2loopexitwhen i>hRset p=(Player(-1+((i))))if GetPlayerSlotState(p)==PLAYER_SLOT_STATE_PLAYING and GetPlayerController(p)==MAP_CONTROL_USER thenset n=GetPlayerName(p)set n2=nset c=LoadInteger(Ne,1851878757,StringHash(n))if c>0 thenset n2=n2+"("+I2S(c)+")"endifset n2="["+I2S(i)+"]"+n2call SetPlayerName(p,n2)set c=c+1call SaveInteger(Ne,1851878757,StringHash(n),c)endifif c>1 thencall eN(p,0,0,60,false,"|cffff0000警告:|r|cffffee00你的名字与别的玩家相同,因此无法使用战绩系统|r")set he[i]=TRUEendifset i=i+1endloopcall FlushChildHashtable(Ne,1851878757)endfunctionfunction Zh takes nothing returns nothingcall CreateQuestBJ(0,"QQ群","QQ群1(电信活跃群)：231451521
QQ群2：6365435
QQ群3(网通)：84039554
如果加群被拒绝则是因为群满。请加其他的QQ群。","ReplaceableTextures\\CommandButtons\\BTNFarSight.blp")call CreateQuestBJ(0,"游戏命令","-swap x (发起交换英雄请求)
-ok (确认交换英雄请求)
-save  (保存战绩，每场游戏只能使用一次)
-roll 投掷骰子
-crazy 开启疯狂模式
-gayfriend/gf    开启基友模式
-rollrole/rr 随机分配角色
-showrole/rs 显示角色分配 ","ReplaceableTextures\\CommandButtons\\BTNGolemStormBolt.blp")call CreateQuestBJ(0,"警告！","1.不要试图作弊
2.不要开全图
3.不要玩被修改过的非正版地图
(以上任何一项都有可能使游戏异常出错或者终止，请敬爱的各位玩家支持正版抵制作弊)","ReplaceableTextures\\CommandButtons\\BTNGrabTree.blp")call CreateQuestBJ(0,"关于作者","地图制作:Boss
联系QQ:5277700
E-Mail:5563014@163.com","ReplaceableTextures\\CommandButtons\\BTNInfernalStone.blp")call CreateQuestBJ(0,"官方论坛","ele4.uuu9.com
欢迎你来一起讨论元素打法、心得、发表通关录象。","ReplaceableTextures\\CommandButtons\\BTNMoonStone.blp")set le=bj_lastCreatedQuestendfunctionfunction eH takes nothing returns nothingset Ee[1]=CreateQuestBJ(2,"成就：第一块肉","达成条件：杀死第一个敌人。
成就奖励：50金币 1点技能点 战绩+10","ReplaceableTextures\\CommandButtons\\BTNMonsterLure.blp")set Ee[2]=CreateQuestBJ(2,"成就：迅速清扫","达成条件：在25秒内消灭一波怪物。
成就奖励：团队50金币 战绩+10","ReplaceableTextures\\CommandButtons\\BTNUnholyAura.blp")set Ee[3]=CreateQuestBJ(2,"成就：炸药专家","达成条件：使用炸药击败遗迹巨蛇。
成就奖励：团队200金币 2点技能点 战绩+15","ReplaceableTextures\\CommandButtons\\BTNInfernalStone.blp")set Ee[4]=CreateQuestBJ(2,"成就：力挽狂澜","达成条件：在击败任何首领时，少于3个英雄存活。
成就奖励：200金币 2点技能点 战绩+20","ReplaceableTextures\\CommandButtons\\BTNChimaera.blp")set Ee[5]=CreateQuestBJ(2,"成就：通通都干掉！","达成条件：在最少杀死6个火焰爪牙之后，击败炎魔拉。
成就奖励：最少1点技能点,每额外杀死4个奖励额外一点技能点,最多不超过6点技能点 战绩+20","ReplaceableTextures\\CommandButtons\\BTNLavaSpawn.blp")set Ee[6]=CreateQuestBJ(2,"成就：儿孙满堂","达成条件：在不杀死任何龟孙子的情况下，击败忍者神龟
成就奖励：可以在消耗品商人处购买重生十字章 战绩+10","ReplaceableTextures\\CommandButtons\\BTNSeaTurtleGreen.blp")set Ee[7]=CreateQuestBJ(2,"成就：你的脸真黑","达成条件：在与远古海巨人的战斗中，被远古海巨人连续3次投石砸中。
成就奖励：远古石块 2点技能点 战绩+10","ReplaceableTextures\\CommandButtons\\BTNGolemStormBolt.blp")set Ee[8]=CreateQuestBJ(2,"成就：冲锋危机","达成条件：在摩拉迪姆没有冲锋过任何目标前将其击败
成就奖励：团队生命上限提高5% 战绩+10","ReplaceableTextures\\CommandButtons\\BTNSkeletonWarrior.blp")set Ee[9]=CreateQuestBJ(2,"成就：炸药狂人I","达成条件：在15秒内被5个炸药炸到并且不死。
成就奖励：奖励150金币 1点技能点 战绩+10","ReplaceableTextures\\CommandButtons\\BTNUnstableConcoction.blp")set Ee[10]=CreateQuestBJ(2,"成就：挖宝专家","达成条件：使用锄头挖出8件宝物
成就奖励：奖励挖宝大师的锄头 战绩+10","ReplaceableTextures\\CommandButtons\\BTNHornOfCenarius.blp")set Ee[11]=CreateQuestBJ(2,"成就：天谴之谜","达成条件：在少于4人分担天谴技能的情况下击败GinDog
成就就奖励：战绩+200","ReplaceableTextures\\CommandButtons\\BTNChainLightning.blp")set Ee[12]=CreateQuestBJ(2,"成就：无奶也是娘","达成条件：在不使用任何治疗技能的情况下，击败远古海巨人，并且无一人阵亡
成就奖励：团队每人额外100金币 战绩+10","ReplaceableTextures\\PassiveButtons\\PASBTNRegenerate.blp")set Ee[13]=CreateQuestBJ(2,"成就：首领杀手！","达成条件：连续3关最后一击杀死首领
成就奖励：首领杀手 2点技能点 战绩+10","ReplaceableTextures\\CommandButtons\\BTNDoom.blp")set Ee[14]=CreateQuestBJ(2,"成就：怪物猎人","达成条件：首先击杀20个怪物
成就奖励：金币+50 战绩+10 ","ReplaceableTextures\\CommandButtons\\BTNClockWerkGoblin.blp")set Ee[15]=CreateQuestBJ(2,"成就：猛犸烧烤","达成条件：使用瓦斯桶所产生的火焰烧死巨型猛犸
成就奖励：额外一次挑战机会","ReplaceableTextures\\CommandButtons\\BTNBlackMammoth.blp")endfunctionfunction oH takes nothing returns nothingcall SaveReal(Ne,1633842290,(1093677137),((.12)*1.))call SaveReal(Ne,1633842290,(1093677380),((.12)*1.))call SaveReal(Ne,1633842290,(1093677908),((.12)*1.))call SaveReal(Ne,1633842290,(1093677651),((.15)*1.))call SaveReal(Ne,1633842290,(1093677876),((.18)*1.))call SaveReal(Ne,1633842290,(1093677132),((.25)*1.))call SaveReal(Ne,1633842290,(1093677872),((.18)*1.))call SaveReal(Ne,1633842290,(1093677363),((.1)*1.))call SaveReal(Ne,1633842290,(1093677880),((.2)*1.))call SaveReal(Ne,1633842290,(1093677397),((.25)*1.))call SaveReal(Ne,1633842290,(1093677906),((.2)*1.))call SaveReal(Ne,1633842290,(1093677128),((.18)*1.))call SaveReal(Ne,1633842290,(1093677383),((.2)*1.))call SaveReal(Ne,1633842290,(1093677142),((.2)*1.))call SaveReal(Ne,1633842290,(1093682248),((.08)*1.))call SaveReal(Ne,1633842290,(1093681973),((.1)*1.))call SaveReal(Ne,1633842290,(1093682250),((.08)*1.))call SaveReal(Ne,1633842290,(1093682249),((.12)*1.))call SaveReal(Ne,1633842290,(1093677125),((.12)*1.))call SaveReal(Ne,1633842290,(1093677392),((.18)*1.))endfunctionfunction aH takes player p returns nothinglocal integer i=1loopexitwhen i>GRif GetPlayerSlotState((Player(-1+((i)))))==PLAYER_SLOT_STATE_PLAYING thencall SetPlayerAllianceStateBJ(p,(Player(-1+((i)))),4)endifset i=i+1endloopendfunctionfunction nH takes nothing returns nothinglocal integer i=1local unit u=nullloopexitwhen i>GRif GetPlayerSlotState((Player(-1+((i)))))==PLAYER_SLOT_STATE_PLAYING thenset Qe=Qe+1call CreateFogModifierRectBJ(true,(Player(-1+((i)))),FOG_OF_WAR_VISIBLE,mo)if GetPlayerController((Player(-1+((i)))))==MAP_CONTROL_COMPUTER thenset u=RF((Player(-1+((i)))),lN(i,GetPlayerStartLocationLoc((Player(-1+((i)))))),LN(i,GetPlayerStartLocationLoc((Player(-1+((i)))))))call SaveBoolean(Ne,(StringHash(I2S(GetHandleId(((u)))))),1919837288,true)call nF(u)call SetPlayerName((Player(-1+((i)))),"["+I2S(i)+"]"+GetHeroProperName(u))call aH((Player(-1+((i)))))endifendifset i=i+1endloopset i=GR+1loopexitwhen i>hRset Nv[i]=CreateUnit((Player(-1+((i)))),1970497636,GetLocationX(GetPlayerStartLocationLoc((Player(-1+((i)))))),GetLocationY(GetPlayerStartLocationLoc((Player(-1+((i)))))),90)set i=i+1endloopset Sv=ub()endfunctionfunction EH takes integer id returns nothinglocal integer i=0loopexitwhen i>11call SetPlayerTechMaxAllowed(Player(i),id,0)set i=i+1endloopendfunctionfunction XH takes nothing returns nothinglocal unit u=GetSoldUnit()local unit bu=GetBuyingUnit()local integer VB=GetUnitTypeId(u)local player p=GetOwningPlayer(u)local integer i=((1+GetPlayerId((p))))local real x=0local real y=0call SetCameraTargetControllerNoZForPlayer(p,null,0,0,false)set x=lN(i,GetPlayerStartLocationLoc(p))set y=LN(i,GetPlayerStartLocationLoc(p))set ye=0call uA(p)if VB==1164666213 thencall RemoveUnit(u)set u=RF(p,x,y)call SaveBoolean(Ne,(StringHash(I2S(GetHandleId(((u)))))),1919837288,true)call nF(u)elsecall ModifyHeroSkillPoints(u,2,0)call aF(u)call nF(u)call EH(VB)call SetUnitX(u,x)call SetUnitY(u,y)endifendfunctionfunction RH takes unit u,integer a returns booleanif a==0 thenreturn FALSEendifreturn TRUEendfunctionfunction IH takes unit u,integer AH,integer lv,boolean NH returns nothinglocal integer i=0local integer j=0local integer a=0if NH thenset lv=GetUnitAbilityLevel(u,AH)call UnitRemoveAbility(u,AH)endifif lv>4 or lv==0 thenreturnendifif not(NH)thenif lv==1 thencall kN(u,AH)endifelsecall JN(u,AH)endifif AH==1093677637 thenif NH thencall MB(u,lv*50)elsecall mB(u,50)endifreturnendifif AH==1093677363 thenif NH thencall Fc(u,-lv*5)elsecall Fc(u,5)endifreturnendifif AH==1093677618 thenif NH thencall hc(u,-lv*5)elsecall hc(u,5)endifreturnendifif AH==1093677390 thenif not(NH)thenif lv==1 thencall ModifyHeroStat(0,u,0,6)elsecall ModifyHeroStat(0,u,0,3)endifelsecall ModifyHeroStat(0,u,1,3+lv*3)endifreturnendifif AH==1093677616 thenif not(NH)thenif lv==1 thencall ModifyHeroStat(2,u,0,6)elsecall ModifyHeroStat(2,u,0,3)endifelsecall ModifyHeroStat(2,u,1,3+lv*3)endifreturnendifif AH==1093677658 thenif not(NH)thenif lv==1 thencall sc(u)set de=de+1call ModifyHeroStat(1,u,0,6)elsecall ModifyHeroStat(1,u,0,3)endifelseset de=de-1call ModifyHeroStat(1,u,1,3+lv*3)endifreturnendifif AH==1093677364 thenif not(NH)and lv==1 thencall qc(u)endifreturnendifif AH==1093677140 thenif NH thencall SetUnitAbilityLevel(u,1093677139,1)call UnitRemoveAbility(u,1093677139)call QB(u,-(5+lv*5))call bc(u,.05+lv*.05)elsecall UnitAddAbility(u,1093677139)call SetUnitAbilityLevel(u,1093677139,lv)if lv==1 thencall Nc(u,.1)call QB(u,10)elsecall Nc(u,.05)call QB(u,5)endifendifendifif AH==1395666995 thenif NH thencall Cc(u,3+lv*3)elseif lv==1 thencall cc(u,6)elsecall cc(u,3)endifendifendifif AH==1093679431 thenif NH thencall UnitRemoveAbility(u,1093679431)elsecall SetUnitAbilityLevel(u,1093679433,lv)endifendifendfunctionfunction BH takes nothing returns booleanlocal item it=GetManipulatedItem()local integer cH=GetItemTypeId(it)return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)and(cH==1227894832 or cH==1227894833 or cH==1227894834 or cH==1227894835 or cH==1227894836 or cH==1227894837 or cH==1227894838 or cH==1227894839 or cH==1227894840)endfunctionfunction CH takes nothing returns nothinglocal item it=GetManipulatedItem()local integer cH=GetItemTypeId(it)local unit u=GetTriggerUnit()local integer dH=0local integer DH=(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),StringHash("SkillPoint")))local integer fH=(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1498628948))local integer ce=(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1498628933))local integer AH=0local integer lv=0local integer i=0local integer FH=10local integer idlocal string gHcall RemoveItem(it)if not(Uv)and Be thenset FH=0endifif not(LoadBoolean(Ne,(StringHash(I2S(GetHandleId(((u)))))),1919837288))thenif GetLocalPlayer()==GetOwningPlayer(u)thencall PlaySoundBJ(rr)endifcall eN(GetTriggerPlayer(),1,0,10,true,"|cffffaa00只有随机英雄才能使用元素商店|r")returnendifif DH<FH thenif GetLocalPlayer()==GetOwningPlayer(u)thencall PlaySoundBJ(rr)endifcall eN(GetTriggerPlayer(),1,0,10,true,"|cffffaa00你需要至少10点技能点数才能学习更多的技能|r")returnendifset fH=fH+1set ce=ce+(LoadInteger(Ne,1498630484,(cH)))call SaveInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1498628948,(fH))call SaveInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1498628933,(ce))if fH>2 thencall Vb(u)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",GetUnitX(u),GetUnitY(u)))set AH=(LoadInteger(Ne,1498628418,(ce)))set gH=nb(ce)if AH==0 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,99999,"错误：未知的技能ID。错误代码>"+I2S(ce)+"<"+gH+"("+I2S(fH)+"请把代码汇报给作者以修复此错误。")returnendifset lv=GetUnitAbilityLevel(u,AH)if lv==0 thenset dH=KN(u)if dH<HR thenif RH(u,AH)thenset DH=DH-FHcall UnitAddAbility(u,AH)call UnitMakeAbilityPermanent(u,true,AH)call SaveInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1281455219,(AH))call SaveStr(Ne,StringHash("SPN"),(AH),(gH))call eN(GetTriggerPlayer(),0,0,10,true,"你学习了|cffffee00"+GetObjectName(AH)+"|r!("+nb(ce)+")")elseset dH=HRcall eN(GetTriggerPlayer(),0,0,10,true,"你无法学习|cffffee00"+GetObjectName(AH)+"|r!("+nb(ce)+"),请尝试学习其他技能")endifelsecall eN(GetTriggerPlayer(),0,0,10,true,"你最多只能学习"+I2S(HR)+"个技能")endifendifif lv>0 and lv<4 thenset DH=DH-FHcall SetUnitAbilityLevel(u,AH,lv+1)call eN(GetTriggerPlayer(),0,0,10,true,"你的技能|cffffee00"+GetObjectName(AH)+"|r等级提升！")endifif lv>=4 thencall eN(GetTriggerPlayer(),0,0,10,true,"|cffffee00"+GetObjectName(AH)+"|r已经到达了最高级别")endifif dH<HR thencall IH(u,AH,lv+1,false)endifcall Kc(u,DH)endifendfunctionfunction hH takes nothing returns nothingif not(LoadBoolean(Ne,(StringHash(I2S(GetHandleId(((GetTriggerUnit())))))),1919837288))thencall IH(GetTriggerUnit(),GetLearnedSkill(),GetUnitAbilityLevel(GetTriggerUnit(),GetLearnedSkill()),false)endifendfunctionfunction jH takes nothing returns booleanreturn(IsUnitType(GetAttacker(),UNIT_TYPE_HERO)!=null)endfunctionfunction JH takes nothing returns nothingset Dv[(1+GetPlayerId(GetOwningPlayer(GetAttacker())))]=GetTriggerUnit()endfunctionfunction KH takes player p,integer ce,integer KC,multiboard mb returns nothinglocal string array slocal integer array blocal integer i=0local integer j=0local integer lc=0local integer c=0local multiboarditem lHset b[1]=16384set b[2]=4096set b[3]=1024set b[4]=256set b[5]=64set b[6]=16set b[7]=4set b[8]=1set s[1]="ReplaceableTextures\\CommandButtons\\BTNSpellShieldAmulet.blp"set s[2]="ReplaceableTextures\\CommandButtons\\BTNOrbOfDarkness.blp"set s[3]="ReplaceableTextures\\CommandButtons\\BTNOrbOfLightning.blp"set s[4]="ReplaceableTextures\\CommandButtons\\BTNRockGolem.blp"set s[5]="ReplaceableTextures\\CommandButtons\\BTNOrbOfFire.blp"set s[6]="ReplaceableTextures\\CommandButtons\\BTNOrbOfFrost.blp"set s[7]="ReplaceableTextures\\CommandButtons\\BTNOrbOfVenom.blp"set s[8]="ReplaceableTextures\\CommandButtons\\BTNMedalionOfCourage.blp"set i=1loopexitwhen i>3set lH=MultiboardGetItem(mb,KC,i)call hb(p,lH,false,false)call MultiboardReleaseItem(lH)set i=i+1endloopset i=1set c=1loopexitwhen i>8set lc=ce/ b[i]set ce=ModuloInteger(ce,b[i])set j=1loopexitwhen j>lcset lH=MultiboardGetItem(mb,KC,c)call hb(p,lH,false,true)call Jb(p,lH,s[i])call Fb(p,lH,.02)call MultiboardReleaseItem(lH)set j=j+1set c=c+1endloopset i=i+1endloopendfunctionfunction LH takes player p,unit u,multiboard mb returns nothinglocal integer i=1local integer j=0local integer a=0local integer lv=0local integer c=0local integer mH=0local multiboarditem lHlocal integer ce=0local string array MHlocal string array pHset MH[0]="ReplaceableTextures\\CommandButtons\\BTNTaunt.blp"set MH[2]="ReplaceableTextures\\PassiveButtons\\PASBTNThickFur.blp"set MH[4]="ReplaceableTextures\\CommandButtons\\BTNDeathPact.blp"set MH[6]="ReplaceableTextures\\CommandButtons\\BTNHolyBolt.blp"set MH[8]="ReplaceableTextures\\PassiveButtons\\PASBTNCriticalStrike.blp"set MH[10]="ReplaceableTextures\\PassiveButtons\\PASBTNEvasion.blp"set MH[12]="ReplaceableTextures\\CommandButtons\\BTNPossession.blp"set MH[14]="ReplaceableTextures\\CommandButtons\\BTNTomeOfRetraining.blp"set pH[0]="仇恨比例"set pH[2]="法术抗性"set pH[4]="法术伤害"set pH[6]="法术治疗"set pH[8]="暴击几率"set pH[10]="闪避几率"set pH[12]="法力回复"set pH[14]="技能属性"set mH=KN(u)set i=0loopexitwhen i>4set j=0loopexitwhen j>4set lH=MultiboardGetItem(mb,j,i)if i==0 or i==2 thencall hb(p,lH,true,true)call Jb(p,lH,MH[j*4+i])call Fb(p,lH,.06)call Gb(p,lH,pH[j*4+i])elsecall hb(p,lH,true,false)call Fb(p,lH,.04)endifif j==4 thencall hb(p,lH,true,false)call Fb(p,lH,1)endifcall MultiboardReleaseItem(lH)set j=j+1endloopset i=i+1endloopif GetLocalPlayer()==p thencall MultiboardSetTitleText(mb,"|cffffee00"+Lb(GetOwningPlayer(u))+"|r - |cffff6060"+I2S(((1+GetPlayerId((GetOwningPlayer(u))))))+"楼|r ("+I2S(GetPlayerState(GetOwningPlayer(u),PLAYER_STATE_RESOURCE_GOLD))+"Gold)")endifset lH=MultiboardGetItem(mb,0,1)call Gb(p,lH,I2S(R2I(PB(u)*100))+"%|r")call MultiboardReleaseItem(lH)set lH=MultiboardGetItem(mb,0,3)call Gb(p,lH,"|cffffcc00"+I2S(R2I(uB(u,false,0)))+"("+I2S(R2I(yB(u,false,0)*100))+"%减免)|r")call MultiboardReleaseItem(lH)set lH=MultiboardGetItem(mb,1,1)call Gb(p,lH,I2S(R2I(Rc(0,u,null,0,0,1,false,false,false)))+"|r")call MultiboardReleaseItem(lH)set lH=MultiboardGetItem(mb,1,3)call Gb(p,lH,I2S(R2I(Rc(1,u,null,0,0,1,false,false,false)))+"|r")call MultiboardReleaseItem(lH)set lH=MultiboardGetItem(mb,2,1)call Gb(p,lH,"|cff6000A0"+I2S(Dc(u,null))+"%|r/|cffffff00"+I2S(Jc(u,null))+"%|r")call MultiboardReleaseItem(lH)set lH=MultiboardGetItem(mb,2,3)call Gb(p,lH,"|cff80f080"+I2S(Gc(u,false))+"%|r")call MultiboardReleaseItem(lH)set lH=MultiboardGetItem(mb,3,1)call Gb(p,lH,"|cfff0C0C0"+R2S(ZB(u,true))+"|r")call MultiboardReleaseItem(lH)set lH=MultiboardGetItem(mb,3,3)call Gb(p,lH,"|cffE03030"+I2S((LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),StringHash("SkillPoint"))))+"|r/|cff20E020"+I2S((LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),StringHash("LvPoint"))))+"|r")call MultiboardReleaseItem(lH)set i=1set c=4loopexitwhen i>HR+1set a=(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1936745836+(i)))if a>0 thenset lv=GetUnitAbilityLevel(u,a)set lH=MultiboardGetItem(mb,c,0)call hb(p,lH,true,true)call Fb(p,lH,.06)call Jb(p,lH,GetAbilityEffectById(a,EFFECT_TYPE_AREA_EFFECT,0))call Gb(p,lH,"|cff90e0e0"+GetObjectName(a)+"|r")call MultiboardReleaseItem(lH)set lH=MultiboardGetItem(mb,c,1)call hb(p,lH,true,false)call Fb(p,lH,.04)call Gb(p,lH,"Lv:|cffffee00"+I2S(lv)+"|r")call MultiboardReleaseItem(lH)set lH=MultiboardGetItem(mb,c,2)call hb(p,lH,true,false)call Fb(p,lH,.06)call Gb(p,lH,(LoadStr(Ne,StringHash("SPN"),(a))))call MultiboardReleaseItem(lH)set lH=MultiboardGetItem(mb,c,3)call hb(p,lH,false,false)call MultiboardReleaseItem(lH)set c=c+1endifset i=i+1endloopset ce=(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1498628933))set lH=MultiboardGetItem(mb,c,0)call hb(p,lH,true,false)if ce>0 thencall KH(p,ce,c,mb)call Fb(p,lH,.06)call Gb(p,lH,"您拾取了:")elseif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),StringHash("SkillPoint")))>9 thencall KH(p,0,c,mb)call Fb(p,lH,1)call Gb(p,lH,"您还有足够的技能点,但是您没有拾取任何元素")elsecall KH(p,0,c,mb)call Fb(p,lH,1)call Gb(p,lH,"您没有足够的技能点可供继续学习技能")endifset i=c+1loopexitwhen i>11set lH=MultiboardGetItem(mb,i,0)call hb(p,lH,false,false)call MultiboardReleaseItem(lH)set lH=MultiboardGetItem(mb,i,1)call hb(p,lH,false,false)call MultiboardReleaseItem(lH)set lH=MultiboardGetItem(mb,i,2)call hb(p,lH,false,false)call MultiboardReleaseItem(lH)set lH=MultiboardGetItem(mb,i,3)call hb(p,lH,false,false)call MultiboardReleaseItem(lH)set i=i+1endloopcall MultiboardReleaseItem(lH)if GetLocalPlayer()==p thenendifendfunctionfunction PH takes nothing returns nothinglocal integer i=1local unit tu=nulllocal unit u=nulllocal unit pu=nulllocal player p=nulllocal integer qH=0local integer QH=0local integer s=0local real sd=1.1if je==null thenset je=CreateMultiboard()call MultiboardSetRowCount(je,12)call MultiboardSetColumnCount(je,4)endifloopexitwhen i>eIset p=(Player(-1+((i))))if GetPlayerSlotState(p)==PLAYER_SLOT_STATE_PLAYING and(GetPlayerController(p)==MAP_CONTROL_USER or IsPlayerObserver(p))thenset tu=Dv[i]set u=Nv[i]set pu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId(((tu)))))),1970561394))set qH=ld(tu,pu)set QH=ld(tu,u)if IsUnitType(tu,UNIT_TYPE_MELEE_ATTACKER)thenset sd=1.3endifset qH=R2I(qH*sd)if qH!=0 thenset s=R2I(I2R(QH)/ I2R(qH)*100)endifif u==pu thenset s=100endifif GetLocalPlayer()==p thenif IsUnitInGroup(tu,hv)and not(IsUnitType(u,UNIT_TYPE_DEAD))thencall LeaderboardDisplay(dv,true)if s>=90 thencall LeaderboardSetLabel(dv,">"+Mb(tu)+"< 仇恨|cffff0000"+I2S(s)+" %|r")elsecall LeaderboardSetLabel(dv,">"+Mb(tu)+"< 仇恨"+I2S(s)+" %")endifelsecall LeaderboardDisplay(dv,false)endifendifif Je[i]!=null thencall LH(p,Je[i],je)elsecall LH(p,Nv[i],je)endifendifset i=i+1endloopcall MultiboardDisplay(je,true)endfunctionfunction SH takes nothing returns nothinglocal integer ilocal player plocal real array tHlocal real array THlocal player array uHlocal player array UHlocal real tilocal player tplocal boolean nset i=1loopexitwhen i>hRset tH[i]=Ae[i]set TH[i]=fv[i]set uH[i]=(Player(-1+((i))))set UH[i]=(Player(-1+((i))))set i=i+1endlooploopset n=falseset i=hRloopexitwhen i<2if tH[i]>tH[i-1]thenset ti=tH[i]set tH[i]=tH[i-1]set tH[i-1]=tiset tp=uH[i]set uH[i]=uH[i-1]set uH[i-1]=tpset n=trueendifset i=i-1endloopexitwhen not(n)endlooploopset n=falseset i=hRloopexitwhen i<2if TH[i]>TH[i-1]thenset ti=TH[i]set TH[i]=TH[i-1]set TH[i-1]=tiset tp=UH[i]set UH[i]=UH[i-1]set UH[i-1]=tpset n=trueendifset i=i-1endloopexitwhen not(n)endloopcall eN(null,0,0,30,false,"|cffffee00------------伤害排行(前五)------------|r")set i=1loopexitwhen i>5 or tH[i]==0call eN(null,0,0,30,false,"No.|cffffee00"+I2S(i)+"|r - |cffd08080"+Lb(uH[i])+"|r - |cff9090d0"+R2S(tH[i])+"("+R2S(tH[i]/ TimerGetElapsed(Mv))+")|r")set i=i+1endloopcall eN(null,0,0,30,false,"|cffffee00------------治疗排行(前五)------------|r")set i=1loopexitwhen i>5 or TH[i]==0call eN(null,0,0,30,false,"No.|cffffee00"+I2S(i)+"|r - |cffd08080"+Lb(UH[i])+"|r - |cff9090d0"+R2S(TH[i])+"("+R2S(TH[i]/ TimerGetElapsed(Mv))+")|r")set i=i+1endloopendfunctionfunction WH takes nothing returns nothinglocal unit u=GetEventDamageSource()local real lA=GetEventDamage()local integer oA=((1+GetPlayerId((GetOwningPlayer(u)))))if lA>1 thenset Ae[oA]=Ae[oA]+RMinBJ(lA,(GetUnitState((GetTriggerUnit()),UNIT_STATE_LIFE)))endifendfunctionfunction YH takes nothing returns nothingcall KillDestructable(GetEnumDestructable())endfunctionfunction zH takes nothing returns nothingcall EnumDestructablesInRectAll(Ko,function YH)endfunctionfunction vj takes nothing returns nothingcall DestructableRestoreLife(GetEnumDestructable(),GetDestructableMaxLife(bj_lastCreatedDestructable),true)endfunctionfunction ej takes nothing returns nothingcall EnumDestructablesInRectAll(bj_mapInitialPlayableArea,function vj)endfunctionfunction oj takes nothing returns nothingif not IsDestructableInvulnerable(GetEnumDestructable())thencall KillDestructable(GetEnumDestructable())endifendfunctionfunction rj takes unit u,real lA returns realif TO==null and(IsUnitType((u),UNIT_TYPE_HERO))thenreturn lA*.5endifreturn lAendfunctionfunction ij takes nothing returns nothinglocal unit u=GetEnumUnit()local timer tlocal integer cif IsUnitType(u,UNIT_TYPE_HERO)and not(VA(u))and(GetUnitState((u),UNIT_STATE_LIFE))>0 and GetUnitAbilityLevel(u,1098282348)==0 thenset t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("AV9T"))set c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("AV9C"))if TimerGetRemaining(t)>0 thenset c=c+1if c>=II thencall SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((vR))))),StringHash("AV9TU"),u)call TriggerExecute(vR)set c=0endifelsecall PauseTimer(t)call DestroyTimer(t)set t=CreateTimer()set c=1call TimerStart(t,15,false,null)call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("AV9T"),t)endifcall eN(GetOwningPlayer(u),0,0,5,false,"被炸药炸到|cffffee00("+I2S(c)+"/"+I2S(II)+")|r")call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("AV9C"),c)endifendfunctionfunction aj takes nothing returns nothingcall SetUnitExploded(GetEnumUnit(),TRUE)if(GetUnitState((GetEnumUnit()),UNIT_STATE_MAX_LIFE))>4000 thenif GetUnitAbilityLevel(GetEnumUnit(),1093681975)==0 thencall UnitDamageTargetBJ(BR,GetEnumUnit(),rj(GetEnumUnit(),(GetUnitState((GetEnumUnit()),UNIT_STATE_MAX_LIFE))*.025),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN)elsecall UnitDamageTargetBJ(BR,GetEnumUnit(),rj(GetEnumUnit(),(GetUnitState((GetEnumUnit()),UNIT_STATE_MAX_LIFE))*.01),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN)endifelsecall UnitDamageTargetBJ(BR,GetEnumUnit(),rj(GetEnumUnit(),200),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN)endifcall SetUnitExploded(GetEnumUnit(),FALSE)endfunctionfunction nj takes nothing returns nothingif(GetUnitState((GetEnumUnit()),UNIT_STATE_MAX_LIFE))>4000 thenif GetUnitAbilityLevel(GetEnumUnit(),1093681975)==0 thencall UnitDamageTargetBJ(BR,GetEnumUnit(),rj(GetEnumUnit(),(GetUnitState((GetEnumUnit()),UNIT_STATE_MAX_LIFE))*.025),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN)elsecall UnitDamageTargetBJ(BR,GetEnumUnit(),rj(GetEnumUnit(),(GetUnitState((GetEnumUnit()),UNIT_STATE_MAX_LIFE))*.01),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN)endifelsecall UnitDamageTargetBJ(BR,GetEnumUnit(),rj(GetEnumUnit(),200),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN)endifcall vB(GetEnumUnit(),1093678167,1110454618,12,true)endfunctionfunction Vj takes nothing returns nothinglocal integer Ej=GetDestructableTypeId(GetDyingDestructable())local location p=GetDestructableLoc(GetDyingDestructable())local group g=sI(175,p)local group g2=sI(400,p)local unit uif Ej==1280599416 or Ej==1110454321 thencall DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetLocationX(p),GetLocationY(p)))call ForGroup(g,function aj)call ForGroup(g2,function aj)if IsTriggerEnabled(vR)thencall ForGroup(g2,function ij)endifcall gI(1.)call KI(350,p,function oj)elseif Ej==1110454322 thencall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl",GetLocationX(p),GetLocationY(p)))call ForGroup(g2,function nj)if IsTriggerEnabled(vR)thencall ForGroup(g2,function ij)endifelseif Ej==1110454323 thencall DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetLocationX(p),GetLocationY(p)))call ForGroup(g,function aj)call ForGroup(g2,function aj)if IsTriggerEnabled(vR)thencall ForGroup(g2,function ij)endifset u=CreateUnitAtLoc(Player(GR),1702064246,p,0)call UnitApplyTimedLife(u,1110454320,15)elseif Ej==1110454324 thenendifcall RemoveLocation(p)call DestroyGroup(g)call DestroyGroup(g2)endfunctionfunction Rj takes unit u,string st,integer v returns nothingif st=="STR" thencall SetHeroStr(u,GetHeroStr(u,false)+v,true)elseif st=="AGI" thencall SetHeroAgi(u,GetHeroAgi(u,false)+v,true)elseif st=="INT" thencall SetHeroInt(u,GetHeroInt(u,false)+v,true)elseif st=="MENY" thencall SaveInteger(Ne,(StringHash(I2S(GetHandleId((GetOwningPlayer(u)))))),1835363961,LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetOwningPlayer(u)))))),1835363961)+v)endifendfunctionfunction Ij takes unit u,item it,integer dN,boolean Aj returns nothinglocal string Nj=LoadStr(Ne,dN,StringHash("SUIT"))local integer Bj=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1398098260+StringHash(Nj))local integer cj=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1398098260+dN)local integer i=0local string st=""local integer v=0if Nj==null thenreturnendifif not(Aj)thenif cj<1 thenset Bj=Bj+1endifset cj=cj+1elseset cj=cj-1if cj<1 thenset Bj=Bj-1endifendifset i=0loopexitwhen i>9if Aj thenset st=LoadStr(Ne,1398098260+StringHash(Nj),(Bj)*10+i)set v=-LoadInteger(Ne,1398100820+StringHash(Nj),StringHash(st))elseset st=LoadStr(Ne,1398098260+StringHash(Nj),(Bj-1)*10+i)set v=LoadInteger(Ne,1398100820+StringHash(Nj),StringHash(st))endifexitwhen st==""call Rj(u,st,v)set i=i+1endloopcall SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1398098260+StringHash(Nj),Bj)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1398098260+dN,cj)endfunctionfunction Cj takes unit u,item it,integer dN,boolean dj returns nothinglocal integer VF=GetHeroStr(u,false)local integer Dj=0local integer KB=(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1886353253+(1886614642)))if KB>0 thenset Dj=R2I(LoadInteger(Ne,dN,StringHash("STR"))*(1+.07*KB))call SaveBoolean(Ne,(StringHash(I2S(GetHandleId(((it)))))),1768976247,(true))elseset Dj=LoadInteger(Ne,dN,StringHash("STR"))endifif dj thencall SetHeroStr(u,VF-Dj,true)elsecall SetHeroStr(u,VF+Dj,true)endifendfunctionfunction fj takes unit u,item it,integer dN,boolean dj returns nothinglocal integer EF=GetHeroAgi(u,false)local integer Fj=0local integer KB=(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1886353253+(1885431657)))if KB>0 thenset Fj=R2I(LoadInteger(Ne,dN,StringHash("AGI"))*(1+.07*KB))call SaveBoolean(Ne,(StringHash(I2S(GetHandleId(((it)))))),1768976247,(true))elseset Fj=LoadInteger(Ne,dN,StringHash("AGI"))endifif dj thencall SetHeroAgi(u,EF-Fj,true)elsecall SetHeroAgi(u,EF+Fj,true)endifendfunctionfunction gj takes unit u,item it,integer dN,boolean dj returns nothinglocal integer XF=GetHeroInt(u,false)local integer Gj=0local integer KB=(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1886353253+(1885957748)))if KB>0 thenset Gj=R2I(LoadInteger(Ne,dN,StringHash("INT"))*(1+.07*KB))call SaveBoolean(Ne,(StringHash(I2S(GetHandleId(((it)))))),1768976247,(true))elseset Gj=LoadInteger(Ne,dN,StringHash("INT"))endifif dj thencall SetHeroInt(u,XF-Gj,true)elsecall SetHeroInt(u,XF+Gj,true)endifendfunctionfunction Hj takes unit u,item it,integer dN,boolean dj returns nothinglocal integer KB=(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1886353253+(1885434996)))local integer jj=0if KB>0 thenset jj=R2I(LoadInteger(Ne,dN,StringHash("ATT"))*(1+.05*KB))call SaveBoolean(Ne,(StringHash(I2S(GetHandleId(((it)))))),1768976247,(true))elseset jj=LoadInteger(Ne,dN,StringHash("ATT"))endifif dj thencall QB(u,-jj)elsecall QB(u,jj)endifendfunctionfunction Jj takes unit u,item it,integer dN,boolean dj returns nothinglocal integer KB=(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1886353253+(1886613599)))local integer sp=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP"))local integer kj=0if KB>0 thenset kj=R2I(LoadInteger(Ne,dN,StringHash("SP"))*(1+.05*KB))call SaveBoolean(Ne,(StringHash(I2S(GetHandleId(((it)))))),1768976247,(true))elseset kj=LoadInteger(Ne,dN,StringHash("SP"))endifif dj thencall SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP"),sp-kj)elsecall SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP"),sp+kj)endifendfunctionfunction Kj takes unit u,item it,integer dN,boolean dj returns nothinglocal integer KB=(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1886353253+(1886613599)))local integer sp=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP_DMG"))local integer kj=0if KB>0 thenset kj=R2I(LoadInteger(Ne,dN,StringHash("SP_DMG"))*(1+.05*KB))call SaveBoolean(Ne,(StringHash(I2S(GetHandleId(((it)))))),1768976247,(true))elseset kj=LoadInteger(Ne,dN,StringHash("SP_DMG"))endifif dj thencall SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP_DMG"),sp-kj)elsecall SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP_DMG"),sp+kj)endifendfunctionfunction lj takes unit u,item it,integer dN,boolean dj returns nothinglocal integer KB=(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1886353253+(1886613599)))local integer sp=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP_HEL"))local integer kj=0if KB>0 thenset kj=R2I(LoadInteger(Ne,dN,StringHash("SP_HEL"))*(1+.05*KB))call SaveBoolean(Ne,(StringHash(I2S(GetHandleId(((it)))))),1768976247,(true))elseset kj=LoadInteger(Ne,dN,StringHash("SP_HEL"))endifif dj thencall SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP_HEL"),sp-kj)elsecall SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP_HEL"),sp+kj)endifendfunctionfunction Lj takes nothing returns nothinglocal unit u=GetTriggerUnit()local item it=GetManipulatedItem()local integer dN=GetItemTypeId(it)local real mj=0local integer EN=0local integer wh=0local integer Mj=0local real pj=0local real Pj=0local real qj=0local real Qj=0local real sj=0local real Sj=0local real tj=0local real Tj=0local real uj=0local real Uj=0local integer wj=0local integer Wj=0local integer yj=0if BH()or IsItemPowerup(it)or not(IsUnitType(u,UNIT_TYPE_HERO))thenreturnendifset mj=(GetUnitState((u),UNIT_STATE_MANA))if GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM thencall bA("Pickup Item",5)set EN=LoadInteger(Ne,dN,StringHash("Crt"))call hc(u,EN)set wh=LoadInteger(Ne,dN,StringHash("MISS"))call Fc(u,wh)set Mj=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPK"))set Mj=Mj+LoadInteger(Ne,dN,StringHash("SPK"))call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPK"),Mj)set pj=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("ITR"))set pj=pj+LoadReal(Ne,dN,StringHash("ITR"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("ITR"),pj)set Pj=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("MPR"))set Pj=Pj+LoadReal(Ne,dN,StringHash("MPR"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("MPR"),Pj)set qj=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("HPR"))set qj=qj+LoadReal(Ne,dN,StringHash("HPR"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("HPR"),qj)call Cj(u,it,dN,false)call fj(u,it,dN,false)call gj(u,it,dN,false)call Hj(u,it,dN,false)call Jj(u,it,dN,false)call Kj(u,it,dN,false)call lj(u,it,dN,false)set Qj=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB"))set Qj=Qj+LoadReal(Ne,dN,StringHash("SPB"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB"),Qj)set sj=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_HEL"))set sj=sj+LoadReal(Ne,dN,StringHash("SPB_HEL"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_HEL"),sj)set Sj=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_DMG"))set Sj=Sj+LoadReal(Ne,dN,StringHash("SPB_DMG"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_DMG"),Sj)set tj=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_FIR"))set tj=tj+LoadReal(Ne,dN,StringHash("SPB_FIR"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_FIR"),tj)set Tj=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_DRK"))set Tj=Tj+LoadReal(Ne,dN,StringHash("SPB_DRK"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_DRK"),Tj)set uj=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_ICE"))set uj=uj+LoadReal(Ne,dN,StringHash("SPB_ICE"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_ICE"),uj)set Uj=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_LIG"))set Uj=Uj+LoadReal(Ne,dN,StringHash("SPB_LIG"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_LIG"),Uj)set wj=TB(u)set wj=wj+LoadInteger(Ne,dN,StringHash("AMM"))call tB(u,wj)set Wj=LoadInteger(Ne,dN,StringHash("MHP"))call kB(u,Wj)set yj=LoadInteger(Ne,dN,StringHash("MMP"))call mB(u,yj)call Ij(u,it,dN,false)call SetUnitState((u),UNIT_STATE_MANA,((mj)*1.))returnelseif GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM thencall bA("Dorp Item",5)set EN=LoadInteger(Ne,dN,StringHash("Crt"))call hc(u,-EN)set wh=LoadInteger(Ne,dN,StringHash("MISS"))call Fc(u,-wh)set Mj=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPK"))set Mj=Mj-LoadInteger(Ne,dN,StringHash("SPK"))call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPK"),Mj)set pj=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("ITR"))set pj=pj-LoadReal(Ne,dN,StringHash("ITR"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("ITR"),pj)set Pj=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("MPR"))set Pj=Pj-LoadReal(Ne,dN,StringHash("MPR"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("MPR"),Pj)set qj=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("HPR"))set qj=qj-LoadReal(Ne,dN,StringHash("HPR"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("HPR"),qj)call Cj(u,it,dN,true)call fj(u,it,dN,true)call gj(u,it,dN,true)call Hj(u,it,dN,true)call Jj(u,it,dN,true)call Kj(u,it,dN,TRUE)call lj(u,it,dN,true)set Qj=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB"))set Qj=Qj-LoadReal(Ne,dN,StringHash("SPB"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB"),Qj)set sj=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_HEL"))set sj=sj-LoadReal(Ne,dN,StringHash("SPB_HEL"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_HEL"),sj)set Sj=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_DMG"))set Sj=Sj-LoadReal(Ne,dN,StringHash("SPB_DMG"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_DMG"),Sj)set tj=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_FIR"))set tj=tj-LoadReal(Ne,dN,StringHash("SPB_FIR"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_FIR"),tj)set Tj=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_DRK"))set Tj=Tj-LoadReal(Ne,dN,StringHash("SPB_DRK"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_DRK"),Tj)set uj=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_ICE"))set uj=uj-LoadReal(Ne,dN,StringHash("SPB_ICE"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_ICE"),uj)set Uj=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_LIG"))set Uj=Uj-LoadReal(Ne,dN,StringHash("SPB_LIG"))call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SPB_LIG"),Uj)set wj=TB(u)set wj=wj-LoadInteger(Ne,dN,StringHash("AMM"))call tB(u,wj)set Wj=LoadInteger(Ne,dN,StringHash("MHP"))call LB(u,Wj)set yj=LoadInteger(Ne,dN,StringHash("MMP"))call MB(u,yj)call Ij(u,it,dN,true)call SetUnitState((u),UNIT_STATE_MANA,((mj)*1.))returnendifendfunctionfunction vJ takes nothing returns nothinglocal item it=GetManipulatedItem()if not(IsItemPowerup(it))and not(IsItemInvulnerable(it))thencall bA("Item CD",5)call SetItemInvulnerable(it,true)call SetItemDroppable(it,false)call XA(R2I(GetWidgetLife(it)/ 100))call SetItemDroppable(it,true)call SetItemInvulnerable(it,false)endifendfunctionfunction xJ takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer i=0local item tt=GetManipulatedItem()local integer cH=GetItemTypeId(tt)local location LIcall TriggerSleepAction(0)if not(IsItemPowerup(tt))and IsItemVisible(tt)thencall bA("JZ Dorp",5)call GN(tt,false)returnendifendfunctionfunction rJ takes nothing returns booleanreturn GetSpellAbilityId()==1093681479endfunctionfunction iJ takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer aJ=1093681479+(StringHash(I2S(GetHandleId((u)))))+(StringHash(I2S(GetHandleId((tu)))))call yc(tu,aJ,120)endfunctionfunction VJ takes unit u returns integerif UnitHasItemOfTypeBJ(u,1227895879)thenreturn 4elseif UnitHasItemOfTypeBJ(u,1227895878)thenreturn 3elseif UnitHasItemOfTypeBJ(u,1227895877)thenreturn 2elseif UnitHasItemOfTypeBJ(u,1227895874)thenreturn 1endifreturn 0endfunctionfunction EJ takes nothing returns booleanlocal unit u=GetAttacker()local unit tu=GetTriggerUnit()return VJ(u)>0 and SA(tu,u,false,false)and(not(zc((u),(1227895874))>0))and GetRandomInt(1,100)<=10endfunctionfunction XJ takes nothing returns nothinglocal unit u=GetAttacker()local unit lulocal integer lv=VJ(u)local real x=MN(GetUnitX(u),GetUnitFacing(u),96)local real y=qN(GetUnitY(u),GetUnitFacing(u),96)call yc(u,1227895874,2)set lu=CreateUnit(GetOwningPlayer(u),1869836336+lv,x,y,0)call SetUnitAnimation(lu,"Birth")call jd(lu,u,0,.07+.03*I2R(lv),.1)call UnitApplyTimedLife(lu,1112504164,12)endfunctionfunction RJ takes nothing returns booleanreturn UnitHasItemOfTypeBJ((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1227895636)and not((LoadBoolean(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1701343092)))and not((LoadBoolean(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1700884325)))endfunctionfunction IJ takes nothing returns nothingcall vB((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),1093679436,1110455383,8,true)call vB((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),1093682253,1110455383,8,true)endfunctionfunction NJ takes nothing returns booleanreturn UnitHasItemOfTypeBJ((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1685350498)and(IsUnitType(((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))),UNIT_TYPE_ANCIENT))and((LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==TR)or(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==tR))endfunctionfunction bJ takes nothing returns nothingset R=R*1.15endfunctionfunction cJ takes unit u,group g,unit tu returns unitlocal unit culocal real hp=1.01local unit hu=nulllocal integer aJ=0loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)set aJ=1093681479+(StringHash(I2S(GetHandleId((u)))))+(StringHash(I2S(GetHandleId((cu)))))if(not(zc((cu),(aJ))>0))and cu!=tu and qB(u,cu,false)and(GetUnitState((cu),UNIT_STATE_LIFE))/(GetUnitState((cu),UNIT_STATE_MAX_LIFE))<hp and(IsUnitType((cu),UNIT_TYPE_HERO))thenset hp=(GetUnitState((cu),UNIT_STATE_LIFE))/(GetUnitState((cu),UNIT_STATE_MAX_LIFE))set hu=cuendifendloopreturn huendfunctionfunction CJ takes nothing returns booleanreturn UnitHasItemOfTypeBJ((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1227895864)and not((LoadBoolean(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1701343092)))and(LoadBoolean(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1701016180))and(not(zc(((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))),(1227895864))>0))and GetRandomInt(1,100)<=50endfunctionfunction dJ takes nothing returns nothinglocal unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local unit tu=nulllocal group glocal location LIcall TriggerSleepAction(0)set LI=GetUnitLoc(u)set g=sI(1200,LI)set tu=cJ(u,g,tu)if tu!=null thencall zf(u,tu,GetRandomInt(300,500),0,false,false,true)call yc(u,1227895864,24)call DestroyEffect(AddSpecialEffectTarget("effects\\LifeBreak.mdx",tu,"chest"))endifendfunctionfunction fJ takes nothing returns booleanreturn GetSpellAbilityId()==1093682245endfunctionfunction FJ takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()call Wf(u,tu,-1,1200,1.5,false,false,true)if not Av[uR]thencall md(tu,u,R2I(Iv*2.5))call vB(tu,1093679411,1110455378,6,true)endifendfunctionfunction GJ takes nothing returns booleanreturn UnitHasItemOfTypeBJ(GetAttacker(),1227895092)and GetRandomInt(1,100)<=50 and(not(zc((GetAttacker()),(1227895092))>0))and SA(GetAttacker(),GetTriggerUnit(),false,false)endfunctionfunction hJ takes nothing returns nothinglocal unit u=GetAttacker()local unit tu=GetTriggerUnit()local unit lu=CreateUnit(GetOwningPlayer(u),1702327152,GetUnitX(tu),GetUnitY(tu),0)call yc(u,1227895092,10)call SetUnitFlyHeight(lu,1000,0)call jG(lu,tu,"CLPB",.5)call ShowUnitHide(lu)call PlaySoundOnUnitBJ(Ar,70.,tu)call uf(u,tu,QR,GetRandomInt(260,320),.4,false,false,true)call PC(u,1)call UnitApplyTimedLife(lu,1110454320,3)endfunctionfunction jJ takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1227894858endfunctionfunction JJ takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228)local real nx=GetUnitX(u)local real ny=GetUnitY(u)local real x=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1969843800)local real y=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1969843801)local real h=0if GetUnitAbilityLevel(u,1114861669)>0 thenset h=mN(nx,ny,x,y)*.35if h>=1 and h<100 thencall zf(u,u,h,0,false,false,true)endifcall SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1969843800,nx)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1969843801,ny)elsecall PauseTimer(t)call DestroyTimer(t)endifendfunctionfunction kJ takes nothing returns nothinglocal unit u=GetTriggerUnit()local timer t=CreateTimer()call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228,u)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1969843800,GetUnitX(u))call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1969843801,GetUnitY(u))call TimerStart(t,.5,true,function JJ)endfunctionfunction lJ takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1227895882endfunctionfunction LJ takes nothing returns nothinglocal item it=GetManipulatedItem()local integer c=GetItemCharges(it)local unit u=GetTriggerUnit()local unit cu=nulllocal location LIlocal group glocal unit lu=nulllocal integer i=0if c<15 thencall SetItemCharges(it,c+1)returnendifcall SetItemCharges(it,0)set LI=GetUnitLoc(u)set g=sI(1600,LI)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",GetUnitX(u),GetUnitY(u)))call PlaySoundBJ(Ar)set lu=CreateUnitAtLoc(GetOwningPlayer(u),1697656880,LI,0)call SetUnitFlyHeight(lu,1000,0)call ShowUnitHide(lu)call UnitApplyTimedLife(lu,1110454320,2)call jG(lu,u,"CLPB",1)set i=1loopexitwhen i>8call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",MN(GetUnitX(u),i*45,600),qN(GetUnitY(u),i*45,600)))set i=i+1endlooploopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)thencall uf(u,cu,QR,30*c,0,false,true,true)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl",cu,"origin"))call md(cu,u,R2I(Iv*1.5))endifendloopcall vB(u,1093682262,1110455601,18,true)call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),1093682262,40*c)endfunctionfunction MJ takes nothing returns booleanreturn UnitHasItemOfTypeBJ(GetTriggerUnit(),1227895882)and(not(zc((GetTriggerUnit()),(1227895882))>0))and SA(GetTriggerUnit(),GetAttacker(),true,false)and GetRandomInt(1,100)<34endfunctionfunction pJ takes nothing returns nothinglocal unit u=GetTriggerUnit()local item it=GetItemOfTypeFromUnitBJ(u,1227895882)local integer c=IMinBJ(GetItemCharges(it)+1,50)local unit culocal location LI=GetUnitLoc(u)local group g=sI(250,LI)call SetItemCharges(it,c)call yc(u,1227895882,1.5)call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",LI))loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,true)thencall Wf(u,cu,1,75,.25,false,true,true)endifendloopcall RemoveLocation(LI)call DestroyGroup(g)endfunctionfunction qJ takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1634890600endfunctionfunction QJ takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit culocal location LI=GetUnitLoc(u)local group g=sI(650,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if qB(u,cu,false)thencall SaveReal(Ne,(StringHash(I2S(GetHandleId((cu))))),1110455386,500)endifendloopcall RemoveLocation(LI)call DestroyGroup(g)endfunctionfunction SJ takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),1110455386)>0endfunctionfunction tJ takes nothing returns nothinglocal unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local real c=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),1110455386)set c=qf(u,c,D,1,true)call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),1110455386,c)if c<=0 thencall UnitRemoveAbility(u,1110455386)endifendfunctionfunction uJ takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1919512113 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)endfunctionfunction UJ takes nothing returns nothinglocal item it=GetManipulatedItem()local unit u=GetTriggerUnit()local integer wJ=1loopif jR>wJ thencall QB(u,(jR-wJ)*3)call JB(u,(jR-wJ)*4)set wJ=jRendifcall XA(.01)exitwhen not UnitHasItem(u,it)endloopset wJ=wJ-1call QB(u,-wJ*3)call JB(u,-wJ*4)endfunctionfunction yJ takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1227894872 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)endfunctionfunction YJ takes unit u,integer v,integer sx returns nothingif sx==1 thencall SetHeroStr(u,GetHeroStr(u,false)+v,false)elseif sx==2 thencall SetHeroAgi(u,GetHeroAgi(u,false)+v,false)elseif sx==3 thencall SetHeroInt(u,GetHeroInt(u,false)+v,false)endifendfunctionfunction zJ takes nothing returns nothinglocal item it=GetManipulatedItem()local unit u=GetTriggerUnit()local integer sx=GetItemUserData(it)local integer lB=0if GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM thenif GetHeroStr(u,true)>=GetHeroAgi(u,true)and GetHeroStr(u,true)>=GetHeroInt(u,true)and sx!=1 thenset sx=1elseif GetHeroAgi(u,true)>=GetHeroStr(u,true)and GetHeroAgi(u,true)>=GetHeroInt(u,true)and sx!=2 thenset sx=2elseif GetHeroInt(u,true)>=GetHeroStr(u,true)and GetHeroInt(u,true)>=GetHeroAgi(u,true)and sx!=3 thenset sx=3endifcall bA("Pick CS:"+I2S(sx),5)call YJ(u,xI,sx)call SetItemUserData(it,sx)returnelseif GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM thencall SetItemUserData(it,0)call YJ(u,-xI,sx)endifendfunctionfunction vk takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1227894864endfunctionfunction ek takes nothing returns nothinglocal unit u=GetTriggerUnit()call vB(u,1093681971,1110455367,17,true)call SetUnitAbilityLevel(u,1093681971,2)endfunctionfunction ok takes nothing returns booleanreturn D==.1 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)endfunctionfunction rk takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real aN=Dlocal integer lv=GetUnitAbilityLevel(u,1093681498)call TriggerSleepAction(0)call Wf(u,tu,1,GetRandomInt(450,550),.5,false,false,true)endfunctionfunction ak takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1969646695endfunctionfunction nk takes nothing returns nothinglocal item it=GetManipulatedItem()call SetItemDroppable(it,false)call XA(120)call SetItemDroppable(it,true)endfunctionfunction Ek takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1735355492endfunctionfunction Xk takes nothing returns nothinglocal item it=GetManipulatedItem()local unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer Yb=GetItemUserData(it)local location LI=GetUnitLoc(u)if Yb==0 thenset Yb=GetRandomInt(20,100)endifif GetLocalPlayer()==GetOwningPlayer(u)thencall PlaySoundBJ(br)endifcall BA(p,p,"+"+I2S(Yb),LI,10,GetUnitFlyHeight(u),90,1,192,192,0,2)call yb(p,(GetPlayerState((p),PLAYER_STATE_RESOURCE_GOLD))+Yb)call RemoveLocation(LI)endfunctionfunction Rk takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1953654132endfunctionfunction Ik takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1local integer array alocal integer PAlocal integer lv=0local integer c=0local integer r=0set L[0]="重置一个技能"set M[0]=0loopexitwhen i>HRset PA=(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1936745836+(i)))if PA>0 thenset c=c+1set L[c]=GetObjectName(PA)+" |cffD04040Lv."+I2S(GetUnitAbilityLevel(u,PA))+"|r  (|cffffee00"+I2S(c)+"|r)"set M[c]=48+iset a[c]=PAendifset i=i+1endloopset c=c+1set L[c]="取消(|cffffee00C|r)"set M[c]=67if c<=1 thencall zb(p,500,false)returnendifset r=Nb(p,"重置一个技能",c,30)if r>0 and r<c thenset lv=GetUnitAbilityLevel(u,a[r])call IH(u,a[r],0,true)call Vb(u)call Kc(u,(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),StringHash("SkillPoint")))+lv*10)call eN(p,0,0,10,false,"|cff7070DD技能|cffffee00"+GetObjectName(a[r])+"|r已经重置，归还技能点:|r|cffffee00"+I2S(lv*10)+"|r")call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DarkRitual\\DarkRitualTarget.mdl",u,"origin"))elsecall zb(p,500,false)returnendifendfunctionfunction Nk takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1936220531endfunctionfunction bk takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer a=(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1281455219))local integer c=0if a==0 thencall eN(p,0,0,10,false,"|cff7070DD你没有可以删除的技能|r|cffffee00")returnendifset c=GetUnitAbilityLevel(u,a)*10call SaveInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1281455219,(0))call IH(u,a,0,true)call Kc(u,(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),StringHash("SkillPoint")))+c)call Vb(u)call eN(p,0,0,10,false,"|cffffee00"+GetObjectName(a)+"|r|cff7070DD已被删除，归还技能点:|r|cffffee00"+I2S(c)+"|r")call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DarkRitual\\DarkRitualTarget.mdl",u,"origin"))endfunctionfunction ck takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1885957750endfunctionfunction Ck takes nothing returns nothinglocal unit u=GetTriggerUnit()call SaveInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1498628948,(0))call SaveInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1498628933,(0))call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"重置成功!")endfunctionfunction Dk takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1919841136endfunctionfunction fk takes nothing returns nothinglocal unit u=GetTriggerUnit()call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl",u,"origin"))call vB(u,1093681730,1110455345,999999,true)call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"你受到了十字章的祝福!")endfunctionfunction gk takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1885695602endfunctionfunction Gk takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer mg=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP"))local integer mb=48call vB(u,1093678680,1110454355,30,false)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP"),mg+mb)loopexitwhen GetUnitAbilityLevel(u,1093678680)==0call XA(.01)endloopset mg=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP"))call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP"),mg-mb)endfunctionfunction Hk takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1227895633endfunctionfunction jk takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer mb=64call vB(u,1093678680,1110454355,20,true)call JB(u,mb)loopexitwhen GetUnitAbilityLevel(u,1093678680)==0call XA(.01)endloopcall JB(u,-mb)endfunctionfunction kk takes nothing returns booleanreturn UnitHasItemOfTypeBJ(GetTriggerUnit(),1227895624)and GetRandomInt(1,100)<=20 and(not(zc((GetTriggerUnit()),(1227895624))>0))and SA(GetTriggerUnit(),GetAttacker(),false,true)endfunctionfunction Kk takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit culocal location LI=GetUnitLoc(u)local group g=sI(250,LI)call yc(u,1227895624,3)call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",LI))loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,true)thencall Wf(u,cu,1,60,.2,false,true,true)endifendloopcall RemoveLocation(LI)call DestroyGroup(g)endfunctionfunction Lk takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1752394870endfunctionfunction mk takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer mg=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP"))local integer mb=32if GetUnitAbilityLevel(u,1093681477)>0 thencall vB(u,1093681477,1110455110,900,false)returnendifcall vB(u,1093681477,1110455110,900,false)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP"),mg+mb)loopexitwhen GetUnitAbilityLevel(u,1093681477)==0call XA(.01)endloopset mg=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP"))call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP"),mg-mb)endfunctionfunction pk takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1885564018endfunctionfunction Pk takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer mg=SB(u)local integer mb=24if GetUnitAbilityLevel(u,1093681478)>0 thencall vB(u,1093681478,1110455111,900,false)returnendifcall vB(u,1093681478,1110455111,900,false)call sB(u,mg+mb)loopexitwhen GetUnitAbilityLevel(u,1093681478)==0call XA(.01)endloopset mg=SB(u)call sB(u,mg-mb)endfunctionfunction Qk takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1718055787endfunctionfunction sk takes nothing returns nothinglocal unit u=GetTriggerUnit()call vB(u,1093678680,1110454355,30,true)call hc(u,30)loopexitwhen GetUnitAbilityLevel(u,1093678680)==0call XA(.01)endloopcall hc(u,-30)endfunctionfunction tk takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1650946932endfunctionfunction Tk takes nothing returns nothinglocal unit u=GetTriggerUnit()call vB(u,1093678915,1110454360,30,true)call Fc(u,20)loopexitwhen GetUnitAbilityLevel(u,1093678915)==0call XA(.01)endloopcall Fc(u,-20)endfunctionfunction Uk takes nothing returns booleanreturn GetSpellAbilityId()==1093681712endfunctionfunction wk takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1433299316)local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1415672405)local real c=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1667194719)local real ec=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1701011295)local real x=GetUnitX(tu)local real y=GetUnitY(tu)local real Wk=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1886352216)local real yk=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1886352217)local real f=QN(Wk,yk,x,y)local real l=mN(Wk,yk,x,y)-eclocal real nx=Wk+l*Cos(f*bj_DEGTORAD)local real ny=yk+l*Sin(f*bj_DEGTORAD)if not IsTerrainPathable(nx,ny,PATHING_TYPE_WALKABILITY)thencall SetUnitX(tu,nx)call SetUnitY(tu,ny)endifset c=c-1if c<1 or IsUnitType(tu,UNIT_TYPE_DEAD)thencall PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Ne,(StringHash(I2S(GetHandleId((t))))))returnendifcall SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1667194719,c)endfunctionfunction Yk takes nothing returns nothinglocal unit u=GetTriggerUnit()local location LI=GetSpellTargetLoc()local timer tlocal group g=sI(325,LI)local unit culocal real x=GetLocationX(LI)local real y=GetLocationY(LI)local unit lu=CreateUnit(GetOwningPlayer(u),1697656882,x,y,0)call SetUnitAnimation(u,"spell")call UnitApplyTimedLife(lu,1110454320,5)call SetUnitTimeScale(lu,.5)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(GetTriggerUnit(),cu,false,false)and GetUnitDefaultMoveSpeed(cu)>0 and not((IsUnitType((cu),UNIT_TYPE_ANCIENT)))and not(IsUnitType(cu,UNIT_TYPE_GIANT))thencall uf(u,cu,qR,200,.6,false,true,true)if not IsUnitType(cu,UNIT_TYPE_DEAD)thenset t=CreateTimer()call vB(u,1093681714,1110454345,.6,true)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1433299316,u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1415672405,cu)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1886352216,x)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1886352217,y)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1667194719,30)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1701011295,mN(GetUnitX(cu),GetUnitY(cu),GetLocationX(LI),GetLocationY(LI))/ 30)call TimerStart(t,.02,true,function wk)endifendifendloopcall RemoveLocation(LI)call DestroyGroup(g)endfunctionfunction Zk takes nothing returns booleanreturn UnitHasItemOfTypeBJ((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1227896146)and(not(zc(((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))),(1227896146))>0))and GetRandomInt(1,100)<=15endfunctionfunction vK takes nothing returns nothinglocal unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local integer aN=18call yc(u,1227896146,13)call sB(u,SB(u)+aN)call vB(u,1093678927,1110454578,12,true)loopcall XA(.01)exitwhen GetUnitAbilityLevel(u,1093678927)==0endloopcall sB(u,SB(u)-aN)endfunctionfunction xK takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1936683571endfunctionfunction oK takes nothing returns nothinglocal unit u=GetTriggerUnit()call vB(u,1093678930,0,30,true)call vB(u,1093678931,1110454579,30,true)endfunctionfunction iK takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1936683572endfunctionfunction aK takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer aN=36call sB(u,SB(u)+aN)call vB(u,1093678933,1110454580,30,true)loopcall XA(.01)exitwhen GetUnitAbilityLevel(u,1093678933)==0endloopcall sB(u,SB(u)-aN)endfunctionfunction VK takes nothing returns booleanlocal unit au=GetAttacker()if UnitHasItemOfTypeBJ(au,1936683573)and(not(zc((au),(1936683573))>0))and GetRandomInt(1,100)<=10 thencall vB(au,1093678936,1110454581,15,true)call vB(au,1093678935,0,15,true)call yc(au,1936683573,15)endifreturn falseendfunctionfunction XK takes unit u returns integerif UnitHasItemOfTypeBJ(u,1227895881)thenreturn 3elseif UnitHasItemOfTypeBJ(u,1227895880)thenreturn 2elseif UnitHasItemOfTypeBJ(u,1651270241)thenreturn 1endifreturn 0endfunctionfunction OK takes nothing returns booleanreturn XK((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)))>0 and(not(zc(((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))),(1651270241))>0))and((GetUnitState(((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))),UNIT_STATE_LIFE))-(D-C))/(GetUnitState(((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))),UNIT_STATE_MAX_LIFE))<=.2endfunctionfunction RK takes nothing returns nothinglocal unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local integer lv=XK(u)call yc(u,1651270241,60)call SetUnitState((u),UNIT_STATE_LIFE,(((GetUnitState((u),UNIT_STATE_LIFE))+(GetUnitState((u),UNIT_STATE_MAX_LIFE))*(.2+lv*.1))*1.))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl",u,"chest"))endfunctionfunction AK takes nothing returns booleanlocal unit u=GetTriggerUnit()local item it=nulllocal integer dNlocal integer i=0if not(IsUnitType(u,UNIT_TYPE_HERO))thenreturn falseendifloopexitwhen i>5set it=UnitItemInSlot(u,i)set dN=GetItemTypeId(it)if dN==1652187749 thencall RemoveItem(it)call UnitAddItem(u,CreateItem(1652187750,GetUnitX(u),GetUnitY(u)))elseif dN==1652187750 and GetItemCharges(it)<3 thencall SetItemCharges(it,3)endifset i=i+1endloopreturn falseendfunctionfunction BK takes nothing returns booleanlocal unit u=GetTriggerUnit()local item it=GetManipulatedItem()local integer cH=GetItemTypeId(it)if cH==1652187750 thenif GetItemCharges(it)<1 thencall RemoveItem(it)set it=CreateItem(1652187749,GetUnitX(u),GetUnitY(u))call UnitAddItem(u,it)endifcall zf(u,u,(GetUnitState((u),UNIT_STATE_MAX_LIFE))*.7,0,false,false,true)call SetUnitState((u),UNIT_STATE_MANA,(((GetUnitState((u),UNIT_STATE_MANA))+(GetUnitState((u),UNIT_STATE_MAX_MANA))*.2)*1.))call Qb(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIhe\\AIheTarget.mdl",u,"origin"),1)endifreturn falseendfunctionfunction CK takes nothing returns nothinglocal unit u=GetTriggerUnit()local item it=GetManipulatedItem()local integer cH=GetItemTypeId(it)local integer VF=12if cH==1735160683 thencall zf(u,u,500,0,false,false,true)call SetHeroStr(u,GetHeroStr(u,false)+VF,true)call vB(u,1093679188,1110454603,10,true)loopcall XA(.01)exitwhen IsUnitType(u,UNIT_TYPE_DEAD)or GetUnitAbilityLevel(u,1093679188)==0endloopcall SetHeroStr(u,GetHeroStr(u,false)-VF,true)endifendfunctionfunction DK takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1953000549 and GetItemUserData(GetManipulatedItem())==0endfunctionfunction fK takes nothing returns nothinglocal item it=GetManipulatedItem()local unit u=GetTriggerUnit()local unit lucall DisableTrigger(ur)if LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((it))))),StringHash("BagUnit"))==null thenset lu=CreateUnit(GetOwningPlayer(u),1752000876,15000,-15000,0)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((it))))),StringHash("BagUnit"),lu)endifcall EnableTrigger(ur)endfunctionfunction gK takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1953000549endfunctionfunction GK takes nothing returns nothinglocal item it=GetManipulatedItem()local unit u=GetTriggerUnit()local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((it))))),StringHash("BagUnit"))local integer iif(GetUnitState((tu),UNIT_STATE_LIFE))<=0 thenreturnendifcall DisableTrigger(Ei)set i=0loopexitwhen i>5if UnitItemInSlot(u,i)!=it and not(IsItemInvulnerable(UnitItemInSlot(u,i)))thencall UnitAddItem(fe,UnitItemInSlot(u,i))endifset i=i+1endloopcall EnableTrigger(Ei)call DA(tu,u)call DA(fe,tu)endfunctionfunction HK takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1953525623endfunctionfunction jK takes nothing returns nothingcall eN(GetOwningPlayer(GetTriggerUnit()),0,0,10,false,"|cffffee00所有属性+1，增加3点技能点|r")call Kc(GetTriggerUnit(),(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((GetTriggerUnit())))))),StringHash("SkillPoint")))+3)call SetHeroStr(GetTriggerUnit(),GetHeroStr(GetTriggerUnit(),false)+1,true)call SetHeroAgi(GetTriggerUnit(),GetHeroAgi(GetTriggerUnit(),false)+1,true)call SetHeroInt(GetTriggerUnit(),GetHeroInt(GetTriggerUnit(),false)+1,true)endfunctionfunction kK takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1835101800endfunctionfunction KK takes unit u returns nothinglocal item itcall RandomDistReset()call RandomDistAddItem(1684760183,30)call RandomDistAddItem(1835101800,10)call RandomDistAddItem(1953723506,15)call RandomDistAddItem(1952736632,15)call RandomDistAddItem(1953066612,15)call RandomDistAddItem(1953723442,7)call RandomDistAddItem(1952741426,7)call RandomDistAddItem(1953066546,7)call RandomDistAddItem(ChooseRandomItemExBJ(1,ITEM_TYPE_ARTIFACT),16)call RandomDistAddItem(ChooseRandomItemExBJ(2,ITEM_TYPE_ARTIFACT),8)call RandomDistAddItem(ChooseRandomItemExBJ(3,ITEM_TYPE_ARTIFACT),2)call RandomDistAddItem(ChooseRandomItemExBJ(4,ITEM_TYPE_ARTIFACT),1)call RandomDistAddItem(1735355492,977-Le*50)set it=CreateItem(RandomDistChoose(),GetUnitX(u),GetUnitY(u))if it==null thenset it=CreateItem(1735355492,GetUnitX(u),GetUnitY(u))endifif GetItemTypeId(it)==1735355492 thencall SetItemUserData(it,GetRandomInt(300,600))endifcall eN(GetOwningPlayer(u),0,0,10,false,"|cff707090恭喜你,从战利品中获得了|r|cffffee00"+GetItemName(it)+"|r")call DN(u,it,false)endfunctionfunction lK takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer i=1local integer c=0local unit cu=LoadUnitHandle(Ne,1852010352,((1+GetPlayerId((GetOwningPlayer(u))))))call RandomDistReset()call RandomDistAddItem(1,64)call RandomDistAddItem(2,8)call RandomDistAddItem(3,1)set c=RandomDistChoose()loopcall KK(u)set i=i+1exitwhen i>c or(UnitInventoryCount(u)>5 and UnitInventoryCount(cu)>5)endloopendfunctionfunction mK takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1819107954endfunctionfunction MK takes nothing returns nothinglocal unit u=GetTriggerUnit()local item itlocal integer g=GetRandomInt(1,999)set it=CreateItem(1735355492,GetUnitX(u),GetUnitY(u))call SetItemUserData(it,g)call eN(GetOwningPlayer(u),0,0,10,false,"|cff707090打开|r|cffffee00"+GetItemName(GetManipulatedItem())+"|r|cff707090,你在里面发现了|r|cffffee00"+I2S(g)+"|r枚闪闪发光的金币")call UnitAddItem(u,it)endfunctionfunction PK takes nothing returns booleanreturn GetInventoryIndexOfItemTypeBJ((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1634099555)>0 and not((LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==TR))and(not(zc(((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))),(1634099555))>0))and GetRandomInt(1,100)<=8endfunctionfunction qK takes nothing returns nothinglocal unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))call yc(u,1634099555,1)set iv=truecall uf(u,tu,PR,(GetUnitState((u),UNIT_STATE_MAX_LIFE))*.04,0,false,false,true)call zf(u,u,Iv*2,0,false,false,false)endfunctionfunction sK takes nothing returns booleanreturn GetInventoryIndexOfItemTypeBJ((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1918989369)>0 and not((LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==TR))and SA((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),true,false)endfunctionfunction SK takes nothing returns nothinglocal unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))call vB(tu,1093679152,1110455384,8,true)call vB(tu,1095328818,0,8,true)endfunctionfunction TK takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1918986033endfunctionfunction uK takes nothing returns nothinglocal unit u=GetTriggerUnit()if(GetUnitState((u),UNIT_STATE_LIFE))/(GetUnitState((u),UNIT_STATE_MAX_LIFE))<=(GetUnitState((u),UNIT_STATE_MANA))/(GetUnitState((u),UNIT_STATE_MAX_MANA))thencall SetUnitState((u),UNIT_STATE_LIFE,(((GetUnitState((u),UNIT_STATE_LIFE))+800)*1.))call Qb(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIhe\\AIheTarget.mdl",u,"origin"),1)elsecall Qb(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIma\\AImaTarget.mdl",u,"origin"),1)call SetUnitState((u),UNIT_STATE_MANA,(((GetUnitState((u),UNIT_STATE_MANA))+300)*1.))endifendfunctionfunction wK takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1952807024endfunctionfunction WK takes nothing returns nothingcall RemoveItem(GetManipulatedItem())call eN(GetOwningPlayer(GetTriggerUnit()),0,0,10,false,"|cffffee00增加1点技能点|r")call Kc(GetTriggerUnit(),(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((GetTriggerUnit())))))),StringHash("SkillPoint")))+1)endfunctionfunction YK takes nothing returns booleanreturn IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)and GetItemTypeId(GetManipulatedItem())==1936548206endfunctionfunction zK takes nothing returns nothinglocal unit u=GetTriggerUnit()call QB(u,6)call RemoveItem(GetManipulatedItem())call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl",(u),"origin"))endfunctionfunction vl takes nothing returns booleanreturn IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)and GetItemTypeId(GetManipulatedItem())==1886151532endfunctionfunction el takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer mg=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP"))local integer mb=8call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP"),mg+mb)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl",(u),"origin"))call RemoveItem(GetManipulatedItem())endfunctionfunction ol takes nothing returns nothinglocal unit cu=GetTriggerUnit()local player p=GetOwningPlayer(cu)local integer i=((1+GetPlayerId((p))))local integer a=GetSpellAbilityId()local unit u=Nv[i]local integer c=(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),StringHash("LvPoint")))if a!=1093681480 and a!=1093682489 and a!=1093682510 thenreturnendifif c>0 thenif a==1093681480 thencall SetHeroStr(u,GetHeroStr(u,false)+1,false)set c=c-1call QB(u,1)elseif a==1093682489 thencall SetHeroAgi(u,GetHeroAgi(u,false)+1,false)set c=c-1call QB(u,1)elseif a==1093682510 thencall SetHeroInt(u,GetHeroInt(u,false)+1,false)set c=c-1call QB(u,1)endifelsecall oN(GetOwningPlayer(u),"|cffffaa00你的属性点不足|r")endifcall kc(u,c,false)endfunctionfunction il takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer a=0local integer lv=0local integer i=0if(LoadBoolean(Ne,(StringHash(I2S(GetHandleId(((u)))))),1919837288))thenset i=1loopset a=(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1936745836+(i)))set lv=GetUnitAbilityLevel(u,a)exitwhen i>7if lv<4 and lv>0 thencall SetUnitAbilityLevel(u,a,lv+1)call IH(u,a,lv+1,false)call eN(p,0,0,10,false,"|cffffee00"+GetObjectName(a)+"|r等级提升!")exitwhen trueendifset i=i+1endloopelsecall kB(u,10)call QB(u,5)endifcall kc(u,(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),StringHash("LvPoint")))+5,true)call Kc(u,(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),StringHash("SkillPoint")))+10)endfunctionfunction nl takes nothing returns booleanreturn(SubStringBJ(StringCase(GetEventPlayerChatString(),false),1,5)=="-save")endfunctionfunction Vl takes nothing returns booleanreturn(SubStringBJ(StringCase(GetEventPlayerChatString(),false),1,5)=="-load")endfunctionfunction El takes nothing returns booleanreturn(SubStringBJ(StringCase(GetEventPlayerChatString(),false),1,5)=="-swap")or(SubStringBJ(StringCase(GetEventPlayerChatString(),false),1,3)=="-ok")endfunctionfunction Xl takes nothing returns booleanreturn(El())endfunctionfunction Ol takes nothing returns booleanreturn(SubStringBJ(StringCase(GetEventPlayerChatString(),false),1,5)=="-give")endfunctionfunction Rl takes nothing returns booleanreturn(SubStringBJ(StringCase(GetEventPlayerChatString(),false),1,3)=="-go")endfunctionfunction Il takes nothing returns booleanreturn(SubStringBJ(StringCase(GetEventPlayerChatString(),false),1,5)=="-next")endfunctionfunction Al takes nothing returns booleanreturn(StringCase(GetEventPlayerChatString(),false)=="-crazy")endfunctionfunction Nl takes nothing returns booleanreturn(Al())endfunctionfunction Bl takes nothing returns booleanreturn(StringCase(GetEventPlayerChatString(),false)=="-gf")or(StringCase(GetEventPlayerChatString(),false)=="-gayfriend")endfunctionfunction cl takes nothing returns booleanreturn(Bl())endfunctionfunction Cl takes nothing returns booleanreturn(StringCase(GetEventPlayerChatString(),false)=="-rollrole")or(StringCase(GetEventPlayerChatString(),false)=="-rr")endfunctionfunction dl takes nothing returns booleanreturn(Cl())endfunctionfunction Dl takes nothing returns booleanreturn(StringCase(GetEventPlayerChatString(),false)=="-roleshow")or(StringCase(GetEventPlayerChatString(),false)=="-rs")endfunctionfunction fl takes nothing returns booleanreturn(Dl())endfunctionfunction Fl takes nothing returns booleanreturn(SubStringBJ(StringCase(GetEventPlayerChatString(),false),1,5)=="-roll")endfunctionfunction gl takes nothing returns booleanreturn(SubStringBJ(StringCase(GetEventPlayerChatString(),false),1,4)=="-ver")or(SubStringBJ(StringCase(GetEventPlayerChatString(),false),1,8)=="-version")endfunctionfunction Gl takes nothing returns booleanreturn(gl())endfunctionfunction hl takes nothing returns booleanreturn(SubStringBJ(StringCase(GetEventPlayerChatString(),false),1,7)=="-addbot")endfunctionfunction Hl takes nothing returns booleanreturn(hl())endfunctionfunction Jl takes nothing returns nothingcall bA("Command",5)if(nl())thencall TriggerExecute(JO)returnendifif(Vl())thencall TriggerExecute(kO)returnendifif(Xl())thencall TriggerExecute(ba)returnendifif(Ol())thencall TriggerExecute(Ba)returnendifif(Rl())thencall TriggerExecute(ca)returnendifif(Il())thencall TriggerExecute(Da)returnendifif(Nl())thencall TriggerExecute(fa)returnendifif(cl())thencall TriggerExecute(ga)returnendifif(dl())thencall TriggerExecute(Ga)returnendifif(fl())thencall TriggerExecute(ha)returnendifif(Fl())thencall TriggerExecute(Ca)returnendifif(Gl())thencall TriggerExecute(Fa)returnendifif(Hl())thenreturnendifendfunctionfunction ll takes nothing returns nothinglocal integer it=GetItemTypeId(GetEnumItem())if it==1227894832 or it==1227894833 or it==1227894834 or it==1227894835 or it==1227894836 or it==1227894837 or it==1227894838 or it==1227894839 thencall RemoveItem(GetEnumItem())endifendfunctionfunction Ll takes nothing returns nothingcall PlaySoundBJ(Vr)call eN(null,0,0,10,false,"|cffffee00商店模式已经启用!|r")call tb(true)call EnumItemsInRectBJ(jv[0],function ll)endfunctionfunction pl takes nothing returns nothinglocal player p=GetTriggerPlayer()local integer pi=((1+GetPlayerId((p))))local unit u=nulllocal player tp=nulllocal integer Pl=0local unit tu=nulllocal timer t=nulllocal string s=StringCase(GetEventPlayerChatString(),false)local group g=nulllocal string qlif not((IsUnitType((Nv[pi]),UNIT_TYPE_HERO)))thenreturnendifif s=="-ok" thenif Fv[pi]==2 thenset Fv[pi]=3call eN(p,0,0,10,true,"|cffA0A0D0你已经接受了请求")returnendifcall eN(p,0,0,10,true,"|cffA0A0D0没有人要和你换英雄")returnendifset Pl=S2I(SubStringBJ(s,7,7))if Pl<1 or Pl>GR thencall eN(p,0,0,10,true,"|cffA0A0D0无效的目标")returnendifset tp=(Player(-1+((Pl))))if Fv[pi]==1 thencall eN(p,0,0,10,true,"|cffA0A0D0不能同时发送两个交换请求")returnendifif Fv[Pl]==1 or Fv[Pl]==2 thencall eN(p,0,0,10,true,"|cffA0A0D0目标正在和其他玩家交换英雄")returnendifset g=PI(ox)if not(IsUnitInGroup(Nv[pi],g))or not(IsUnitInGroup(Nv[Pl],g))thencall eN(p,0,0,10,true,"|cffA0A0D0必须在出生点区域才能交换英雄")returnendifif GetPlayerState(p,PLAYER_STATE_RESOURCE_LUMBER)>0 or GetPlayerState(tp,PLAYER_STATE_RESOURCE_LUMBER)>0 thencall eN(p,0,0,10,true,"|cffA0A0D0你或者目标玩家需要把战绩使用完以后才能交换")returnendifif pi==Pl thencall eN(p,0,0,10,true,"|cffA0A0D0你不能与自己交换英雄")returnendifset Fv[pi]=1if GetPlayerController(tp)==MAP_CONTROL_COMPUTER or GetPlayerSlotState(tp)==PLAYER_SLOT_STATE_LEFT thenset Fv[Pl]=3elseset Fv[Pl]=2call eN(p,0,0,10,false,"交换请求已经发送，等待对方确认")endifcall eN(tp,0,0,10,false,"|cffffee00"+GetPlayerName(p)+"|r|cffA0A0D0想和你换英雄，确认请输入-ok")set t=CreateTimer()call TimerStart(t,10,false,null)loopif TimerGetRemaining(t)==0 thenset Fv[Pl]=0set Fv[pi]=0call eN(p,0,0,10,false,"对方没有接受你的交换请求")call DestroyTimer(t)returnendifexitwhen Fv[Pl]==3call TriggerSleepAction(.01)endloopcall DestroyTimer(t)set Fv[pi]=0set Fv[Pl]=0set u=Nv[Pl]set tu=Nv[pi]set Nv[pi]=uset Nv[Pl]=tuset ql=oI[pi]set oI[pi]=oI[Pl]set oI[Pl]=qlcall SetUnitOwner(u,p,true)call SetUnitOwner(tu,tp,true)call SelectUnitForPlayerSingle(u,p)call SelectUnitForPlayerSingle(tu,tp)call eN(tp,0,0,10,false,"|cffffee00英雄交换成功!")call eN(p,0,0,10,false,"|cffffee00英雄交换成功!")endfunctionfunction sl takes nothing returns nothinglocal string s=GetEventPlayerChatString()local player plocal integer oAlocal integer mif not((IsUnitType((Nv[((1+GetPlayerId((GetTriggerPlayer()))))]),UNIT_TYPE_HERO)))thenreturnendifif StringLength(s)<9 thencall DisplayTimedTextToForce(SI(GetTriggerPlayer()),5.,"命令长度不对")returnendifset oA=S2I(SubStringBJ(s,7,7))set m=S2I(SubStringBJ(s,9,12))if oA<1 or oA>GR+3 thencall DisplayTimedTextToForce(SI(GetTriggerPlayer()),5.,"无效的目标玩家")returnendifset p=Player(-1+(oA))if GetPlayerSlotState(p)!=PLAYER_SLOT_STATE_PLAYING or p==GetTriggerPlayer()or not(IsUnitType(Nv[oA],UNIT_TYPE_HERO))thencall DisplayTimedTextToForce(SI(GetTriggerPlayer()),5.,"无效的目标玩家")returnendifif m<=GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)and m>0 thencall AdjustPlayerStateBJ(S2I(SubStringBJ(GetEventPlayerChatString(),9,12)),Player(-1+(S2I(SubStringBJ(GetEventPlayerChatString(),7,7)))),PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ((0-S2I(SubStringBJ(GetEventPlayerChatString(),9,12))),GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)call eN(p,0,0,10,false,"|cff8888ee你从|r|cffffee00"+Lb(GetTriggerPlayer())+"|r|cff8888ee那里获得了|r|cffffee00"+I2S(m)+"|r|cff8888ee黄金|r")elsecall DisplayTimedTextToForce(SI(GetTriggerPlayer()),5.,"交易数目不正确")endifendfunctionfunction tl takes nothing returns nothinglocal group g=PI(ox)local unit u=nullif not(IsTriggerEnabled(GetTriggeringTrigger()))thenreturnendifif not((IsUnitType((Nv[((1+GetPlayerId((GetTriggerPlayer()))))]),UNIT_TYPE_HERO)))thenreturnendifcall DisableTrigger(GetTriggeringTrigger())loopset u=FirstOfGroup(g)exitwhen u==nullcall GroupRemoveUnit(g,u)if IsUnitType(u,UNIT_TYPE_HERO)and jA(GetOwningPlayer(u))thencall IssuePointOrderById(u,851986,-11400,-12860)endifendloopcall DestroyGroup(g)call gI(30)call EnableTrigger(GetTriggeringTrigger())endfunctionfunction Ul takes nothing returns nothingcall eN(null,0,0,60,false,"|cffffee00"+Lb(GetTriggerPlayer())+"|r ROLL 出了 |cff7070e0"+I2S(GetRandomInt(1,100))+"|r 点")endfunctionfunction Wl takes nothing returns nothingcall SaveBoolean(Ne,1953067123,((1+GetPlayerId((GetTriggerPlayer())))),true)call eN(GetTriggerPlayer(),0,0,10,false,"|cffffee00Tips已经关闭|r")endfunctionfunction Yl takes nothing returns nothinglocal player p=GetTriggerPlayer()if sv==p and not(Te)and Lv==1 and xv==0 and jR<11 thenset te=trueset Te=trueendifendfunctionfunction Zl takes nothing returns nothinglocal player p=GetTriggerPlayer()local integer i=GRif jR>1 or We or not(IsTriggerEnabled(ME))or sv!=p thenreturnendifset ye=-1loopexitwhen i>hRif GetUnitTypeId(Nv[i])==1970497636 thencall uA((Player(-1+((i)))))endifset i=i+1endloopset We=truecall PlaySoundBJ(Vr)call eN(null,0,0,10,false,"|cffffee00疯狂模式已经启用,现在围观群众可以选择英雄|r")endfunctionfunction eL takes nothing returns nothinglocal player p=GetTriggerPlayer()call eN(p,0,0,10,false,"当前游戏版本：|cffffee00"+UR+"|r")endfunctionfunction oL takes nothing returns nothinglocal player p=GetTriggerPlayer()local integer i=GRif jR>1 or xx or Qe>4 or sv!=p thenreturnendifset xx=truecall PlaySoundBJ(Vr)call eN(null,0,0,10,false,"|cffffee00基友模式已经启用,现在怪物数量和战斗力都被削弱了|r")endfunctionfunction iL takes nothing returns nothinglocal player p=GetTriggerPlayer()local integer i=1local integer pi=0if jR>1 or sv!=p thenreturnendifcall SN()set i=1loopexitwhen i>11set p=sN(true)set pi=((1+GetPlayerId((p))))if p==null thencall bA("角色分配结束，没有足够的玩家"+rI[i],5)returnendifif(LoadBoolean(Ne,(StringHash(I2S(GetHandleId(((Nv[pi])))))),1919837288))thenset oI[pi]=rI[i]endifcall eN(p,0,0,15,false,"您的角色被分配为：|cffffee00"+oI[pi]+"|r")set i=i+1endloopcall DestroyForce(iI)endfunctionfunction nL takes nothing returns nothinglocal integer i=1local player p=GetTriggerPlayer()call eN(p,0,0,15,false,"|cff4040D0您的角色被分配为：|r|cffffee00"+oI[((1+GetPlayerId((p))))]+"|r")loopexitwhen i>GRif Nv[i]!=null and(IsUnitType((Nv[i]),UNIT_TYPE_HERO))thenif i!=((1+GetPlayerId((p))))thencall eN(p,0,0,15,false,"|cffffee00"+Lb((Player(-1+((i)))))+"|r的角色被分配为：|cffffee00"+oI[i]+"|r")endifendifset i=i+1endloopendfunctionfunction EL takes nothing returns booleanreturn GetSpellAbilityId()==1093682499endfunctionfunction XL takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local unit lulocal location LI=GetUnitLoc(u)set lu=eC(u,tu,LI,1093682500,1,"shadowstrike",1)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((lu))))),1970170228,u)call RemoveLocation(LI)call XA(.5)call LA(GetOwningPlayer(u),true)endfunctionfunction RL takes nothing returns booleanreturn D==.16 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093682500)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)endfunctionfunction IL takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId(((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))))))),1970170228)call TriggerSleepAction(0)call UnitRemoveAbility(tu,1110454605)call uf(u,tu,1,1500,2.5,false,false,true)call MA(u)call hF(u,tu,(UnitHasItemOfTypeBJ((u),1227896151)))endfunctionfunction bL takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093677393)>0 and D==.16endfunctionfunction BL takes nothing returns nothinglocal unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local integer lv=GetUnitAbilityLevel(u,1093677393)local real lA=(120+120*lv)/ 12local real ic=1local real db=0local real cL=0set ic=cF(u)if SA(u,tu,false,false)thenset Ce=fF(u)set Hv=R2I(dF(u))call TriggerSleepAction(0)call uf(u,tu,pR,lA*ic,((1.4+.3*I2R(lv))/ 12)*ic,false,true,false)endifendfunctionfunction dL takes nothing returns booleanreturn GetSpellAbilityId()==1093677395 and(GetUnitTypeId(GetTriggerUnit())!=1702327152)endfunctionfunction DL takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit fL=nulllocal integer lv=GetUnitAbilityLevel(u,1093677395)local integer i=1local location LI=GetSpellTargetLoc()local group glocal unit culocal real lA=(80+80*lv)/ 6local real ic=1local real db=0local real cL=0local real FL=1local boolean gL=falseif GetUnitAbilityLevel(u,1093682227)>0 thenset FL=2.call UnitRemoveAbility(u,1093682227)call UnitRemoveAbility(u,1110455373)set fL=CreateUnit(GetOwningPlayer(u),1702327152,GetLocationX(LI),GetLocationY(LI),0)call UnitAddAbility(fL,1093677395)call IssuePointOrderByIdLoc(fL,852238,LI)call XA(.01)call IssueImmediateOrderById(u,851972)elseset fL=uendifset ic=cF(u)set db=dF(u)set cL=fF(u)loopcall XA(1)exitwhen i>6 or GetUnitCurrentOrder(fL)!=852238set gL=(UnitHasItemOfTypeBJ((u),1227896151))set g=sI(500,LI)loopset cu=FirstOfGroup(g)call GroupRemoveUnit(g,cu)exitwhen cu==nullif SA(u,cu,false,false)thenset Ce=cLset Hv=R2I(db)call uf(u,cu,pR,lA*ic*FL,(I2R(lv)*.4)*ic/ 6,false,true,true)call hF(u,cu,gL)endifendloopcall DestroyGroup(g)set i=i+1endloopif fL!=u thencall RemoveUnit(fL)endifcall RemoveLocation(LI)call IssueImmediateOrderById(fL,851972)endfunctionfunction hL takes nothing returns booleanreturn GetSpellAbilityId()==1093677638 and(GetUnitTypeId(GetTriggerUnit())!=1702327152)endfunctionfunction jL takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,GetHandleId(t),1970170228)local unit tu=LoadUnitHandle(Ne,GetHandleId(t),1952543349)local integer lv=GetUnitAbilityLevel(u,1093677638)local real ic=LoadReal(Ne,GetHandleId(t),1684170338)if Ab()>3 or VA(u)or VA(tu)thencall EA(t)returnendifcall uf(u,tu,pR,((100*lv)/ 4)*ic,((.8+.45*I2R(lv))/ 4)*ic,true,false,false)endfunctionfunction JL takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677638)local integer i=1local real lA=100*lvlocal integer c=GetUnitAbilityLevel(u,1093681457)local real ic=0local real db=0local real cL=0local boolean gL=(UnitHasItemOfTypeBJ((u),1227896151))local timer t=CreateTimer()call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl",tu,"chest"))set ic=cF(u)set db=dF(u)set cL=fF(u)set Ce=cLset Hv=R2I(db)call uf(u,tu,1,lA*ic,(.8+.45*I2R(lv))*ic,false,false,true)call MA(u)call hF(u,tu,gL)call vB(u,1093681457,1110454872,60,true)call SetUnitAbilityLevel(u,1093681457,c+1)call SaveUnitHandle(Ne,GetHandleId(t),1970170228,u)call SaveUnitHandle(Ne,GetHandleId(t),1952543349,tu)call SaveReal(Ne,GetHandleId(t),1684170338,ic)call TimerStart(t,1,true,function jL)endfunctionfunction KL takes nothing returns booleanreturn GetSpellAbilityId()==1093677891 and(GetUnitTypeId(GetTriggerUnit())!=1702327152)endfunctionfunction lL takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677891)local real lA=100+200*lvlocal real ic=0local real db=0local real cL=0local boolean gL=(UnitHasItemOfTypeBJ((u),1227896151))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Volcano\\VolcanoMissile.mdl",tu,"chest"))set ic=cF(u)set db=dF(u)set cL=fF(u)set Ce=cLset Hv=R2I(db)call uf(u,tu,pR,lA*ic,(1.2+lv*.65)*ic,false,false,true)call MA(u)call hF(u,tu,gL)if Av[1]thencall DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FireBuff.mdx",u,"origin"))call vB(u,1093678640,1110454346,24,true)endifendfunctionfunction mL takes nothing returns booleanreturn GetSpellAbilityId()==1093677892 and(GetUnitTypeId(GetTriggerUnit())!=1702327152)endfunctionfunction ML takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677892)local integer i=0local location LI=GetUnitLoc(tu)local group g=sI(200,LI)local unit culocal real lA=100+lv*100local real ic=0local real db=0local real cL=0local boolean gL=(UnitHasItemOfTypeBJ((u),1227896151))call PlaySoundAtPointBJ(gr,100,LI,GetLocationZ(LI))set ic=cF(u)set db=dF(u)set cL=fF(u)call DestroyEffect(AddSpecialEffect("war3mapImported\\Firaga.mdx",GetLocationX(LI),GetLocationY(LI)))set Ce=cLset Hv=R2I(db)loopset cu=FirstOfGroup(g)call GroupRemoveUnit(g,cu)exitwhen cu==null or i>10 or(GetUnitState((u),UNIT_STATE_MANA))<3if SA(u,cu,false,false)thenset Ce=cLset Hv=R2I(db)if GetUnitAbilityLevel(tu,1112433768)>0 thenset Hv=100endifif cu==tu thencall uf(u,cu,pR,(lA*ic)*1.35,((.8+I2R(lv)*.4)*ic)*1.35,false,true,true)elsecall SetUnitState((u),UNIT_STATE_MANA,(((GetUnitState((u),UNIT_STATE_MANA))-3)*1.))call uf(u,cu,pR,lA*ic,(.8+I2R(lv)*.4)*ic,false,true,true)endifcall hF(u,cu,gL)call UnitRemoveAbility(tu,1112433768)set i=i+1endifendloopif i>2 thencall vB(u,1093682227,1110455373,15,true)endifcall yc(u,1093677892,IMinBJ(3+i*3,45))call DestroyGroup(g)call RemoveLocation(LI)endfunctionfunction PL takes nothing returns booleanreturn GetSpellAbilityId()==1093677881 and(GetUnitTypeId(GetTriggerUnit())!=1702327152)endfunctionfunction qL takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677881)local location LI=GetSpellTargetLoc()local integer ilocal group glocal unit culocal real xlocal real ylocal real lA=35+35*lvlocal real ic=0local real db=0local real cL=0local boolean gL=(UnitHasItemOfTypeBJ((u),1227896151))set ic=cF(u)set db=dF(u)set cL=fF(u)set i=1set g=sI(75,LI)loopset cu=FirstOfGroup(g)call GroupRemoveUnit(g,cu)exitwhen cu==null or i>3if SA(u,cu,false,false)thenset Ce=cLset Hv=R2I(db)call uf(u,cu,pR,lA*ic,(.6+I2R(lv)*.2)*ic,false,true,true)call hF(u,cu,gL)if not(IsUnitType((cu),UNIT_TYPE_ANCIENT))thencall vB(cu,1093681486,1110454323,6,true)endifset i=i+1endifendloopcall DestroyGroup(g)set i=1loopexitwhen i>6set x=GetLocationX(LI)+60*Cos(i*60*bj_DEGTORAD)set y=GetLocationY(LI)+60*Sin(i*60*bj_DEGTORAD)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl",x,y))set i=i+1endloopcall XA(.25)set g=sI(275,LI)loopset cu=FirstOfGroup(g)call GroupRemoveUnit(g,cu)exitwhen cu==nullif SA(u,cu,false,false)thenset Ce=cLset Hv=R2I(db)call uf(u,cu,pR,lA*ic,(.6+I2R(lv)*.2)*ic,false,true,true)call hF(u,cu,gL)if not(IsUnitType((cu),UNIT_TYPE_ANCIENT))thencall vB(cu,1093681486,1110454323,6,true)endifendifendloopcall DestroyGroup(g)set i=1loopexitwhen i>18set x=GetLocationX(LI)+180*Cos(i*20*bj_DEGTORAD)set y=GetLocationY(LI)+180*Sin(i*20*bj_DEGTORAD)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl",x,y))set i=i+1endloopcall RemoveLocation(LI)endfunctionfunction SL takes nothing returns booleanreturn GetSpellAbilityId()==1093677124endfunctionfunction tL takes unit u,location LI,integer lv,real fw,real ic returns integerlocal unit lu=nulllocal unit TL=nulllocal unit cu=nulllocal group g=sI(fw,LI)local group g2=CreateGroup()local integer c=0local real b=0local real lA=(300+300*lv)*icif LI==null thenreturn 0endifcall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",GetLocationX(LI),GetLocationY(LI)))call PlaySoundBJ(Ar)set lu=CreateUnitAtLoc(GetOwningPlayer(u),1697656880,LI,0)call SetUnitFlyHeight(lu,1000,0)call ShowUnitHide(lu)call UnitApplyTimedLife(lu,1110454320,2)set TL=CreateUnitAtLoc(GetOwningPlayer(u),1697656880,LI,0)call ShowUnitHide(TL)call UnitApplyTimedLife(TL,1110454320,2)call jG(lu,TL,"CLPB",1)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)thencall GroupAddUnit(g2,cu)endifendloopcall DestroyGroup(g)set c=CountUnitsInGroup(g2)set lA=lA/ cset b=(1.5+lv*.5)*ic/ cloopset cu=FirstOfGroup(g2)exitwhen cu==nullcall GroupRemoveUnit(g2,cu)call uf(u,cu,QR,lA+qC(u,cu,10),b,false,true,true)endloopcall DestroyGroup(g2)return cendfunctionfunction uL takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677124)local location LI=GetSpellTargetLoc()local integer c=0local integer i=1local boolean xN=not(GetUnitAbilityLevel(u,1093682007)>0 and GetRandomInt(1,100)<=50)local real ic=pC(u,xN)loopset c=tL(u,LI,lv,250,ic)exitwhen GetUnitAbilityLevel(u,1093677620)==0 or i>2 or GetRandomInt(1,100)>IMinBJ(c*8,32)set i=i+1call XA(.5)endloopcall RemoveLocation(LI)endfunctionfunction wL takes nothing returns booleanreturn GetSpellAbilityId()==1093677620endfunctionfunction WL takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local unit cu=nulllocal unit nu=nulllocal integer lv=GetUnitAbilityLevel(u,1093677620)local location LI=nulllocal integer avc=0local integer lc=0local group g=nulllocal group cf=CreateGroup()local integer i=1local real b=1local integer jlocal boolean xN=not(GetUnitAbilityLevel(u,1093682007)>0 and GetRandomInt(1,100)<=50)local real ic=pC(u,xN)local real lA=100+100*lvlocal integer dc=0set lc=lv+2if UnitHasItemOfTypeBJ(u,1685088357)thenset lc=lc+1endifset cu=uloopexitwhen tu==nullcall GroupAddUnit(cf,tu)call jG(cu,tu,"CLPB",1)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",tu,"chest"))call uf(u,tu,QR,(lA+qC(u,tu,35))*ic*b,(.8+I2R(lv)*.4)*ic*b,false,true,true)if(GetUnitState((tu),UNIT_STATE_LIFE))<=0 thenset dc=dc+1endifset LI=GetUnitLoc(tu)set j=1set nu=nullloopset g=sI(10*j,LI)loopset cu=FirstOfGroup(g)call GroupRemoveUnit(g,cu)exitwhen cu==nullif cu!=tu and not(IsUnitInGroup(cu,cf))and SA(u,cu,false,false)thenset nu=cuexitwhen trueendifendloopcall DestroyGroup(g)exitwhen j>40 or nu!=nullset j=j+1endloopcall RemoveLocation(LI)set cu=tuset tu=nuset b=b-.1exitwhen i>2+lvset i=i+1endloopcall DestroyGroup(cf)endfunctionfunction YL takes nothing returns booleanreturn GetSpellAbilityId()==1093677621endfunctionfunction zL takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local unit culocal integer lv=GetUnitAbilityLevel(u,1093677621)local location LI=GetUnitLoc(tu)local group g=sI(275,LI)local real ic=pC(u,TRUE)local real lA=50+60*lvloopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)thencall uf(u,cu,QR,(lA+qC(u,tu,15))*ic,(.6+.4*I2R(lv))*ic,false,true,true)call jG(u,cu,"FORK",1)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",cu,"chest"))set lA=lA+5endifendloopendfunctionfunction vm takes nothing returns booleanreturn GetSpellAbilityId()==1093677653endfunctionfunction em takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677653)local integer ilocal integer jlocal group glocal group g2=CreateGroup()local unit culocal location LIlocal real ic=pC(u,TRUE)local real xm=1local real lA=(15+10*lv)*iclocal timer t=CreateTimer()local integer c=0set i=1loopexitwhen i>30 or IsUnitDeadBJ(u)set LI=GetUnitLoc(u)set g=sI(1200,LI)set j=1loopset cu=GroupPickRandomUnit(g)call GroupRemoveUnit(g,cu)exitwhen j>2 or cu==nullif SA(u,cu,false,false)and IsUnitVisible(cu,GetOwningPlayer(u))thencall GroupAddUnit(g2,cu)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl",cu,"origin"))set j=j+1endifendloopcall DestroyGroup(g)call RemoveLocation(LI)call TimerStart(t,1,false,null)loopexitwhen TimerGetRemaining(t)==0call TriggerSleepAction(.01)endloopif CountUnitsInGroup(g2)<=1 thenset xm=1.5elseset xm=1endifloopset cu=FirstOfGroup(g2)call GroupRemoveUnit(g2,cu)exitwhen cu==nullcall uf(u,cu,QR,(lA+qC(u,cu,5))*ic*xm,(.05+.05*I2R(lv))*ic*xm,false,true,true)endloopset i=i+1endloopcall DestroyTimer(t)endfunctionfunction rm takes nothing returns booleanreturn GetSpellAbilityId()==1093677398endfunctionfunction im takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677398)local real lA=100+100*lvlocal item itlocal real ic=pC(u,TRUE)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl",tu,"origin"))call uf(u,tu,QR,(lA+qC(u,tu,50))*ic,(.8+.6*I2R(lv))*ic,false,false,true)if Av[1]and GetRandomInt(1,100)<=5+lv*5 thenif(IsUnitType((tu),UNIT_TYPE_ANCIENT))or IsUnitType(tu,UNIT_TYPE_GIANT)or GetUnitTypeId(tu)==1852862006 or GetUnitTypeId(tu)==1852862004 thenreturnendifcall UnitDamageTargetBJ(u,tu,1093677398,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl",tu,"origin"))set it=CreateItem(1735355492,GetUnitX(tu),GetUnitY(tu))call SetItemUserData(it,GetUnitPointValue(tu))endifendfunctionfunction nm takes nothing returns booleanreturn GetSpellAbilityId()==1093677657endfunctionfunction Vm takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677657)local real lA=50+125*lvlocal integer c=GetUnitAbilityLevel(u,1093678918)local real ic=pC(u,FALSE)*1.5local real mp=10local real Em=10local integer i=1set Em=c*(c+1)*5call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\ForkedLightning\\ForkedLightningTarget.mdl",tu,"chest"))call jG(u,tu,"CLPB",1)if c>0 and(GetUnitState((u),UNIT_STATE_MANA))>=Em thencall SetUnitState((u),UNIT_STATE_MANA,(((GetUnitState((u),UNIT_STATE_MANA))-Em)*1.))call uf(u,tu,QR,(lA+qC(u,tu,40))*ic,(.6+(.25*I2R(lv)))*ic,false,false,true)elsecall pC(u,true)call uf(u,tu,QR,lA+qC(u,tu,40),.6+(.25*I2R(lv)),false,false,true)endifcall PC(u,1)endfunctionfunction Om takes nothing returns booleanreturn GetSpellAbilityId()==1093677402endfunctionfunction Rm takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677402)local integer i=1local location LI=GetSpellTargetLoc()local group glocal unit culocal real ic=pC(u,true)local real lA=I2R(30+80*lv)*icset cu=CreateUnit(GetOwningPlayer(u),1702327152,GetLocationX(LI),GetLocationY(LI),0)call UnitAddAbility(cu,1093677379)call UnitApplyTimedLife(cu,1114403688,10)loopcall XA(1)exitwhen i>10 or GetUnitCurrentOrder(u)!=852591set g=sI(600,LI)loopset cu=FirstOfGroup(g)call GroupRemoveUnit(g,cu)exitwhen cu==nullif SA(u,cu,false,false)thencall uf(u,cu,4,lA/ 10,(.2+.2*lv)/ 10,false,true,true)endifendloopcall DestroyGroup(g)set i=i+1endloopcall IssueImmediateOrderById(u,851972)call RemoveLocation(LI)endfunctionfunction Am takes nothing returns booleanreturn GetSpellAbilityId()==1093677360endfunctionfunction Nm takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228)call PC(u,1)endfunctionfunction Bm takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677360)local integer v3=GetHeroStr(u,true)+GetHeroAgi(u,true)+GetHeroInt(u,true)local integer sp=R2I(v3*(.1+lv*.1))local timer t=CreateTimer()local timer t2=CreateTimer()call vB(u,1093678403,1110455366,20,true)call PC(u,4)call TimerStart(t,20,false,null)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t2))))),1970170228,u)call TimerStart(t2,5,true,function Nm)call JB(u,sp)loopcall XA(.01)exitwhen GetUnitAbilityLevel(u,1093678403)==0 or TimerGetRemaining(t)==0endloopcall PauseTimer(t)call DestroyTimer(t)call PauseTimer(t2)call DestroyTimer(t2)call JB(u,-sp)endfunctionfunction dm takes nothing returns booleanreturn GetSpellAbilityId()==1093677650 and(GetUnitTypeId(GetTriggerUnit())!=1702327152)endfunctionfunction Dm takes nothing returns nothinglocal integer ilocal integer jlocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677650)local real lA=50+50*lvlocal integer gA=mC(u,true)local location LIlocal group glocal unit culocal integer c=0set i=0if lv==1 or lv==2 thenset c=1elseif lv==3 or lv==4 thenset c=2endifset c=c+gAloopset LI=GetUnitLoc(tu)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl",GetLocationX(LI),GetLocationY(LI)))call DestroyEffect(AddSpecialEffect("war3mapImported\\IceNova.mdx",GetLocationX(LI),GetLocationY(LI)))set g=sI(200,LI)set j=1loopset cu=FirstOfGroup(g)exitwhen cu==null or j>3call GroupRemoveUnit(g,cu)if SA(u,cu,false,false)thencall uf(u,cu,qR,lA,.4+I2R(lv)*.15,false,true,true)set j=j+1endifendloopcall DestroyGroup(g)set g=sI(600,LI)loopset cu=GroupPickRandomUnit(g)if cu==null thenset tu=nullexitwhen trueendifcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)and cu!=tu thenset tu=cuexitwhen trueendifendloopcall RemoveLocation(LI)set i=i+1call XA(.5)exitwhen i>c or tu==nullendloopcall bA("A02R Finsh",5)call bA("c "+I2S(c),5)endfunctionfunction Fm takes nothing returns booleanreturn GetSpellAbilityId()==1093681969endfunctionfunction gm takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093681969)call lC(u,100,lv+1)call vB(u,1093682247,1110455379,6,true)endfunctionfunction hm takes nothing returns booleanreturn GetSpellAbilityId()==1093677875 and(GetUnitTypeId(GetTriggerUnit())!=1702327152)endfunctionfunction Hm takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677875)local integer jm=mC(u,true)local real lA=0local real Jm=0local real ic=0local real xm=0local real t=0local real IC=1set lA=25+25*lvset Jm=(90*lv)*I2R(jm)set ic=.8+I2R(lv)*.25set xm=.18*I2R(lv)*I2R(jm)set t=(.1+.2*lv)*jmcall DestroyEffect(AddSpecialEffect("war3mapImported\\BlizzardEruption.mdl",GetUnitX(tu),GetUnitY(tu)))if jm>0 thenif not(kC(u,tu,3,t))thenset IC=1.18endifcall SetUnitState((u),UNIT_STATE_MANA,(((GetUnitState((u),UNIT_STATE_MANA))+(GetUnitState((u),UNIT_STATE_MAX_MANA))*.01*jm)*1.))endifcall uf(u,tu,qR,lA+Jm*IC,(ic+xm)*IC,false,false,true)endfunctionfunction Km takes nothing returns booleanreturn GetSpellAbilityId()==1093677105 and(GetUnitTypeId(GetTriggerUnit())!=1702327152)endfunctionfunction lm takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677105)local integer jmlocal integer i=1local location LI=GetSpellTargetLoc()local group glocal unit culocal real lA=(80+60*lv)/ 8local integer jl=0local timer t=CreateTimer()loopcall XA(1)exitwhen i>8 or GetUnitCurrentOrder(u)!=852089set g=sI(400,LI)set jl=0loopset cu=FirstOfGroup(g)call GroupRemoveUnit(g,cu)exitwhen cu==nullif SA(u,cu,false,false)thencall uf(u,cu,qR,lA,(.5+lv)/ 8.,false,true,false)call kC(u,cu,1,5)set jl=jl+10endifendloopcall lC(u,IMinBJ(jl,50),1)call DestroyGroup(g)set i=i+1endloopcall IssueImmediateOrderById(u,851972)call DestroyTimer(t)call RemoveLocation(LI)endfunctionfunction mm takes nothing returns booleanreturn GetSpellAbilityId()==1093677890endfunctionfunction Mm takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677890)local real lA=100+lv*100call uf(u,tu,qR,lA,1+I2R(lv)*.4,false,true,true)call kC(u,tu,1,4)call lC(u,100,1)if Av[1]thencall lC(u,100,1)endifendfunctionfunction Pm takes nothing returns booleanreturn GetUnitTypeId(GetTriggerUnit())==1752658995 or GetUnitTypeId(GetTriggerUnit())==1752658994 or GetUnitTypeId(GetTriggerUnit())==1752654196 or GetUnitTypeId(GetTriggerUnit())==1747988531endfunctionfunction qm takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228)local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1952543349)call bA("u:"+GetUnitName(u),5)if VA(u)thencall bA("W Die",5)call PauseTimer(t)call DestroyTimer(t)returnendifcall lC(tu,100,1)endfunctionfunction Qm takes nothing returns nothinglocal timer t=CreateTimer()local unit u=GetTriggerUnit()local unit su=GetSummoningUnit()if GetUnitAbilityLevel(su,1093682502)==0 thencall UnitApplyTimedLife(u,1112045413,46)endifcall SetUnitAbilityLevel(u,1093678389,GetUnitAbilityLevel(su,1093677401))call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228,u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1952543349,su)call TimerStart(t,9,true,function qm)endfunctionfunction Sm takes nothing returns booleanreturn GetSpellAbilityId()==1093677366endfunctionfunction Tm takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer c=mC(u,true)call vB(tu,1112893025,0,10+c*6,true)endfunctionfunction Um takes nothing returns booleanreturn GetSpellAbilityId()==1093677108endfunctionfunction wm takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer c=0local real ic=1if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CHANNEL thenif(GetUnitState((tu),UNIT_STATE_LIFE))/(GetUnitState((tu),UNIT_STATE_MAX_LIFE))>=.25 thencall oN(GetOwningPlayer(u),"|cffffaa00这个目标生命太多了|r")call IssueImmediateOrderById(u,851972)endifreturnendifset ic=vN(u)call uf(u,tu,2,1800*ic,2.85*ic,false,false,true)set c=GetUnitAbilityLevel(u,1093678662)+1call vB(u,1093678662,1110454348,36,true)call SetUnitAbilityLevel(u,1093678662,c)call UnitRemoveAbility(u,1110454348)if VA(tu)thencall kA(u,(GetUnitState((u),UNIT_STATE_MAX_MANA))*.08)endifendfunctionfunction ym takes nothing returns booleanreturn GetSpellAbilityId()==1093677365endfunctionfunction Ym takes unit u,location LI,integer lv,real fw,real ic returns nothinglocal unit cu=nulllocal group g=sI(fw,LI)local real b=1.15+.325*lvlocal real lA=(100+200*lv)*icif LI==null thenreturnendifcall DestroyEffect(AddSpecialEffect("war3mapImported\\Desecrate.mdx",GetLocationX(LI),GetLocationY(LI)))loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)thencall uf(u,cu,PR,lA*ic,b*ic,false,true,true)call dC(u,cu,1+.5*lv)endifendloopcall DestroyGroup(g)endfunctionfunction zm takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677365)local location LI=GetSpellTargetLoc()call Ym(u,LI,lv,280,vN(u))call RemoveLocation(LI)endfunctionfunction eM takes nothing returns booleanreturn GetSpellAbilityId()==1093677138endfunctionfunction xM takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677138)call BF(u,tu,lv)endfunctionfunction rM takes nothing returns nothinglocal unit u=GetSpellAbilityUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677110)if not(GetSpellAbilityId()==1093677110)thenreturnendifcall IF(u,tu,lv)endfunctionfunction aM takes nothing returns booleanreturn GetSpellAbilityId()==1093677367endfunctionfunction nM takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677367)local integer i=1local location LI=GetSpellTargetLoc()local group glocal unit culocal real lA=(200+400*lv)/ 16local real ic=vN(u)loopcall XA(1)exitwhen i>16 or GetUnitCurrentOrder(u)!=852221set g=sI(500,LI)loopset cu=FirstOfGroup(g)call GroupRemoveUnit(g,cu)exitwhen cu==nullif SA(u,cu,false,false)thencall uf(u,cu,PR,lA*ic,.15+lv*.1,false,true,true)endifendloopcall DestroyGroup(g)set i=i+1endloopcall IssueImmediateOrderById(u,851972)call RemoveLocation(LI)endfunctionfunction EM takes nothing returns booleanreturn GetSpellAbilityId()==1093677131endfunctionfunction XM takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677131)call NF(u,tu,lv)endfunctionfunction RM takes nothing returns booleanreturn GetSpellAbilityId()==1093677123endfunctionfunction IM takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677123)local real lA=100+200*lvlocal real ic=1set ic=(1-(GetUnitState((u),UNIT_STATE_LIFE))/(GetUnitState((u),UNIT_STATE_MAX_LIFE)))*100set ic=1+ic*(.005+lv*.005)set ic=ic*vN(u)call bA(R2S(ic),5)call uf(u,tu,PR,lA*ic,(.7+I2R(lv)*.2)*ic,false,false,true)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosDone.mdl",tu,"chest"))endfunctionfunction NM takes nothing returns booleanreturn GetSpellAbilityId()==1093677381 and(GetUnitTypeId(GetTriggerUnit())!=1702327152)endfunctionfunction bM takes nothing returns nothinglocal unit u=GetSpellAbilityUnit()local unit tu=GetSpellTargetUnit()local unit cu=nulllocal integer lv=GetUnitAbilityLevel(u,1093677381)local real lA=50+150*lvlocal real b=GetUnitState(tu,UNIT_STATE_LIFE)/ GetUnitState(tu,UNIT_STATE_MAX_LIFE)local location LIlocal group glocal integer ilocal real ic=vN(u)if GetUnitAbilityLevel(tu,1093677907)>0 and GetUnitAbilityLevel(u,1093677131)>0 thencall NF(u,tu,GetUnitAbilityLevel(u,1093677131))endifif GetUnitAbilityLevel(tu,1093678409)>0 and GetUnitAbilityLevel(u,1093677138)>0 thenset LI=GetUnitLoc(tu)set g=sI(350,LI)loopset cu=GroupPickRandomUnit(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)and cu!=tu thencall BF(u,cu,GetUnitAbilityLevel(u,1093677138))call jG(tu,cu,"AFOD",1)endifendloopcall DestroyGroup(g)call RemoveLocation(LI)endifcall uf(u,tu,PR,lA*ic,.75+I2R(lv)*.35*ic,false,false,true)endfunctionfunction cM takes nothing returns booleanreturn GetSpellAbilityId()==1093677377endfunctionfunction CM takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677377)local real lA=100+150*lvlocal real ic=vN(u)local boolean RNif GetUnitAbilityLevel(tu,1093678409)>0 thenset ic=ic*1.3endifset RN=GetUnitAbilityLevel(tu,1093677907)>0if GetUnitAbilityLevel(tu,1093677135)>0 thencall SaveBoolean(Ne,(StringHash(I2S(GetHandleId((tu))))),1093677135,true)call UnitRemoveAbility(tu,1093677135)call UnitRemoveAbility(tu,1110454327)endifcall uf(u,tu,PR,lA*ic,(.75+lv*.35)*ic,false,false,true)if RN thencall zf(u,u,Iv*.1,0,false,false,true)endifendfunctionfunction DM takes nothing returns nothingif GetEventDamage()>0 thencall DisableTrigger(En)call iN(GetEventDamageSource(),GetTriggerUnit(),GetEventDamage(),SR,0,false,false,false)call EnableTrigger(En)endifendfunctionfunction FM takes nothing returns booleanreturn GetUnitTypeId((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)))==1848651827 or GetUnitTypeId((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)))==1848651828 or GetUnitTypeId((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)))==1848651829 or GetUnitTypeId((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)))==1848651830 and GetEventDamage()>1 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)endfunctionfunction gM takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real aN=GetEventDamage()local location LI=GetUnitLoc(tu)call BA(GetOwningPlayer(u),GetOwningPlayer(tu),I2S(R2I(aN)),LI,10,GetUnitFlyHeight(tu),GetRandomInt(70,110),.7,255,192,192,1.4)call RemoveLocation(LI)endfunctionfunction hM takes nothing returns booleanlocal unit u=GetTriggerUnit()return GetOwningPlayer(u)!=Vv and not(IsUnitIllusion(u))endfunctionfunction HM takes nothing returns nothinglocal unit u=GetSummoningUnit()local unit tu=GetSummonedUnit()local unit su=nulllocal integer a=0local integer VB=GetUnitTypeId(tu)local unit ua=nulllocal group g=LoadGroupHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummedUnit"))local integer sp=R2I(Rc(0,u,null,0,0,1,false,false,false))local integer lv=0if g==null thenset g=CreateGroup()call SaveGroupHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummedUnit"),g)endifcall SaveGroupHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),StringHash("SummedGroup"),g)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),1650549345,u)call GroupAddUnit(g,tu)if VB!=1697656880 thencall UnitAddAbility(tu,1093679155)endifif VB==1852403302 thencall jd(tu,u,1,.45,.8)endifif VB==1869836337 or VB==1869836338 or VB==1869836339 or VB==1869836340 thenset lv=GetUnitAbilityLevel(u,1093677388)call jd(tu,u,0,.07+.03*I2R(lv),.1)endifif VB==1752654196 or VB==1752658994 or VB==1752658995 or VB==1747988531 thenset lv=GetUnitAbilityLevel(u,1093677401)set a=1093677401set su=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummonedUnit"+I2S(a)))call jd(tu,u,0,.15+.1*I2R(lv),.15)endifif VB==1969451825 or VB==1969451826 or VB==1969451827 thencall jd(tu,u,0,.1,.6)endifif VB==1697656880 thenset a=1093677893set su=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummonedUnit"+I2S(a)))call kB(tu,R2I((GetUnitState((u),UNIT_STATE_MAX_LIFE))*.2))endifif Cd(VB)thenset a=1093677897set lv=GetUnitAbilityLevel(u,1093677897)set ua=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummedUnitA"))set su=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummonedUnit"+I2S(a)))call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummedUnitA"),tu)call jd(tu,u,0,.25+.075*I2R(lv),.35)endifif bd(VB)thenset a=1093677896set ua=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummedUnitA"))set su=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummonedUnit"+I2S(a)))call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummedUnitA"),tu)call jd(tu,u,0,.2+.1*I2R(lv),.7)call SetUnitAbilityLevel(tu,1093677137,GetUnitAbilityLevel(u,a))endifif cd(VB)thenset a=1093677389set ua=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummedUnitA"))set lv=GetUnitAbilityLevel(u,1093677389)set su=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummonedUnit"+I2S(a)))call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummedUnitA"),tu)call jd(tu,u,0,.3+.05*I2R(lv),.12)endifif Bd(VB)thenset a=1093677387set lv=GetUnitAbilityLevel(u,1093677387)set ua=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummedUnitA"))set su=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummonedUnit"+I2S(a)))call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummedUnitA"),tu)call jd(tu,u,0,.2+.08*I2R(lv),.15)endifif VB==1853059688 thenset a=1095332453set su=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummonedUnit"+I2S(a)))call jd(tu,u,0,.18,.15)endifif su!=null thencall DisableTrigger(Rn)call KillUnit(su)call EnableTrigger(Rn)endifif ua!=null thenif GetUnitAbilityLevel(u,1093681972)>0 thenif cd(VB)or Bd(VB)thenset ua=nullendifendifcall DisableTrigger(Rn)call KillUnit(ua)call EnableTrigger(Rn)endifcall SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummonedUnit"+I2S(a)),tu)endfunctionfunction JM takes nothing returns booleanlocal integer VB=GetUnitTypeId(GetTriggerUnit())return VB==1852600434 or VB==1848651825 or VB==1848651824 or VB==1848651831 or VB==1852275249 or VB==1852275250 or VB==1852275251 or VB==1852275252 or VB==1869838129 or VB==1869838130 or VB==1869838131 or VB==1865429040 or VB==1852924465 or VB==1852924466 or VB==1852924467 or VB==1852924468endfunctionfunction kM takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit fu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1650549345)local unit ku=GetKillingUnit()if fu!=null and ku!=null thencall uf(u,fu,0,(GetUnitState((u),UNIT_STATE_MAX_LIFE))*.5,0,false,false,false)endifendfunctionfunction lM takes nothing returns booleanreturn GetSpellAbilityId()==1093677385endfunctionfunction LM takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677385)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((tu))))),1093677385,lv)endfunctionfunction MM takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),1110454855)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==TR)endfunctionfunction pM takes nothing returns nothingset R=R*(1.03+LoadInteger(Ne,(StringHash(I2S(GetHandleId(((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))))))),1093677385)*.003)endfunctionfunction qM takes nothing returns booleanreturn(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==tR)endfunctionfunction QM takes nothing returns nothingif GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093681473)>0 thenset B=B+25endifif GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1110455097)>0 thenset B=B-50endifif GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),1113812070)>0 thenset B=B+100endifendfunctionfunction SM takes nothing returns booleanreturn fB((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)))>0 and not((LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR))endfunctionfunction tM takes nothing returns nothingset R=R*(1+fB((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)))*.005)endfunctionfunction uM takes nothing returns booleanreturn fB((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)))>0endfunctionfunction UM takes nothing returns nothingset G=G*(1+fB((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)))*.005)endfunctionfunction WM takes nothing returns booleanreturn(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==tR)and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093677647)>0endfunctionfunction yM takes nothing returns nothingset R=R*(1.04+GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093677647)*.04)endfunctionfunction zM takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),1093677132)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==TR)and GetRandomInt(1,100)<=Gc((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),false)endfunctionfunction ZM takes nothing returns nothingset R=R*(.1+.1*GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),1093677132))endfunctionfunction ep takes nothing returns booleanreturn GetUnitAbilityLevel(GetTriggerUnit(),1093682225)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1093682509)>0endfunctionfunction xp takes nothing returns nothinglocal item it=CreateItem(1919444273,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))call XA(15)call RemoveItem(it)endfunctionfunction rp takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),1093681974)>0 and(LoadBoolean(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1700884325))endfunctionfunction ip takes nothing returns nothingset R=R*.5endfunctionfunction np takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093682244)>0endfunctionfunction Vp takes nothing returns nothingset G=G*1.3endfunctionfunction Xp takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),1093681739)>0endfunctionfunction Op takes nothing returns nothinglocal unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local real aN=Dlocal real Rp=.2if(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)thencall qf(u,999999,aN,Rp,true)elseset R=R*(1-Rp)endifendfunctionfunction Ap takes nothing returns booleanlocal unit u=GetAttacker()local unit tu=GetTriggerUnit()return(GetUnitAbilityLevel(tu,1093682248)>0 and(not(zc((tu),(1093682248))>0))and SA(tu,u,false,false)and GetRandomInt(1,100)<=15)or(GetUnitAbilityLevel(u,1093682248)>0 and(not(zc((u),(1093682248))>0))and SA(u,tu,false,false)and GetRandomInt(1,100)<=20)endfunctionfunction Np takes nothing returns nothinglocal unit ulocal unit culocal location LIlocal integer lvlocal real lAlocal group g=nullif GetUnitAbilityLevel(GetTriggerUnit(),1093682248)>0 thenset u=GetTriggerUnit()elseif GetUnitAbilityLevel(GetAttacker(),1093682248)>0 thenset u=GetAttacker()endifset lv=GetUnitAbilityLevel(u,1093682248)set LI=GetUnitLoc(u)set lA=20+25*lvcall yc(u,1093682248,.8-lv*.1)set g=sI(250,LI)call SetUnitAnimationByIndex(u,11)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,true)thencall Wf(u,cu,-1,lA,(.6+.12*lv),false,true,true)call Qb(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",cu,"chest"),1)if not Av[uR]thencall md(cu,u,R2I(Iv*1.5))endifendifendloopcall DestroyGroup(g)call RemoveLocation(LI)endfunctionfunction Bp takes nothing returns booleanreturn GetSpellAbilityId()==1093682249endfunctionfunction cp takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit culocal location LI=GetUnitLoc(u)local integer lv=GetUnitAbilityLevel(u,1093682249)local integer lA=600+350*lvlocal group g=nullset g=sI(400,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,true)thencall md(cu,u,lA)endifendloopcall DestroyGroup(g)call RemoveLocation(LI)endfunctionfunction dp takes nothing returns booleanreturn GetSpellAbilityId()==1093681973endfunctionfunction Dp takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093681973)local integer lA=50+100*lvlocal real ic=0set ic=1+(1-(GetUnitState((tu),UNIT_STATE_LIFE))/(GetUnitState((tu),UNIT_STATE_MAX_LIFE)))call Wf(u,tu,-1,lA*ic,(.8+.2*lv)*ic,false,false,true)if not Av[uR]thencall md(tu,u,R2I(Iv*2))endifendfunctionfunction gp takes nothing returns booleanreturn GetSpellAbilityId()==1093682250endfunctionfunction Gp takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228)local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1952543349)local integer lv=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1819684912)local integer c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1667457891)local integer r=0if GetUnitAbilityLevel(tu,1093682251)>0 and c<4 thenset r=CF(u,tu,1.1,2,false)call uf(u,tu,pR,50+50*lv+(GetUnitState((u),UNIT_STATE_MAX_LIFE))*.05,0,false,false,true)elsecall PauseTimer(t)call DestroyTimer(t)endifendfunctionfunction Hp takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093682250)local timer tif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CHANNEL thenif GetUnitAbilityLevel(tu,1093682251)>0 thencall oN(GetOwningPlayer(u),"|cffffaa00这个目标已经被仇视了|r")call IssueImmediateOrderById(u,851972)endifreturnendifset t=CreateTimer()call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228,u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1952543349,tu)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1819684912,lv)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1667457891,0)call TimerStart(t,6,true,function Gp)call vB(tu,1093682251,1110455381,18.1,true)endfunctionfunction Jp takes nothing returns booleanreturn D==.11 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093678422)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)endfunctionfunction kp takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local unit fu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1650549345)local real aN=Rc(0,fu,tu,0,20,.18,false,false,false)call TriggerSleepAction(0)call uf(u,tu,1,aN,0,true,false,true)endfunctionfunction lp takes nothing returns booleanlocal unit u=GetAttacker()local unit tu=GetTriggerUnit()return GetUnitAbilityLevel(u,1093682006)>0 and SA(u,tu,true,false)and(not(zc((u),(1093682006))>0))and(GetUnitState((u),UNIT_STATE_MANA))>=8 and GetRandomInt(1,100)<=IMaxBJ(R2I((GetUnitState((u),UNIT_STATE_MANA))/(GetUnitState((u),UNIT_STATE_MAX_MANA))*50),15)endfunctionfunction Lp takes nothing returns nothinglocal unit u=GetAttacker()local unit tu=GetTriggerUnit()local group g=gC(u,tu,168,3)local integer lv=GetUnitAbilityLevel(GetAttacker(),1093682006)local real lA=25+25*lvlocal unit cu=nullcall PlaySoundOnUnitBJ(Fr,100,u)call SetUnitState((u),UNIT_STATE_MANA,(((GetUnitState((u),UNIT_STATE_MANA))-8)*1.))call yc(u,1093682006,.8)call DestroyEffect(AddSpecialEffectTarget("BasicStrike.mdx",u,"origin"))loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)call Wf(u,cu,0,lA,.6+.2*lv,false,true,true)endloopcall DestroyGroup(g)endfunctionfunction pp takes nothing returns booleanlocal unit u=GetAttacker()local unit tu=GetTriggerUnit()return GetUnitAbilityLevel(u,1093682255)>0 and SA(u,tu,true,false)and(not(zc((u),(1093682255))>0))and GetRandomInt(1,100)<=20endfunctionfunction Pp takes nothing returns nothinglocal unit u=GetAttacker()local unit tu=GetTriggerUnit()local group g=gC(u,tu,168,2)local integer lv=GetUnitAbilityLevel(GetAttacker(),1093682255)local real lA=125local unit cu=nullcall yc(u,1093682255,2)call DestroyEffect(AddSpecialEffectTarget("BasicStrike.mdx",u,"origin"))loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)call Wf(u,cu,0,lA,1,false,true,true)endloopcall DestroyGroup(g)endfunctionfunction Qp takes nothing returns booleanreturn D==.02 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093677889)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)endfunctionfunction Sp takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local integer lv=GetUnitAbilityLevel(u,1093677889)call TriggerSleepAction(0)call Wf(u,tu,1,20+20*lv,(2+.5*I2R(lv))/ 8,true,false,true)endfunctionfunction up takes nothing returns booleanreturn D==.09 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093677651)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)endfunctionfunction Up takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real aN=Dlocal integer lv=GetUnitAbilityLevel(u,1093677651)call Wf(u,tu,1,80+100*lv,.6+.2*lv,true,false,true)if not Av[uR]thencall md(tu,u,R2I(Iv*2.5))call dC(u,tu,1.5+.5*lv)endifendfunctionfunction Wp takes nothing returns booleanreturn D==.08 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093677905)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)endfunctionfunction yp takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real aN=Dlocal integer lv=GetUnitAbilityLevel(u,1093677905)call TriggerSleepAction(0)call uf(u,tu,2,20+60*lv,.6+I2R(lv)*.2,false,true,true)call vB(tu,1093681717,1110455128,12,true)call SetUnitAbilityLevel(tu,1093681717,lv)endfunctionfunction zp takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093677901)>0 and GetRandomInt(1,100)<=15 or(GetRandomInt(1,100)<=30 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093681739)>0)and not((LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==TR))and D>1endfunctionfunction Zp takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real aN=Dlocal integer lv=GetUnitAbilityLevel(u,1093677901)call TriggerSleepAction(0)set iv=falsecall Wf(u,tu,0,14+lv*7,.25,false,false,true)if not(dC(u,tu,.5+lv*.5))thencall md(tu,u,14+lv*7)endifendfunctionfunction eP takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093679159)>0endfunctionfunction xP takes nothing returns nothinglocal unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local real aN=Dlocal integer lv=GetUnitAbilityLevel(u,1093677392)local real Rp=1-(.2+.1*lv)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)thencall qf(u,aN,aN,Rp,true)elseset R=R*Rpendifendfunctionfunction rP takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093679170)>0 and GetRandomInt(1,100)<=15 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)endfunctionfunction iP takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real aN=Dcall SaveReal(Ne,(StringHash(I2S(GetHandleId((tu))))),StringHash("A01G_DAMAGE"),LoadReal(Ne,(StringHash(I2S(GetHandleId((tu))))),StringHash("A01G_DAMAGE"))+aN)endfunctionfunction nP takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093681720)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)endfunctionfunction VP takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real aN=Dlocal integer lv=GetUnitAbilityLevel(u,1093681720)if GetUnitAbilityLevel(tu,1110455130)>0 thencall UnitRemoveAbility(tu,1110455130)if(IsUnitType((tu),UNIT_TYPE_ANCIENT))thencall Wf(u,tu,0,15,0,false,false,true)elsecall vB(tu,1093681729,1110455344,2,true)endifendifendfunctionfunction XP takes nothing returns booleanreturn SA(GetAttacker(),GetTriggerUnit(),true,true)and GetUnitAbilityLevel(GetAttacker(),1093677636)>0 and GetRandomInt(1,100)<=15 and(not(zc((GetAttacker()),(1093677636))>0))endfunctionfunction OP takes nothing returns nothinglocal unit u=GetAttacker()call vB(u,1093677647,0,12+GetHeroAgi(u,true)*.1,true)call vB(u,1093677136,1113812327,12+GetHeroAgi(u,true)*.1,true)call SetUnitAbilityLevel(u,1093677647,GetUnitAbilityLevel(u,1093677636))call yc(u,1093677636,30)endfunctionfunction IP takes nothing returns booleanreturn SA((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),true,true)and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),1114205798)>0 and(not(zc(((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))),(1114205798))>0))endfunctionfunction AP takes nothing returns nothinglocal unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local integer c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("A00W_USE"))-1local unit cu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("A00W_UNIT"))call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("A00W_USE"),c)call yc(u,1114205798,3)call zf(cu,u,LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("A00W_HEALTH")),.2,true,false,true)if c<1 thencall UnitRemoveAbility(u,1114205798)endifendfunctionfunction bP takes nothing returns booleanreturn(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093677640)>0 and(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))!=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))endfunctionfunction BP takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228)local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1952543349)local integer lv=GetUnitAbilityLevel(u,1093677640)local integer c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1633839459)local real aN=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1633971559)if c>0 and GetUnitAbilityLevel(tu,1093678136)>0 or GetUnitAbilityLevel(tu,1093681743)>0 thenset av=truecall Wf(u,tu,0,aN,0,true,false,false)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1633839459,c-1)elsecall PauseTimer(t)call DestroyTimer(t)endifendfunctionfunction cP takes unit u,unit tu,integer lv returns nothinglocal timer t=nulllocal integer c=0local real aN=0local real GF=0if lv==0 thenreturnendifif GetUnitAbilityLevel(u,1093677619)>0 thencall vB(tu,1093678136,1110454836,6.1,true)elsecall vB(tu,1093681743,1110455362,6.1,true)endifset aN=fc(u,tu,0,10+10*lv,.25+.15*lv,true,false,false)if LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),1093677640+(StringHash(I2S(GetHandleId((u))))))==null thenset c=4set t=CreateTimer()call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),1093677640+(StringHash(I2S(GetHandleId((u))))),t)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228,u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1952543349,tu)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1633839459,c)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1633971559,aN/ c)call TimerStart(t,2,true,function BP)elseset t=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),1093677640+(StringHash(I2S(GetHandleId((u))))))set c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1633839459)set GF=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1633971559)set aN=(aN+c*GF)set c=4call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1633839459,c)call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1633971559,aN/ c)endifendfunctionfunction CP takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local integer lv=GetUnitAbilityLevel(u,1093677640)call cP(u,tu,lv)endfunctionfunction DP takes nothing returns booleanlocal unit u=GetAttacker()return GetUnitAbilityLevel(u,1093677618)>0 and(not(zc((u),(1093808720))>0))and GetRandomReal(1,100)<=Hc(u,false)endfunctionfunction fP takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228)local integer bs=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1936745075)if GetUnitAbilityLevel(u,1093681496)==0 thencall EA(t)call sB(u,SB(u)-bs)endifendfunctionfunction FP takes nothing returns nothinglocal unit u=GetAttacker()local integer lv=GetUnitAbilityLevel(u,1093677618)local integer bs=0local timer t=CreateTimer()call bA("a022 b",5)call yc(u,1093808720,30)set bs=R2I(I2R(GetHeroAgi(u,true))*(.3+.1*I2R(lv)))call vB(u,1093681496,1110455123,8,true)call sB(u,SB(u)+bs)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228,u)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1936745075,bs)call TimerStart(t,1,true,function fP)endfunctionfunction GP takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093677618)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==TR)and(not(zc(((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))),(1093808717))>0))and(LoadBoolean(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1701016180))endfunctionfunction hP takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer bs=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1936745075)local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228)if GetUnitAbilityLevel(u,1093681497)==0 thencall EA(t)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP"),LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP"))-bs)endifendfunctionfunction HP takes nothing returns nothinglocal unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local integer lv=GetUnitAbilityLevel(u,1093677618)local integer bs=0local timer t=CreateTimer()set bs=R2I(I2R(GetHeroInt(u,true))*(.3+.2*I2R(lv)))call yc(u,1093808717,30)call vB(u,1093681497,1110455124,8,true)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228,u)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP"),LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP"))+bs)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1936745075,bs)call TimerStart(t,1,true,function hP)endfunctionfunction JP takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093677618)>0 and(not(zc(((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))),(1093808712))>0))and(LoadBoolean(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1701016180))endfunctionfunction kP takes nothing returns nothinglocal unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local integer lv=GetUnitAbilityLevel(u,1093677618)local integer bs=0local integer ms=0call yc(u,1093808712,30)call vB(u,1093681719,1110455129,8,true)endfunctionfunction lP takes nothing returns booleanreturn GetSpellAbilityId()==1093679437endfunctionfunction LP takes nothing returns nothingcall KillUnit(GetTriggerUnit())endfunctionfunction MP takes nothing returns booleanreturn GetSpellAbilityId()==1093681489endfunctionfunction pP takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local unit tu=Nv[((1+GetPlayerId((p))))]local integer i=0local integer c=UnitInventoryCount(tu)local item itif tu==null or IsUnitPaused(tu)or IsUnitHidden(tu)or VA(tu)thenreturnendifcall DisableTrigger(Ri)call DisableTrigger(Xi)loopset it=UnitItemInSlot(u,i)if it!=null thencall UnitAddItem(tu,it)set c=c+1endifset i=i+1exitwhen i>5 or c>5endloopcall EnableTrigger(Ri)call EnableTrigger(Xi)endfunctionfunction qP takes nothing returns booleanreturn GetSpellAbilityId()==1093682264endfunctionfunction QP takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local unit tu=Nv[((1+GetPlayerId((p))))]local integer i=0local integer c=UnitInventoryCount(u)local item itif tu==null or IsUnitPaused(tu)or IsUnitHidden(tu)or VA(tu)thenreturnendifcall DisableTrigger(Xi)call DisableTrigger(Ri)loopset it=UnitItemInSlot(tu,i)if it!=null and not(IsItemInvulnerable(it))thencall UnitAddItem(u,it)set c=c+1endifset i=i+1exitwhen i>5 or c>5endloopcall EnableTrigger(Ri)call EnableTrigger(Xi)endfunctionfunction SP takes nothing returns booleanreturn GetSpellAbilityId()==1093682265endfunctionfunction tP takes nothing returns nothinglocal unit u=GetTriggerUnit()local item it=GetSpellTargetItem()call SetItemPosition(it,GetUnitX(u),GetUnitY(u))if UnitInventoryCount(u)<6 thenset it=GN(it,true)call UnitAddItem(u,it)endifendfunctionfunction uP takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),1093677635)>0 and(not(zc(((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))),(1093677635))>0))and(D-C)>(GetUnitState(((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))),UNIT_STATE_LIFE))endfunctionfunction UP takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228)call SetUnitState((u),UNIT_STATE_LIFE,(((GetUnitState((u),UNIT_STATE_MAX_LIFE))*(.2+.1*GetUnitAbilityLevel(u,1093677635)))*1.))call EA(t)endfunctionfunction wP takes nothing returns nothinglocal unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local timer t=CreateTimer()local real aN=Dcall vB(u,1093678406,1110455346,120,false)call yc(u,1093677635,120)call qf(u,aN,aN,1,true)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl",u,"origin"))call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228,u)call TimerStart(t,.0,false,function UP)endfunctionfunction yP takes nothing returns booleanreturn GetSpellAbilityId()==1093677617 and(IsUnitType((GetSpellTargetUnit()),UNIT_TYPE_ANCIENT))endfunctionfunction YP takes nothing returns nothinglocal unit tu=GetSpellTargetUnit()call TriggerSleepAction(.01)call UnitRemoveAbility(tu,1114860655)call vB(tu,1093681458,1110455107,10,true)endfunctionfunction ZP takes nothing returns booleanreturn GetSpellAbilityId()==1093677655endfunctionfunction vq takes nothing returns nothinglocal unit u=GetTriggerUnit()call vB(u,1113880182,0,15+GetHeroAgi(u,true)*.12,true)endfunctionfunction xq takes nothing returns booleanreturn GetUnitAbilityLevel(GetAttacker(),1093679431)>0 and GetUnitAbilityLevel(GetAttacker(),1093679430)>0 and GetRandomInt(1,100)<=(8+GetHeroAgi(GetAttacker(),true)*.1+GetUnitAbilityLevel(GetAttacker(),1093682008)*10)and SA(GetAttacker(),GetTriggerUnit(),false,true)endfunctionfunction oq takes nothing returns nothinglocal unit u=GetAttacker()if(not(zc((u),(1093679431))>0))thencall TriggerExecute(vV)call yc(u,1093679431,2)endifendfunctionfunction iq takes nothing returns booleanreturn GetSpellAbilityId()==1093679430endfunctionfunction aq takes nothing returns nothinglocal unit tu=GetTriggerUnit()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetEventDamageSource()))))),StringHash("u"))local unit nq=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),StringHash("u"))local integer lv=GetUnitAbilityLevel(u,1093679430)local real lA=25+I2R(lv)*25local real ic=.6+I2R(lv)*.35if GetUnitAbilityLevel(tu,1110454874)>0 and u==nq thencall UnitRemoveAbility(tu,1110454874)call Wf(u,tu,0,lA,ic,false,false,true)call DestroyTrigger(GetTriggeringTrigger())endifendfunctionfunction Vq takes nothing returns nothinglocal unit ulocal unit tulocal unit cu=nulllocal integer c=3local unit lu=nulllocal location LIlocal location GGlocal group glocal trigger array trlocal integer i=0if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thenset u=GetTriggerUnit()set tu=GetSpellTargetUnit()endifif GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED thenset tu=GetTriggerUnit()set u=GetAttacker()endifset LI=GetUnitLoc(u)set GG=GetUnitLoc(tu)set g=sI(300,GG)set i=1set lu=eC(u,tu,LI,1093681459,1,"shadowstrike",1)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((lu))))),StringHash("u"),u)set tr[i]=CreateTrigger()call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((tr[i]))))),StringHash("u"),u)call TriggerRegisterUnitEvent(tr[i],tu,EVENT_UNIT_DAMAGED)call TriggerAddAction(tr[i],function aq)loopset cu=FirstOfGroup(g)exitwhen cu==null or i>ccall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)and cu!=tu thenset i=i+1set lu=eC(u,cu,LI,1093681459,1,"shadowstrike",1)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((lu))))),StringHash("u"),u)set tr[i]=CreateTrigger()call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((tr[i]))))),StringHash("u"),u)call TriggerRegisterUnitEvent(tr[i],cu,EVENT_UNIT_DAMAGED)call TriggerAddAction(tr[i],function aq)endifendloopcall DestroyGroup(g)call RemoveLocation(LI)call RemoveLocation(GG)call gI(3)loopexitwhen i==0call DestroyTrigger(tr[i])set i=i-1endloopendfunctionfunction Xq takes nothing returns booleanreturn GetSpellAbilityId()==1093677368endfunctionfunction Oq takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677368)local timer t=nulllocal group g=nulllocal unit array Rqlocal integer i=1local unit cu=nulllocal unit euif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CHANNEL thenif not(aI)thencall IssueImmediateOrderById(u,851972)call oN(GetOwningPlayer(u),"|cfffee00你还不能释放这个技能.|r")endifreturnendifset aI=falseset t=CreateTimer()call TimerStart(t,2+lv*2,false,null)set eu=CreateUnit(GetOwningPlayer(u),1702258030,GetUnitX(u),GetUnitY(u),0)call SetUnitTimeScale(eu,21.333/(2+lv*2))call vB(u,1093678386,1110454841,4+lv*2,true)call vB(u,1098282348,0,4+lv*2,true)loopexitwhen TimerGetRemaining(t)==0set g=PI(jv[jR])loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if cu!=u and not(IsUnitPaused(cu))thenif not(SA(u,cu,true,true))thencall vB(cu,1098282348,0,4+lv*2,true)endifcall UnitAddAbility(cu,1093677648)set Rq[i]=cuset i=i+1call PauseUnit(cu,true)call SetUnitTimeScale(cu,0)endifendloopcall DestroyGroup(g)call TriggerSleepAction(.01)endloopset i=1loopset cu=Rq[i]exitwhen cu==nullcall PauseUnit(cu,false)call SetUnitTimeScale(cu,1)call UnitRemoveAbility(cu,1093677648)call UnitRemoveAbility(cu,1110454840)set i=i+1endloopcall RemoveUnit(eu)endfunctionfunction Aq takes nothing returns booleanreturn GetSpellAbilityId()==1093677873endfunctionfunction Nq takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677873)local real lA=Rc(0,u,null,0,150+125*lv,.6+.4*I2R(lv),false,false,false)if LoadReal(Ne,(StringHash(I2S(GetHandleId((tu))))),1093677873)<lA thencall SaveReal(Ne,(StringHash(I2S(GetHandleId((tu))))),1093677873,lA)endifcall vB(tu,1093679185,1110454599,30,true)endfunctionfunction Bq takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),1093679185)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==TR)endfunctionfunction cq takes nothing returns nothinglocal unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real Oc=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),1093677873)local real aN=Dlocal location LIset Oc=qf(u,Oc,aN,1,true)call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),1093677873,0)if Oc<=0 thencall UnitRemoveAbility(u,1093679185)call UnitRemoveAbility(u,1110454599)elseset LI=GetUnitLoc(u)call RemoveLocation(LI)endifendfunctionfunction dq takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),1093682246)>0 and D>0endfunctionfunction Dq takes nothing returns nothinglocal unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local integer mt=(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702260084))local real aN=D*Rif(LoadBoolean(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1701669235))thenreturnendifif(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==TR)and aN>1 thenif(LoadBoolean(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1701016180))thencall DisplayTimedTextToForce(SI(GetOwningPlayer(tu)),5.,("你对熊猫造成了:|cffffee00"+(R2S(aN)+"|r点"+sR[mt]+"伤害|r|cffe03030(暴击)|r")))elsecall DisplayTimedTextToForce(SI(GetOwningPlayer(tu)),5.,("你对熊猫造成了:|cffffee00"+(R2S(aN)+"|r点"+sR[mt]+"伤害|r")))endifelseif(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==tR)and aN>1 thenif(LoadBoolean(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1701016180))thencall DisplayTimedTextToForce(SI(GetOwningPlayer(tu)),5.,("你对熊猫造成了:|cffffee00"+(R2S(aN)+"|r点|cff6000A0物理伤害|r|cffe03030(暴击)|r")))elsecall DisplayTimedTextToForce(SI(GetOwningPlayer(tu)),5.,("你对熊猫造成了:|cffffee00"+(R2S(aN)+"|r点|cff6000A0物理伤害|r")))endifelseif(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)and aN>1 thencall qf(u,9999999,aN,1,false)endifset X=trueendfunctionfunction Fq takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093678662)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702260084))==2 and D>1endfunctionfunction gq takes nothing returns nothingset R=R*(1+.07*GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093678662))endfunctionfunction hq takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),1093682246)>0endfunctionfunction Hq takes nothing returns nothingset O=trueendfunctionfunction Jq takes nothing returns booleanreturn GetIssuedOrderId()==852177and GetUnitAbilityLevel(GetTriggerUnit(),1093677128)>0endfunctionfunction kq takes nothing returns nothingcall UnitAddAbility(GetTriggerUnit(),1093677129)call SetUnitAbilityLevel(GetTriggerUnit(),1093677129,GetUnitAbilityLevel(GetTriggerUnit(),1093677128))endfunctionfunction lq takes nothing returns booleanreturn GetIssuedOrderId()==852178and GetUnitAbilityLevel(GetTriggerUnit(),1093677129)>0endfunctionfunction Lq takes nothing returns nothingcall UnitRemoveAbility(GetTriggerUnit(),1093677129)endfunctionfunction Mq takes nothing returns booleanreturn D==.14 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093677128)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)endfunctionfunction pq takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real aN=Dlocal integer lv=GetUnitAbilityLevel(u,1093677128)if SA(u,tu,false,true)and tu!=u thencall uf(u,tu,pR,4+8*lv+fc(u,tu,0,0,.2,false,true,false),0,false,true,false)call md(tu,u,R2I(Iv*1.2))endifendfunctionfunction qq takes nothing returns booleanreturn GetSpellAbilityId()==1093677109endfunctionfunction Qq takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit au=GetEventDamageSource()local real lA=(GetUnitState((au),UNIT_STATE_LIFE))*(1-.6)local real Jm=0local integer lv=0if GetUnitAbilityLevel(u,1110454593)>0 thencall DestroyTrigger(GetTriggeringTrigger())call UnitRemoveAbility(u,1110454593)set lv=GetUnitAbilityLevel(au,1093677109)if lv>0 thencall SetUnitState((au),UNIT_STATE_LIFE,((lA)*1.))set Jm=RMaxBJ(lA*(.68+.33*lv),100)call uf(au,u,pR,Jm,0,false,false,true)endifendifendfunctionfunction sq takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local trigger AA=CreateTrigger()call TriggerRegisterUnitEvent(AA,tu,EVENT_UNIT_DAMAGED)call TriggerAddAction(AA,function Qq)call gI(3)call DestroyTrigger(AA)endfunctionfunction tq takes nothing returns booleanreturn GetSpellAbilityId()==1093677908endfunctionfunction Tq takes nothing returns nothinglocal unit u=GetSpellAbilityUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677908)local real lA=100+100*lvlocal real ic=1if GetUnitAbilityLevel(tu,1112044643)>0 thenset ic=ic+(I2R(lv)*.1)endifcall Wf(u,tu,0,lA*ic,(1+I2R(lv)*.2)*ic,false,false,true)if not(Av[2])thenif GetUnitAbilityLevel(u,1093681739)>0 thencall md(tu,u,R2I(Iv*5))elsecall md(tu,u,R2I(Iv*2.5))endifendifendfunctionfunction Uq takes nothing returns booleanreturn GetSpellAbilityId()==1093677104 and(GetUnitTypeId(GetTriggerUnit())!=1702327152)endfunctionfunction wq takes nothing returns nothinglocal unit u=GetSpellAbilityUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677104)local real Oc=125+75*lvlocal integer avc=0local boolean b=FALSEif not(qB(u,tu,true))thenreturnendifif UnitHasItemOfTypeBJ(u,1635412082)thenset Hv=15endifcall zf(u,tu,Oc,.5+lv*.1,false,false,true)endfunctionfunction yq takes nothing returns booleanreturn GetSpellAbilityId()==1093682498endfunctionfunction Yq takes nothing returns nothinglocal unit u=GetSpellAbilityUnit()local unit tu=GetSpellTargetUnit()local real Oc=(GetUnitState((tu),UNIT_STATE_MAX_LIFE))*.6if not(qB(u,tu,true))thenreturnendifcall zf(u,tu,Oc,0,false,false,false)endfunctionfunction Zq takes nothing returns booleanreturn GetSpellAbilityId()==1095329900endfunctionfunction vQ takes nothing returns nothinglocal unit u=GetSpellAbilityUnit()local unit tu=GetSpellTargetUnit()local real Oc=500if not(qB(u,tu,true))thenreturnendifcall zf(u,tu,Oc,.5,false,false,true)call SetUnitState((u),UNIT_STATE_MANA,(((GetUnitState((u),UNIT_STATE_MANA))+Iv*.03)*1.))endfunctionfunction xQ takes nothing returns booleanreturn GetSpellAbilityId()==1093677137 and(GetUnitTypeId(GetTriggerUnit())!=1702327152)endfunctionfunction oQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit culocal location LI=GetUnitLoc(u)local integer lv=GetUnitAbilityLevel(u,1093677137)local real lA=40+30*lvlocal real ic=1local real ch=2local group g=nulllocal boolean power=falseif GetUnitAbilityLevel(u,1093681739)>0 thenset ch=ch*2endifset g=sI(350*ic,LI)set Xe=trueloopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,true)thencall Wf(u,cu,-1,lA*ic,(.75+.25*lv)*ic,false,true,true)if not Av[uR]thencall md(cu,u,R2I(Iv*ch))endifendifendloopset Xe=falsecall DestroyGroup(g)call RemoveLocation(LI)endfunctionfunction iQ takes nothing returns booleanreturn GetSpellAbilityId()==1093677380endfunctionfunction aQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit culocal location LI=GetUnitLoc(u)local integer lv=GetUnitAbilityLevel(u,1093677380)local real lA=30+20*lv+GetHeroStr(u,true)local group g=sI(375+25*lv,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if GetOwningPlayer(cu)==Vv and IsUnitAliveBJ(cu)thencall md(cu,u,R2I(lA))endifendloopcall DestroyGroup(g)call RemoveLocation(LI)endfunctionfunction VQ takes nothing returns booleanreturn(GetSpellAbilityId()==1093677142 or GetSpellAbilityId()==1093678681)endfunctionfunction EQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer r=0local integer lv=GetUnitAbilityLevel(u,1093677142)if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CHANNEL thenset r=CF(u,tu,1.3,5,true)if r==1 thencall oN(GetOwningPlayer(u),"|cffffaa00这个单位免疫嘲讽|r")call IssueImmediateOrderById(u,851972)endifif r==2 and GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CHANNEL thencall oN(GetOwningPlayer(u),"|cffffaa00这个目标已经在攻击你了|r")call IssueImmediateOrderById(u,851972)endifreturnendifif GetSpellAbilityId()==1093677142 thencall CF(u,tu,1.2,1+lv,false)elsecall CF(u,tu,1.2,3.5,false)endifendfunctionfunction OQ takes nothing returns booleanreturn GetSpellAbilityId()==1093677386endfunctionfunction RQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local unit yu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("YangUnit"))local unit uy=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),StringHash("UnitYang"))local integer lv=GetUnitAbilityLevel(u,1093677386)local integer yt=25+lv*5local real yd=100+200*lvlocal integer c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((tu))))),1499557443)local location LIif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CHANNEL thenif NK(tu)thencall oN(GetOwningPlayer(u),"|cffffaa00对这个目标无效|r")call IssueImmediateOrderById(u,851972)endifif c>1 thencall oN(GetOwningPlayer(u),"|cffffaa00每个单位只能被妖术变形2次|r")call IssueImmediateOrderById(u,851972)endifreturnendifset LI=GetUnitLoc(tu)call UnitRemoveAbility(yu,1112500344)call UnitRemoveAbility(yu,1098342766)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((uy))))),StringHash("YangUnit"),null)call SaveReal(Ne,(StringHash(I2S(GetHandleId((tu))))),1093677386,yd)call eC(u,tu,LI,1093677644,1,"hex",1)call UnitAddAbility(tu,1098342766)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),StringHash("UnitYang"),u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("YangUnit"),tu)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((tu))))),1499557443,c+1)call vB(tu,1098342766,1112500344,yt,true)call RemoveLocation(LI)endfunctionfunction AQ takes nothing returns booleanreturn GetSpellAbilityId()==1093677396endfunctionfunction NQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677396)local unit lu=CreateUnit(GetOwningPlayer(u),1700885091,GetUnitX(tu),GetUnitY(tu),0)call UnitApplyTimedLife(lu,1112045413,10+lv*5)endfunctionfunction BQ takes nothing returns booleanreturn GetSpellAbilityId()==1093677127 and(GetUnitTypeId(GetTriggerUnit())!=1702327152)endfunctionfunction cQ takes nothing returns nothinglocal unit u=GetSpellAbilityUnit()local location LI=GetUnitLoc(u)local integer lv=GetUnitAbilityLevel(u,1093677127)local integer Oc=(100+200*lv)/ 8local group glocal unit culocal integer i=0loopexitwhen i>8 or GetUnitCurrentOrder(u)!=852184set g=sI(1200,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if qB(u,cu,true)thencall zf(u,cu,Oc,(1.6+I2R(lv)*.6)/ 8,false,true,false)endifendloopset i=i+1call XA(1)endloopcall IssueImmediateOrderById(u,851972)endfunctionfunction dQ takes nothing returns booleanreturn GetSpellAbilityId()==1093677619 or GetSpellAbilityId()==1093681741endfunctionfunction DQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer a=GetSpellAbilityId()local integer lv=0if a==1093677619 thenset lv=GetUnitAbilityLevel(u,1093677619)call vB(u,1093678147,1112498531,12+GetHeroAgi(u,true)*.12,true)call vB(u,1093677640,0,12+GetHeroAgi(u,true)*.12,true)call SetUnitAbilityLevel(u,1093677640,lv)elseset lv=GetUnitAbilityLevel(u,1093681741)call vB(u,1093681742,1110455361,12+GetHeroAgi(u,true)*.12,true)call vB(u,1093677640,0,12+GetHeroAgi(u,true)*.12,true)call SetUnitAbilityLevel(u,1093677640,lv)endifendfunctionfunction FQ takes nothing returns booleanreturn GetSpellAbilityId()==1093677643endfunctionfunction gQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit cu=nulllocal real x1=GetUnitX(u)local real x2=0local real y1=GetUnitY(u)local real y2=0local integer lv=GetUnitAbilityLevel(u,1093677643)local integer jm=GetUnitAbilityLevel(u,1093677623)local integer c=lv+1local integer i=1local group g=LoadGroupHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummedUnit"))local integer sp=R2I(Rc(0,u,null,0,0,1,false,false,false))local integer GQ=30if g==null thenset g=CreateGroup()call SaveGroupHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummedUnit"),g)endifif jm>0 thenset GQ=GQ+lv*2+2endifloopexitwhen i>cset x2=x1+128*Cos((i*(360/ c)-90)*bj_DEGTORAD)set y2=y1+128*Sin((i*(360/ c)-90)*bj_DEGTORAD)call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl",x2,y2))set cu=CreateUnit(GetOwningPlayer(u),1701212014,x2,y2,GetUnitFacing(u))if jm>0 thencall UnitAddAbility(cu,1093681720)endifcall jd(cu,u,0,.2,.2)call SaveGroupHandle(Ne,(StringHash(I2S(GetHandleId((cu))))),StringHash("SummedGroup"),g)call GroupAddUnit(g,cu)call UnitApplyTimedLife(cu,1113682028,GQ)set i=i+1endloopendfunctionfunction HQ takes nothing returns booleanreturn GetSpellAbilityId()==1093677633endfunctionfunction jQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit cu=nulllocal integer lv=GetUnitAbilityLevel(u,1093677633)local location LI=GetUnitLoc(u)local group g=sI(1200,LI)if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST thenif GetUnitAbilityLevel(u,1093678678)>0 thenif GetLocalPlayer()==GetOwningPlayer(u)thencall PlaySoundBJ(rr)endifcall eN(GetOwningPlayer(u),1,0,10,true,"|cffffaa00你还不能释放这个技能|r")call IssueImmediateOrderById(u,851972)endifelseloopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if qB(u,cu,true)and IsUnitType(cu,UNIT_TYPE_HERO)and not(IsUnitType(cu,UNIT_TYPE_DEAD))and GetUnitAbilityLevel(cu,1093678678)==0 thencall eC(u,cu,LI,1093677634,lv,"bloodlust",1)call vB(cu,1093678678,1110454602,60,true)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((cu))))),1113746543,lv)endifendloopendifcall DestroyGroup(g)call RemoveLocation(LI)endfunctionfunction kQ takes nothing returns booleanreturn GetSpellAbilityId()==1093677625endfunctionfunction KQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677625)local integer t=5+lv*5if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CHANNEL thenif NK(tu)or GetUnitAbilityLevel(tu,1093678408)>0 thencall oN(GetOwningPlayer(u),"|cffffaa00对这个目标无效|r")call IssueImmediateOrderById(u,851972)endifreturnendifcall SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("ConUnit"),tu)call vB(tu,1093677899,1112040563,t,true)call SetUnitVertexColorBJ(tu,100,100,100,60)call UnitAddAbility(tu,1098282348)call PauseUnit(tu,true)loopcall TriggerSleepAction(.01)exitwhen GetUnitAbilityLevel(tu,1093677899)==0 or LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("ConUnit"))!=tuendloopcall vB(tu,1093678408,1093677872,99999999,true)call SetUnitVertexColorBJ(tu,100,100,100,0)call UnitRemoveAbility(tu,1098282348)call UnitRemoveAbility(tu,1093677899)call UnitRemoveAbility(tu,1112040563)call PauseUnit(tu,false)endfunctionfunction LQ takes nothing returns booleanreturn GetSpellAbilityId()==1093677646endfunctionfunction mQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677646)local integer a=(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((tu)))))),StringHash("CastAbility")))local real mpif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((tu)))))),1937012083)==1)thenset mp=(GetUnitState((u),UNIT_STATE_MAX_MANA))*(.03+.03*I2R(lv))call SetUnitState((u),UNIT_STATE_MANA,(((GetUnitState((u),UNIT_STATE_MANA))+mp)*1.))call SetUnitState((tu),UNIT_STATE_MANA,(((GetUnitState((tu),UNIT_STATE_MANA))-mp)*1.))if a>0 thenif zc(tu,a)<(2+lv)*2 thencall Zc(tu,a,(2+lv)*2,true)endifcall IssueImmediateOrderById(tu,851972)endifendifif not((IsUnitType((tu),UNIT_TYPE_ANCIENT)))thencall fC(u,tu,2+lv)endifendfunctionfunction pQ takes nothing returns booleanreturn GetSpellAbilityId()==1093677111endfunctionfunction PQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677111)local real s=(lv*.2)/ 8*GetUnitState(u,UNIT_STATE_MAX_MANA)local integer i=0local effect e1=AddSpecialEffectTarget("effects\\BlackTide.mdx",u,"overhead")loopexitwhen i>8 or IsUnitDeadBJ(u)call SetUnitState(u,UNIT_STATE_MANA,GetUnitState(u,UNIT_STATE_MANA)+s)if(GetUnitState((u),UNIT_STATE_MANA))/(GetUnitState((u),UNIT_STATE_MAX_MANA))>=.8 thencall vB(u,1093679439,1110454862,20,true)endifset i=i+1call XA(1)endloopcall IssueImmediateOrderById(u,851972)call DestroyEffect(e1)endfunctionfunction QQ takes nothing returns booleanreturn GetSpellAbilityId()==1093677112endfunctionfunction sQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677112)local real s=(.1+lv*.15)*GetUnitState(u,UNIT_STATE_MAX_MANA)*.1local integer i=1local timer t=CreateTimer()call vB(tu,1093678917,1110454361,10.1,true)loopexitwhen i>10 or IsUnitDeadBJ(tu)or GetUnitAbilityLevel(tu,1093678917)==0call SetUnitState(tu,UNIT_STATE_MANA,GetUnitState(tu,UNIT_STATE_MANA)+s)set i=i+1call TimerStart(t,1,false,null)loopexitwhen TimerGetRemaining(t)==0call TriggerSleepAction(.01)endloopendloopcall UnitRemoveAbility(tu,1093678917)call UnitRemoveAbility(tu,1110454361)call DestroyTimer(t)endfunctionfunction tQ takes nothing returns booleanreturn GetSpellAbilityId()==1093677898endfunctionfunction TQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677898)local real uQ=Rc(0,u,null,0,50+75*lv,.6+.2*I2R(lv),false,false,false)set uQ=RMaxBJ(uQ,Rc(1,u,null,0,50+75*lv,.6+.2*I2R(lv),false,false,false))call SaveReal(Ne,(StringHash(I2S(GetHandleId((tu))))),1093677898,uQ)call vB(tu,1093678166,1112039798,30,true)endfunctionfunction wQ takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),1093678166)>0 and D>0endfunctionfunction WQ takes nothing returns nothinglocal unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real Oc=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),1093677898)local real aN=Dlocal location LIset Oc=qf(u,Oc,aN,1,true)call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),1093677898,Oc)if Oc<=0 thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl",u,"chest"))call UnitRemoveAbility(u,1093678166)call UnitRemoveAbility(u,1112039798)elseset LI=GetUnitLoc(u)call RemoveLocation(LI)endifendfunctionfunction YQ takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),1093682262)>0 and D>0endfunctionfunction zQ takes nothing returns nothinglocal unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real Oc=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),1093682262)local real aN=Dlocal location LIset Oc=qf(u,Oc,aN,1,true)call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),1093682262,Oc)if Oc<=0 thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl",u,"chest"))call UnitRemoveAbility(u,1093682262)call UnitRemoveAbility(u,1110455601)elseset LI=GetUnitLoc(u)call RemoveLocation(LI)endifendfunctionfunction vs takes nothing returns booleanreturn GetSpellAbilityId()==1093677902endfunctionfunction es takes nothing returns nothinglocal unit u=GetTriggerUnit()local location LI=GetUnitLoc(u)local group g=sI(350,LI)local integer lv=GetUnitAbilityLevel(u,1093677902)local real os=0local real lA=0local real Yf=0local unit cuset os=50+50*lvset lA=((GetUnitState((u),UNIT_STATE_MAX_LIFE))-(GetUnitState((u),UNIT_STATE_LIFE)))*2if lA<os thenset lA=osendifset Yf=lA*(1.25-lv*.25)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,true)thenif mN(GetUnitX(u),GetUnitY(u),GetUnitX(cu),GetUnitY(cu))<200 thencall Wf(u,cu,0,lA,0,false,true,true)elsecall Wf(u,cu,0,lA*.5,0,false,true,true)endifendifendloopcall DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(u),GetUnitY(u)))if Yf>(GetUnitState((u),UNIT_STATE_LIFE))thencall KillUnit(u)elsecall SetUnitState((u),UNIT_STATE_LIFE,(((GetUnitState((u),UNIT_STATE_LIFE))-Yf)*1.))endifendfunctionfunction is takes nothing returns booleanreturn GetSpellAbilityId()==1093677910 and(GetUnitTypeId(GetTriggerUnit())!=1702327152)endfunctionfunction as takes nothing returns nothinglocal unit u=GetSpellAbilityUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677104)call zf(u,tu,50,.25,false,false,true)endfunctionfunction Vs takes nothing returns booleanreturn GetUnitTypeId(GetTriggerUnit())==1697656880endfunctionfunction Es takes nothing returns nothinglocal unit u=GetSummoningUnit()local unit su=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677893)local group g=LoadGroupHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SummedUnit"))if g==null thenset g=CreateGroup()endifcall SaveInteger(Ne,(StringHash(I2S(GetHandleId((su))))),StringHash("SP"),LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP")))call SaveInteger(Ne,(StringHash(I2S(GetHandleId((su))))),StringHash("SP_HEL"),LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("SP_HEL")))call SaveGroupHandle(Ne,(StringHash(I2S(GetHandleId((su))))),StringHash("SummedUnit"),g)call GroupAddUnit(g,su)if lv>1 thencall UnitAddAbility(su,1093677911)endifif lv>2 thencall UnitAddAbility(su,1093677912)endifendfunctionfunction Os takes nothing returns booleanreturn GetSpellAbilityId()==1093677904endfunctionfunction Rs takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677904)local integer i=1if(GetUnitState((u),UNIT_STATE_LIFE))/(GetUnitState((u),UNIT_STATE_MAX_LIFE))>.2 thencall SetUnitState((u),UNIT_STATE_LIFE,(((GetUnitState((u),UNIT_STATE_LIFE))-(GetUnitState((u),UNIT_STATE_MAX_LIFE))*.2)*1.))call SetUnitState((u),UNIT_STATE_MANA,(((GetUnitState((u),UNIT_STATE_MANA))+(25+25*lv))*1.))elseif GetLocalPlayer()==GetOwningPlayer(u)thencall PlaySoundBJ(rr)endifcall eN(GetOwningPlayer(u),1,0,5,true,"|cffffaa00生命值过低!|r")call IssueImmediateOrderById(u,851972)returnendifendfunctionfunction As takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit au=GetAttacker()local integer lv=GetUnitAbilityLevel(u,1093677876)if GetRandomInt(1,100)<=200 and IsUnitEnemy(au,GetOwningPlayer(u))and lv>0 and(not(zc((u),(1093677876))>0))thencall yc(u,1093677876,1)call SetUnitState((u),UNIT_STATE_MANA,(((GetUnitState((u),UNIT_STATE_MANA))+(GetUnitState((u),UNIT_STATE_MAX_MANA))*.005+.005*I2R(lv))*1.))endifendfunctionfunction Bs takes nothing returns booleanreturn GetSpellAbilityId()==1093677894endfunctionfunction cs takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677894)call vB(tu,1093681456,1110454869,3+2*lv+GetHeroAgi(tu,true)*.04,true)endfunctionfunction ds takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),1093681456)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)or(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==tR)endfunctionfunction Ds takes nothing returns nothingset R=0endfunctionfunction InitTrig_A03F_B_B takes nothing returns nothingset PV=CreateTrigger()call TriggerAddCondition(PV,Condition(function ds))call TriggerAddAction(PV,function Ds)endfunctionfunction Fs takes nothing returns booleanreturn GetSpellAbilityId()==1093677900endfunctionfunction Trig_A03L_Func001A takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit pu=GetEnumUnit()local integer lv=GetUnitAbilityLevel(u,1093677900)local integer ch=R2I(ld(pu,u)*.1+.1*lv)call Hf(pu,u,ch)endfunctionfunction gs takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677900)call vB(u,1093679410,1110454604,lv+3,true)call SetUnitState((u),UNIT_STATE_MANA,(((GetUnitState((u),UNIT_STATE_MANA))+5+lv*5)*1.))endfunctionfunction Hs takes nothing returns booleanreturn GetSpellAbilityId()==1093677656 and(GetUnitTypeId(GetTriggerUnit())!=1702327152)endfunctionfunction Js takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677656)local real Oc=GetUnitState(u,UNIT_STATE_MAX_LIFE)*(.1+I2R(lv)*.1)local integer i=1local effect ecall DestroyEffect(AddSpecialEffectTarget("effects\\LifeBreak.mdx",u,"overhead"))call JA(u,Oc)call vB(u,1093677913,1110455091,11.9,true)set e=AddSpecialEffectTarget("Abilities\\Spells\\Items\\ClarityPotion\\ClarityTarget.mdl",u,"chest")set Oc=((GetUnitState((u),UNIT_STATE_MAX_LIFE))*(.05+.05*lv))/ 5loopexitwhen GetUnitAbilityLevel(u,1093677913)==0 or IsUnitDeadBJ(u)or i>5call XA(2)call JA(u,Oc)set i=i+1endloopcall UnitRemoveAbility(u,1093677913)call UnitRemoveAbility(u,1110455091)call DestroyEffect(e)endfunctionfunction Ks takes nothing returns booleanreturn GetSpellAbilityId()==1093677872 and(GetUnitTypeId(GetTriggerUnit())!=1702327152)endfunctionfunction ls takes nothing returns nothinglocal unit u=GetTriggerUnit()local location LI=GetUnitLoc(u)local integer lv=GetUnitAbilityLevel(u,1093677872)local group g=sI(350,LI)local real lA=150+lv*75local unit cuset Xe=trueloopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if GetOwningPlayer(cu)==Vv and not(IsUnitType(cu,UNIT_TYPE_DEAD))thencall dC(u,cu,.5+lv*.5)call Wf(u,cu,-1,lA,1+lv*.4,false,true,true)call md(cu,u,R2I(Iv+lv*.5))endifendloopset Xe=falsecall DestroyGroup(g)endfunctionfunction Ms takes nothing returns booleanreturn GetSpellAbilityId()==1093678916endfunctionfunction Ps takes nothing returns nothinglocal unit u=GetTriggerUnit()local location LI=GetUnitLoc(u)local group g=sI(400,LI)local real lA=200local unit culoopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if IsUnitEnemy(cu,GetOwningPlayer(u))thencall dC(u,cu,6)call Wf(u,cu,0,lA,1,false,true,true)call md(cu,u,R2I(Iv*1.5))endifendloopcall DestroyGroup(g)endfunctionfunction Qs takes nothing returns booleanreturn GetUnitAbilityLevel(GetTriggerUnit(),1093677383)>0 and SA(GetTriggerUnit(),GetAttacker(),false,false)endfunctionfunction ss takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetAttacker()local integer lv=GetUnitAbilityLevel(u,1093677383)local integer Ss=lv+2local location LIlocal integer c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1630548327)local group gif(not(zc((u),(1093677383))>0))and GetRandomInt(1,100)<=30 thencall yc(u,1093677383,1)set LI=GetUnitLoc(u)set g=sI(256,LI)if IsUnitInGroup(tu,g)thencall Wf(u,tu,0,20+lv*15,.2+lv*.1,false,false,true)endifcall DestroyGroup(g)call RemoveLocation(LI)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Other\\HumanBloodCinematicEffect\\HumanBloodCinematicEffect.mdl",tu,"chest"))call bA(I2S(c),5)if c<10 thencall sB(u,SB(u)+Ss)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1630548327,c+1)call vB(u,1093679170,1110454857,8,true)loopcall XA(.01)exitwhen GetUnitAbilityLevel(u,1093679170)==0endloopset c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1630548327)call yc(u,1093677383,1)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),1630548327,c-1)call sB(u,SB(u)-Ss)endifendifendfunctionfunction Ts takes nothing returns booleanreturn GetSpellAbilityId()==1093677880endfunctionfunction us takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677880)local integer ilocal group glocal unit culocal location LI=GetUnitLoc(u)local real xlocal real ylocal effect array elocal timer t=CreateTimer()local ubersplat Uslocal real lA=(100+lv*100+GetHeroStr(u,true)*2)/ 10set Us=CreateUbersplatBJ(GetUnitLoc(u),"HFS2",100,100,100,0,true,false)call SetUbersplatRenderAlways(Us,true)set e[0]=AddSpecialEffect("Abilities\\Spells\\Orc\\LiquidFire\\Liquidfire.mdl",GetLocationX(LI),GetLocationY(LI))set i=1loopexitwhen i>18set x=GetLocationX(LI)+320*Cos(i*20*bj_DEGTORAD)set y=GetLocationY(LI)+320*Sin(i*20*bj_DEGTORAD)set e[i]=AddSpecialEffect("Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeEmbers.mdl",x,y)set i=i+1endloopset i=1loopexitwhen i>6set x=GetLocationX(LI)+170*Cos(i*60*bj_DEGTORAD)set y=GetLocationY(LI)+170*Sin(i*60*bj_DEGTORAD)set e[18+i]=AddSpecialEffect("Abilities\\Spells\\Orc\\LiquidFire\\Liquidfire.mdl",x,y)set i=i+1endloopset i=1loopexitwhen i>10 or VA(u)or(GetUnitState((u),UNIT_STATE_LIFE))<=0call XA(1)set g=sI(350,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,true)thenset qv=truecall uf(u,cu,pR,lA,(.5+lv*.2)/ 10,false,true,false)call md(cu,u,R2I(Iv*2))endifendloopcall DestroyGroup(g)set i=i+1endloopset i=0loopexitwhen i>24call DestroyEffect(e[i])set i=i+1endloopcall RemoveLocation(LI)call DestroyTimer(t)call DestroyUbersplat(Us)endfunctionfunction Ws takes nothing returns booleanreturn GetSpellAbilityId()==1093677133endfunctionfunction ys takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local location LI=GetUnitLoc(tu)local group g=sI(400,LI)local integer lv=GetUnitAbilityLevel(u,1093677133)local real Oc=50+50*lvlocal unit culocal real jllocal real Yslocal real dxlocal real dycall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",tu,"overhead"))loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if qB(u,cu,false)thenset dx=GetUnitX(cu)-GetUnitX(tu)set dy=GetUnitY(cu)-GetUnitY(tu)set jl=SquareRoot(dx*dx+dy*dy)set Ys=.5+.5*(1-jl/ 400)call zf(u,cu,Oc*Ys,(.35+I2R(lv)*.08)*Ys,false,true,true)call Qb(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Heal\\HealTarget.mdl",cu,"origin"),2)endifendloopcall DestroyGroup(g)call RemoveLocation(LI)endfunctionfunction Zs takes nothing returns booleanreturn GetSpellAbilityId()==1093677889 and(GetUnitTypeId(GetTriggerUnit())!=1702327152)endfunctionfunction vS takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677889)call vB(u,1093678130,0,9.01+GetHeroAgi(u,true)*.1,true)endfunctionfunction xS takes nothing returns booleanreturn GetSpellAbilityId()==1093677146endfunctionfunction oS takes unit u,group g,group ng returns unitlocal unit culocal real hp=1.01local unit hu=nullloopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if not(IsUnitInGroup(cu,ng))and qB(u,cu,false)and(GetUnitState((cu),UNIT_STATE_LIFE))/(GetUnitState((cu),UNIT_STATE_MAX_LIFE))<hp thenset hp=(GetUnitState((cu),UNIT_STATE_LIFE))/(GetUnitState((cu),UNIT_STATE_MAX_LIFE))set hu=cuendifendloopreturn huendfunctionfunction rS takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local unit cu=nulllocal integer lv=GetUnitAbilityLevel(u,1093677146)local real ic=0local location LI=nulllocal group glocal group cf=CreateGroup()local real lA=0local integer i=0set lA=75+75*lvset ic=.4+lv*.07set cu=uloopexitwhen tu==null or i>3call jG(cu,tu,"HWPB",2)call jG(cu,tu,"HWSB",2)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\HealingWave\\HealingWaveTarget.mdl",tu,"origin"))call zf(u,tu,lA,ic,false,false,true)call GroupAddUnit(cf,tu)set LI=GetUnitLoc(tu)call PlaySoundAtPointBJ(fr,100,LI,0)set g=sI(400,LI)set cu=tuset tu=oS(u,g,cf)call DestroyGroup(g)call RemoveLocation(LI)set lA=lA*.85set ic=ic*.85set i=i+1endloopcall DestroyGroup(cf)endfunctionfunction aS takes nothing returns booleanreturn GetSpellAbilityId()==1093677909endfunctionfunction nS takes nothing returns nothinglocal unit u=GetTriggerUnit()local location LI=GetSpellTargetLoc()local unit lu=CreateUnit(GetOwningPlayer(u),1697656885,GetLocationX(LI),GetLocationY(LI),0)local integer lv=GetUnitAbilityLevel(u,1093677909)call GroupAddUnit(Ze,lu)call SetUnitState((lu),UNIT_STATE_LIFE,((800+lv*800)*1.))call UnitApplyTimedLife(lu,1110454320,12)loopexitwhen(GetUnitState((lu),UNIT_STATE_LIFE))<=0call XA(.01)endloopcall GroupRemoveUnit(Ze,lu)endfunctionfunction ES takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),1110455382)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==TR)endfunctionfunction XS takes nothing returns nothinglocal unit u=GetEnumUnit()local real l=mN(GetUnitX(u),GetUnitY(u),GetUnitX(nI),GetUnitY(nI))if l<EI and(GetUnitState((u),UNIT_STATE_LIFE))>0 thenset VI=uset EI=lendifendfunctionfunction OS takes nothing returns nothinglocal real lA=Dset nI=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))set VI=nullset EI=421call ForGroup(Ze,function XS)call qf((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),lA,lA,.75,true)if VI!=null thencall SetUnitState((VI),UNIT_STATE_LIFE,(((GetUnitState((VI),UNIT_STATE_LIFE))-lA*.75)*1.))endifendfunctionfunction IS takes nothing returns booleanreturn GetSpellAbilityId()==1093677125endfunctionfunction AS takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677125)local location gG=GetUnitLoc(u)local location GG=GetSpellTargetLoc()local unit culocal group g=sI(250,GG)local real f=0local real l=0local integer i=1call RemoveLocation(GG)loopset cu=FirstOfGroup(g)exitwhen cu==null or i>1+lvcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)thenif not((IsUnitType((cu),UNIT_TYPE_ANCIENT)))and not(gB(cu))thenset GG=GetUnitLoc(cu)set f=AngleBetweenPoints(gG,GG)-180set l=mN(GetLocationX(gG),GetLocationY(gG),GetLocationX(GG),GetLocationY(GG))call mG(cu,300,l-64,l*1.5,f)call RemoveLocation(GG)endifcall CF(u,cu,1.2,2+lv*.5,false)set i=i+1endifendloopcall RemoveLocation(gG)endfunctionfunction bS takes nothing returns booleanreturn GetSpellAbilityId()==1093677106 and(GetUnitTypeId(GetTriggerUnit())!=1702327152)endfunctionfunction BS takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("u"))local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("tu"))local integer c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("c"))local integer lv=GetUnitAbilityLevel(u,1093677106)local real h=(100+80*lv)/ 4if GetUnitAbilityLevel(tu,1114793322)==0 or c>4 thencall PauseTimer(t)call DestroyTimer(t)returnendifset c=c+1call zf(u,tu,h,(.75+.25*I2R(lv))/ 4,true,false,false)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("c"),c)endfunctionfunction cS takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local timer t=CreateTimer()call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("u"),u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("tu"),tu)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("c"),1)call TimerStart(t,3,true,function BS)endfunctionfunction fS takes nothing returns booleanreturn GetSpellAbilityId()==1093677362endfunctionfunction FS takes nothing returns nothinglocal unit u=GetSpellAbilityUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677362)call zf(u,tu,50+50*lv,.2+I2R(lv)*.1,false,false,true)if(GetUnitState((tu),UNIT_STATE_LIFE))>=(GetUnitState((tu),UNIT_STATE_MAX_LIFE))thencall SetUnitState((u),UNIT_STATE_MANA,(((GetUnitState((u),UNIT_STATE_MANA))+10)*1.))endifendfunctionfunction GS takes nothing returns booleanlocal unit u=GetTriggerUnit()return GetUnitAbilityLevelSwapped(1093677363,u)>0 and IsUnitEnemy(GetAttacker(),GetOwningPlayer(u))and IsUnitAliveBJ(u)and(not(zc((u),(1093677363))>0))and GetRandomInt(1,100)<=Gc(u,false)endfunctionfunction hS takes nothing returns nothinglocal unit u=GetTriggerUnit()local real lv=I2R(GetUnitAbilityLevel(u,1093677363))call JA(u,GetHeroStr(u,true)*(.1+(.1*lv)))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",u,"overhead"))call yc(u,1093677363,1.6)endfunctionfunction jS takes nothing returns booleanreturn GetSpellAbilityId()==1093677637endfunctionfunction JS takes nothing returns nothinglocal unit u=GetTriggerUnit()local real lA=GetEventDamage()*.5local integer lv=GetUnitAbilityLevel(u,1093677637)local real tm=lA*(5-lv)local real mp=(GetUnitState((u),UNIT_STATE_MANA))if GetUnitAbilityLevel(u,1112436083)==0 thencall DestroyTrigger(GetTriggeringTrigger())endifif mp>=tm thenif(GetUnitState((u),UNIT_STATE_MAX_LIFE))-(GetUnitState((u),UNIT_STATE_LIFE))>=lA thencall SetUnitState((u),UNIT_STATE_LIFE,(((GetUnitState((u),UNIT_STATE_LIFE))+lA)*1.))elsecall sb(u,lA)endifcall SetUnitState((u),UNIT_STATE_MANA,(((GetUnitState((u),UNIT_STATE_MANA))-tm)*1.))elseif(GetUnitState((u),UNIT_STATE_MAX_LIFE))-(GetUnitState((u),UNIT_STATE_LIFE))>=mp thencall SetUnitState((u),UNIT_STATE_LIFE,(((GetUnitState((u),UNIT_STATE_LIFE))+mp)*1.))elsecall sb(u,mp)endifcall SetUnitState((u),UNIT_STATE_MANA,((0)*1.))call UnitRemoveAbility(u,1112436083)endifendfunctionfunction kS takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677637)local timer t=CreateTimer()local trigger AA=CreateTrigger()call TriggerRegisterUnitEvent(AA,u,EVENT_UNIT_DAMAGED)call TriggerAddAction(AA,function JS)call TimerStart(t,5,false,null)loopcall TriggerSleepAction(.01)exitwhen GetUnitAbilityLevel(u,1112436083)==0if TimerGetRemaining(t)==0 thencall SetUnitState((u),UNIT_STATE_MANA,(((GetUnitState((u),UNIT_STATE_MANA))+(GetUnitState((u),UNIT_STATE_MAX_MANA))*.01)*1.))call TimerStart(t,5,false,null)endifendloopcall PauseTimer(t)call DestroyTimer(t)call DestroyTrigger(AA)endfunctionfunction lS takes nothing returns booleanreturn GetSpellAbilityId()==1093677130 and(GetUnitTypeId(GetTriggerUnit())!=1702327152)endfunctionfunction LS takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677130)local real Oc=(.2+.2*lv)*GetUnitState(tu,UNIT_STATE_MAX_LIFE)call zf(u,tu,Oc,0,false,false,true)call vB(tu,1095328817,0,15,true)call SetUnitAbilityLevel(tu,1095328817,lv)endfunctionfunction MS takes nothing returns booleanreturn GetSpellAbilityId()==1093677378 or GetUnitAbilityLevel(GetAttacker(),1093677378)>0endfunctionfunction pS takes nothing returns nothinglocal unit tu=GetTriggerUnit()local unit u=GetEventDamageSource()local integer lv=GetUnitAbilityLevel(u,1093677378)local real PS=6+lv*2local real lA=(GetUnitState((u),UNIT_STATE_MAX_LIFE))*.02+((GetUnitState((u),UNIT_STATE_MAX_LIFE))-(GetUnitState((u),UNIT_STATE_LIFE)))*(.03+.03*I2R(lv))if(GetUnitAbilityLevel(tu,1112040289)>0 or GetUnitAbilityLevel(tu,1113813860)>0 or GetUnitAbilityLevel(tu,1113813865)>0)and lv>0 thenif(GetUnitState((u),UNIT_STATE_LIFE))>PS thencall SetUnitState((u),UNIT_STATE_LIFE,(((GetUnitState((u),UNIT_STATE_LIFE))-PS)*1.))elsecall SetUnitState((u),UNIT_STATE_LIFE,((1)*1.))endifcall DestroyTrigger(GetTriggeringTrigger())call UnitRemoveAbility(tu,1112040289)call UnitRemoveAbility(tu,1113813860)call UnitRemoveAbility(tu,1113813865)call uf(u,tu,PR,lA,0,false,false,true)call vB(tu,1093681716,1110454320,3,true)endifendfunctionfunction qS takes nothing returns nothinglocal unit ulocal unit tulocal trigger AAif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thenset u=GetTriggerUnit()set tu=GetSpellTargetUnit()elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED thenset u=GetAttacker()set tu=GetTriggerUnit()endifset AA=LoadTriggerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("A01B_TRG"))call DestroyTrigger(AA)set AA=CreateTrigger()call SaveTriggerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("A01B_TRG"),AA)call TriggerRegisterUnitEvent(AA,tu,EVENT_UNIT_DAMAGED)call TriggerAddAction(AA,function pS)call gI(2)call DestroyTrigger(AA)endfunctionfunction sS takes nothing returns booleanreturn GetSpellAbilityId()==1093677384endfunctionfunction SS takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677384)local location LI=GetSpellTargetLoc()local group g=sI(500,LI)local unit culocal real xlocal real ylocal integer i=1loopexitwhen i>18set x=GetLocationX(LI)+450*Cos((i*20-10)*bj_DEGTORAD)set y=GetLocationY(LI)+450*Sin((i*20-10)*bj_DEGTORAD)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl",x,y))set i=i+1endloopset i=1loopexitwhen i>9set x=GetLocationX(LI)+150*Cos((i*40)*bj_DEGTORAD)set y=GetLocationY(LI)+150*Sin((i*40)*bj_DEGTORAD)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl",x,y))set i=i+1endlooploopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)thencall WG(cu)elseif qB(u,cu,true)thencall wG(cu)endifendloopcall DestroyGroup(g)call RemoveLocation(LI)endfunctionfunction TS takes nothing returns booleanreturn GetSpellAbilityId()==1093677143endfunctionfunction uS takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677143)local unit tu=GetSpellTargetUnit()call SaveInteger(Ne,(StringHash(I2S(GetHandleId((tu))))),StringHash("A00W_USE"),4+lv)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((tu))))),StringHash("A00W_HEALTH"),25+lv*15)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),StringHash("A00W_UNIT"),u)endfunctionfunction wS takes nothing returns booleanreturn GetSpellAbilityId()==1093677134endfunctionfunction WS takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677134)local location LI=GetSpellTargetLoc()local unit lu=CreateUnitAtLoc(GetOwningPlayer(u),1702327152,LI,0)call UnitApplyTimedLifeBJ(10+lv*5,1112820806,lu)call UnitAddAbility(lu,1093678132)call SetUnitAbilityLevelSwapped(1093678132,lu,lv)call IssuePointOrderByIdLoc(lu,852473,LI)call RemoveLocation(LI)endfunctionfunction YS takes nothing returns booleanreturn GetSpellAbilityId()==1093677903endfunctionfunction zS takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677903)local integer Oc=45+45*lvlocal location LI=GetUnitLoc(u)local group g=sI(500,LI)local unit cu=nullloopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if qB(u,cu,false)thencall zf(u,cu,Oc,.3+I2R(lv)*.07,false,true,true)call Qb(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Heal\\HealTarget.mdl",cu,"origin"),2)endifendloopcall DestroyGroup(g)call RemoveLocation(LI)endfunctionfunction vt takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228)local real mj=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1630548070)local integer lv=GetUnitAbilityLevel(u,1093677126)local real et=mj-(GetUnitState((u),UNIT_STATE_MANA))if et>=10 thencall DestroyEffect(AddSpecialEffectTarget("effects\\BlackTide.mdx",u,"overhead"))call kA(u,5+5*lv)call yc(u,1093677126,5)endifcall EA(t)endfunctionfunction xt takes nothing returns booleanreturn GetUnitAbilityLevel(GetTriggerUnit(),1093677126)>0 and(not(zc((GetTriggerUnit()),(1093677126))>0))and GetRandomInt(1,100)<=50endfunctionfunction at takes nothing returns nothinglocal unit u=GetTriggerUnit()local real mj=GetUnitState(u,UNIT_STATE_MANA)local timer t=CreateTimer()call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1630548070,(GetUnitState((u),UNIT_STATE_MANA)))call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228,u)call TimerStart(t,0,false,function vt)endfunctionfunction Et takes nothing returns booleanreturn GetSpellAbilityId()==1093677361endfunctionfunction Xt takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677361)local real ic=0local unit tu=GetSpellTargetUnit()local integer i=1local real mc=(40+80*lv)/ 6local real nc=0set ic=(.6+lv*.2)/ 6if(GetUnitState((u),UNIT_STATE_LIFE))/(GetUnitState((u),UNIT_STATE_MAX_LIFE))<=.5 thenset ic=ic*1.5set mc=mc*1.5endifloopexitwhen i>6 or GetUnitCurrentOrder(u)!=852487set nc=(GetUnitState((tu),UNIT_STATE_LIFE))if nc>mc thencall uf(u,tu,2,mc,ic,false,false,false)elsecall uf(u,tu,2,nc,ic,false,false,false)endifcall zf(u,u,Iv,0,false,false,false)call SetUnitState((u),UNIT_STATE_MANA,(((GetUnitState((u),UNIT_STATE_MANA))+Iv*.15)*1.))set i=i+1call gI(.9)endloopcall IssueImmediateOrderById(u,851972)endfunctionfunction Rt takes nothing returns booleanreturn GetUnitTypeId(GetTriggerUnit())==1852206952endfunctionfunction A00Y_heal_t takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("u"))local integer lv=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("lv"))local group glocal location LIlocal unit culocal real Itlocal integer pif VA(u)thencall PauseTimer(t)call DestroyTimer(t)returnendifset p=((1+GetPlayerId((GetOwningPlayer(u)))))set LI=GetUnitLoc(u)set g=sI(800,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)set It=RMinBJ(2+lv*6,(GetUnitState((cu),UNIT_STATE_MAX_LIFE))-(GetUnitState((cu),UNIT_STATE_LIFE)))if qB(u,cu,false)and cu!=u and not(IsUnitType(cu,UNIT_TYPE_DEAD))thencall SetUnitState((cu),UNIT_STATE_LIFE,(((GetUnitState((cu),UNIT_STATE_LIFE))+It)*1.))set fv[p]=fv[p]+R2I(It)endifendloopcall DestroyGroup(g)call RemoveLocation(LI)endfunctionfunction At takes nothing returns nothinglocal unit u1=GetSummoningUnit()local unit u2=GetSummonedUnit()local integer lv=GetUnitAbilityLevel(u1,1093677145)if GetUnitAbilityLevel(u1,1093682244)>0 thencall UnitAddAbility(u2,1093682501)call SetUnitAbilityLevel(u2,1093682501,lv)elsecall UnitAddAbility(u2,1093677877)call SetUnitAbilityLevel(u2,1093677877,lv)endifendfunctionfunction bt takes nothing returns booleanreturn(GetSpellAbilityId()==1093677399 or GetSpellAbilityId()==1093678410)and(GetUnitTypeId(GetTriggerUnit())!=1702327152)endfunctionfunction Bt takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677399)local integer jm=mC(u,true)local unit tu=GetSpellTargetUnit()local real lA=10+80*lvlocal location LI=GetUnitLoc(tu)local unit culocal group g=sI(300,LI)local real t=1+lvset t=t+t*.2*jmloopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)thenif GetSpellAbilityId()==1093677399 thencall uf(u,cu,qR,lA,1,false,true,true)call kC(u,cu,2,t)elseif GetSpellAbilityId()==1093678410 thencall kC(u,cu,2,5)endifendifendloopcall RemoveLocation(LI)call DestroyGroup(g)endfunctionfunction Dt takes nothing returns booleanreturn GetSpellAbilityId()==1093677622 and(GetUnitTypeId(GetTriggerUnit())!=1702327152)endfunctionfunction ft takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1131180867)local boolean b=LoadBoolean(Ne,(StringHash(I2S(GetHandleId((t))))),1131180870)local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1131180885)set c=c-1call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1131180867,c)if b thencall wG(tu)elsecall WG(tu)endifif c<1 thencall PauseTimer(t)call DestroyTimer(t)endifendfunctionfunction Ft takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677622)local timer t=CreateTimer()local boolean b=qB(u,tu,true)if b thencall wG(tu)elsecall WG(tu)endifcall SaveBoolean(Ne,(StringHash(I2S(GetHandleId((t))))),1131180866,b)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1131180867,lv+1)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1131180885,tu)call TimerStart(t,2,true,function ft)endfunctionfunction Gt takes nothing returns booleanreturn GetSpellAbilityId()==1093677895endfunctionfunction ht takes nothing returns nothinglocal integer Ej=GetDestructableTypeId(GetEnumDestructable())if Ej==1280599416 or Ej==1110454321 or Ej==1110454322 or Ej==1110454323 or Ej==1110454324 or IsDestructableInvulnerable(GetEnumDestructable())thenreturnendifcall KillDestructable(GetEnumDestructable())endfunctionfunction Ht takes location LI returns booleanif IsTerrainPathableBJ(LI,PATHING_TYPE_WALKABILITY)thenreturn falseendifif RectContainsLoc(Wx,LI)thenreturn falseendifif RectContainsLoc(oo,LI)thenreturn falseendifif RectContainsLoc(ox,LI)thenreturn trueendifif RectContainsLoc(rx,LI)thenreturn trueendifif RectContainsLoc(Rx,LI)thenreturn trueendifif RectContainsLoc(Bx,LI)thenreturn trueendifif RectContainsLoc(Gx,LI)thenreturn trueendifif RectContainsLoc(lx,LI)thenreturn trueendifif RectContainsLoc(qx,LI)thenreturn trueendifif RectContainsLoc(ao,LI)thenreturn trueendifif RectContainsLoc(Ao,LI)thenreturn trueendifif RectContainsLoc(do,LI)thenreturn trueendifif RectContainsLoc(jo,LI)thenreturn trueendifif RectContainsLoc(lo,LI)thenreturn trueendifreturn falseendfunctionfunction jt takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677895)local real lA=0local location LI=GetSpellTargetLoc()local group g=nulllocal unit cu=nulllocal real f=0local real l=0local real ml=1600local real ic=0if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CHANNEL thenif not(Ht(LI))thenif GetLocalPlayer()==GetOwningPlayer(u)thencall PlaySoundBJ(rr)endifcall eN(GetOwningPlayer(u),1,0,5,true,"|cffffaa00不能以这里作为跳跃目标!|r")call IssueImmediateOrderById(u,851972)endifreturnendifset l=mN(GetUnitX(u),GetUnitY(u),GetLocationX(LI),GetLocationY(LI))set f=bj_RADTODEG*Atan2(GetLocationY(LI)-GetUnitY(u),GetLocationX(LI)-GetUnitX(u))set ic=1+l/ 1600set lA=(60+40*lv)*iccall mG(u,450,l,l*1.5,f)loopcall XA(.01)exitwhen GetUnitAbilityLevel(u,1098015094)<=0endloopset g=sI(300,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,true,false)thencall Wf(u,cu,0,lA,ic,false,false,true)if not Av[uR]thencall md(cu,u,R2I(Iv))endifendifendloopcall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",GetUnitX(u),GetUnitY(u)))call KI(256,LI,function ht)call RemoveLocation(LI)call DestroyGroup(g)endfunctionfunction kt takes nothing returns booleanreturn GetSpellAbilityId()==1093677624endfunctionfunction Kt takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677624)call vB(u,1095328819,0,15,true)call SetUnitAbilityLevel(u,1095328819,lv)endfunctionfunction Lt takes nothing returns booleanreturn GetUnitAbilityLevelSwapped(1095328819,GetTriggerUnit())>0 and IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))endfunctionfunction Mt takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetAttacker()local integer lv=GetUnitAbilityLevel(u,1095328819)local location LIcall Wf(u,tu,0,3+4*lv,.15,false,false,true)call md(tu,u,3*lv+2)if GetRandomInt(1,100)<=2+lv thenset LI=GetUnitLoc(tu)call eC(u,tu,LI,1095267426,1,"thunderbolt",1)call RemoveLocation(LI)endifendfunctionfunction Pt takes nothing returns booleanreturn GetSpellAbilityId()==1093677878endfunctionfunction qt takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677878)local integer ilocal location LIlocal group glocal unit culocal real lA=(80+40*lv)/ 4set i=1loopexitwhen i>4set i=i+1call XA(3)set LI=GetUnitLoc(tu)set g=sI(350,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if IsUnitAlly(cu,GetOwningPlayer(u))and IsUnitAliveBJ(cu)thencall zf(u,cu,lA,(.7+I2R(lv)*.1)/ 4,true,true,false)call Qb(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Heal\\HealTarget.mdl",cu,"origin"),2)endifendloopcall DestroyGroup(g)call RemoveLocation(LI)endloopendfunctionfunction St takes nothing returns booleanreturn GetSpellAbilityId()==1093677652endfunctionfunction Tt takes nothing returns nothinglocal unit tu=GetTriggerUnit()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetEventDamageSource()))))),StringHash("u"))local integer lv=GetUnitAbilityLevel(u,1093677652)local real lA=100+200*lvif GetUnitAbilityLevel(tu,1110454605)>0 thencall UnitRemoveAbility(tu,1110454605)if cC(tu)thencall Wf(u,tu,0,lA,lv*1.5,false,false,true)if not(Av[2])thencall dC(u,tu,1+lv)endifelseset Hv=100call Wf(u,tu,0,lA,.7+.3*lv,false,false,true)endifcall DestroyTrigger(GetTriggeringTrigger())endifendfunctionfunction Ut takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local unit lulocal location LI=GetUnitLoc(u)local trigger tr=CreateTrigger()set lu=eC(u,tu,LI,1093679412,1,"shadowstrike",1)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((lu))))),StringHash("u"),u)call RemoveLocation(LI)call TriggerRegisterUnitEvent(tr,tu,EVENT_UNIT_DAMAGED)call TriggerAddAction(tr,function Tt)call gI(4)call DestroyTrigger(tr)endfunctionfunction Wt takes nothing returns booleanreturn GetSpellAbilityId()==1093677906endfunctionfunction Yt takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit culocal integer r=0local integer lv=GetUnitAbilityLevel(u,1093677906)local location LI=GetUnitLoc(u)local group g=sI(100+lv*200,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)thenset r=CF(u,cu,1.5,12,true)if r==0 thencall CF(u,cu,1.5,12,false)endifendifendloopcall RemoveLocation(LI)call DestroyGroup(g)endfunctionfunction Zt takes nothing returns booleanreturn GetSpellAbilityId()==1093677874endfunctionfunction vT takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677874)call md(tu,u,30+lv*GetHeroStr(u,true))endfunctionfunction xT takes nothing returns booleanreturn GetSpellAbilityId()==1093677879 or GetSpellAbilityId()==1093681744endfunctionfunction oT takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=IMaxBJ(GetUnitAbilityLevel(u,1093677879),GetUnitAbilityLevel(u,1093681744))local real lA=125+100*lvlocal boolean b=Zb(u,tu,90)local real ic=1if b thenset ic=1.5endifcall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\Impale\\ImpaleHitTarget.mdl",GetUnitX(tu),GetUnitY(tu)))call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Critters\\Albatross\\CritterBloodAlbatross.mdl",tu,"chest"))call Wf(u,tu,2,lA*ic,lv*.5*ic,false,false,true)if Av[2]thenreturnendifif b thencall UnitAddAbility(tu,1093678165)call vB(tu,1093678165,0,8,true)call SetUnitAbilityLevel(tu,1093678165,lv)endifendfunctionfunction iT takes nothing returns booleanreturn GetSpellAbilityId()==1093677107endfunctionfunction aT takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1630760565)local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1630762101)local unit au=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1093677107)if GetUnitAbilityLevel(tu,1093681749)==0 or au!=tu or GetUnitCurrentOrder(u)!=852105thencall PauseTimer(t)call DestroyTimer(t)call UnitRemoveAbility(tu,1093681749)call UnitRemoveAbility(tu,1110454601)call SetUnitOwner(tu,Vv,false)endifendfunctionfunction nT takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677107)local integer t=12+lv*12local timer trif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CHANNEL thenif NK(tu)or LoadBoolean(Ne,(StringHash(I2S(GetHandleId((tu))))),1093677107)thencall oN(GetOwningPlayer(u),"|cffffaa00对这个目标无效|r")call IssueImmediateOrderById(u,851972)endifreturnendifset Pe=trueset Ue=falseset tr=CreateTimer()call NC(u,t,"精神控制","evileye",false,0)call vB(tu,1093681749,1110454601,t+1,true)call SetUnitOwner(tu,GetOwningPlayer(u),false)call Jf(tu)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((tr))))),1630760565,u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((tr))))),1630762101,tu)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),1093677107,tu)call TimerStart(tr,.5,true,function aT)endfunctionfunction ET takes nothing returns booleanreturn GetSpellAbilityId()==1093678385 or GetSpellAbilityId()==1093681745endfunctionfunction XT takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=IMaxBJ(GetUnitAbilityLevel(u,1093678385),GetUnitAbilityLevel(u,1093681745))local integer a=(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((tu)))))),StringHash("CastAbility")))if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((tu)))))),1937012083)==1)thencall Wf(u,tu,0,0,lv,false,false,true)elsecall Wf(u,tu,0,0,.5*lv,false,false,true)endifif not(Av[2])and a>0 thenif zc(tu,a)<5 thencall yc(tu,a,5)endifcall IssueImmediateOrderById(tu,851972)endifendfunctionfunction RT takes nothing returns booleanreturn GetSpellAbilityId()==1093677144endfunctionfunction IT takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("u"))local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("tu"))local integer c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("c"))local integer lv=GetUnitAbilityLevel(u,1093677144)local integer rF=(20+20*lv)/ 4if GetUnitAbilityLevel(tu,1093678896)==0 or c>4 thencall PauseTimer(t)call DestroyTimer(t)returnendifset c=c+1call zf(u,tu,rF,(.6+I2R(lv)*.1)/ 4,true,false,false)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("c"),c)endfunctionfunction AT takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677144)local integer Oc=80+40*lvlocal integer i=1local timer t=CreateTimer()call zf(u,tu,Oc,.6+I2R(lv)*.1,false,false,true)call vB(tu,1093678896,1110454356,4.1,true)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("u"),u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("tu"),tu)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("c"),1)call TimerStart(t,1,true,function IT)endfunctionfunction bT takes nothing returns booleanreturn GetUnitTypeId(GetTriggerUnit())==1869838129 or GetUnitTypeId(GetTriggerUnit())==1869838130 or GetUnitTypeId(GetTriggerUnit())==1869838131 or GetUnitTypeId(GetTriggerUnit())==1865429040endfunctionfunction BT takes nothing returns nothingcall SetUnitAbilityLevel(GetTriggerUnit(),1095065970,GetUnitAbilityLevel(GetSummoningUnit(),1093677389))endfunctionfunction CT takes nothing returns booleanreturn GetSpellAbilityId()==1093677400endfunctionfunction dT takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677400)local real lA=100+I2R(lv)*100local real ic=.5+I2R(lv)local string s="Abilities\\Spells\\Orc\\Bloodlust\\BloodlustTarget.mdl,Abilities\\Spells\\Orc\\Bloodlust\\BloodlustSpecial.mdl"call SetSoundPosition(Er,GetUnitX(tu),GetUnitY(tu),0)call StartSound(Er)call Wf(u,tu,0,lA,ic,false,false,true)if Av[1]thencall vB(u,1093678646,0,15,true)call SetUnitAbilityLevel(u,1093678646,lv)endifendfunctionfunction fT takes nothing returns booleanreturn IsUnitIllusion(GetTriggerUnit())endfunctionfunction FT takes nothing returns nothinglocal trigger NN=GetTriggeringTrigger()local unit u=GetTriggerUnit()local unit su=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((NN))))),1398107764)local integer c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((su))))),808546115)call DestroyTrigger(NN)set c=c-1if c<=0 thencall UnitRemoveAbility(su,1093681488)call UnitRemoveAbility(su,1110455114)endifcall SaveInteger(Ne,(StringHash(I2S(GetHandleId((su))))),808546115,c)endfunctionfunction gT takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit su=GetSummoningUnit()local integer sp=0local integer c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((su))))),808546115)local trigger NNcall vB(su,1093681488,1110455114,100,true)set sp=R2I(fc(su,null,0,0,1,false,false,false))set sp=sp-(12+GetHeroAgi(u,true))call sB(u,sp)set c=c+1call SaveInteger(Ne,(StringHash(I2S(GetHandleId((su))))),808546115,c)set NN=CreateTrigger()call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((NN))))),1398107764,su)call TriggerRegisterUnitEvent(NN,u,EVENT_UNIT_DEATH)call TriggerAddAction(NN,function FT)endfunctionfunction hT takes nothing returns booleanreturn GetSpellAbilityId()==1093678413endfunctionfunction jT takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(u,1093677138)call dC(u,tu,3)call vB(u,1093678646,0,10+lv*5,true)endfunctionfunction kT takes nothing returns booleanreturn GetUnitTypeId(GetTriggerUnit())==1852924465 or GetUnitTypeId(GetTriggerUnit())==1852924466 or GetUnitTypeId(GetTriggerUnit())==1852924467 or GetUnitTypeId(GetTriggerUnit())==1852924468endfunctionfunction KT takes nothing returns nothingcall UnitAddAbility(GetTriggerUnit(),1093678413)call SetUnitAbilityLevelSwapped(1093678413,GetTriggerUnit(),(GetUnitAbilityLevelSwapped(1093677387,GetTriggerUnit())+0))endfunctionfunction LT takes nothing returns booleanreturn GetUnitAbilityLevel(GetTriggerUnit(),1093678925)>0endfunctionfunction mT takes nothing returns nothinglocal unit u=GetTriggerUnit()local location LI=GetUnitLoc(u)local group g=sI(300,LI)local unit culocal real lA=(GetUnitState((u),UNIT_STATE_MAX_LIFE))*.3call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Orc\\OrcLargeDeathExplode\\OrcLargeDeathExplode.mdl",GetUnitX(u),GetUnitY(u)))loopset cu=FirstOfGroup(g)call GroupRemoveUnit(g,cu)exitwhen cu==nullif IsUnitEnemy(cu,GetOwningPlayer(u))and IsUnitAliveBJ(cu)thencall uf(u,cu,0,lA,1,false,true,true)endifendloopcall DestroyGroup(g)call RemoveLocation(LI)endfunctionfunction MT takes nothing returns nothingset JE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(JE,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(JE,Condition(function LT))call TriggerAddAction(JE,function mT)endfunctionfunction pT takes nothing returns booleanreturn GetSpellAbilityId()==1093677392endfunctionfunction PT takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228)local integer lv=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1818588780)if GetUnitAbilityLevel(u,1093679159)==0 thencall EA(t)returnendifcall SetUnitState((u),UNIT_STATE_LIFE,(((GetUnitState((u),UNIT_STATE_LIFE))+(GetUnitState((u),UNIT_STATE_MAX_LIFE))*(.01+lv*.005))*1.))endfunctionfunction qT takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer lv=GetUnitAbilityLevel(u,1093677392)local timer t=CreateTimer()call SetUnitState((u),UNIT_STATE_LIFE,(((GetUnitState((u),UNIT_STATE_LIFE))+(GetUnitState((u),UNIT_STATE_MAX_LIFE))*(.1+lv*.05))*1.))call vB(u,1093679159,1113748331,20.1,true)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228,u)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1818588780,lv)call TimerStart(t,2,true,function PT)endfunctionfunction ST takes nothing returns nothinglocal timer cblocal timerdialog tdlocal integer r=0call eN(null,0,0,20,false,"等待|cffffee00"+Lb(sv)+"|r选择一个难度.")set cb=CreateTimer()set td=CreateTimerDialog(cb)call TimerStart(cb,10,false,null)call TimerDialogSetTitle(td,"难度选择倒计时")call TimerDialogDisplay(td,true)set L[0]="选择一个难度"set M[0]=0set L[1]="新手的试练(|cff9090e0E|rasy)"set M[1]=69set L[2]="战士的实战(Mi|cff9090e0d|rdle)"set M[2]=68set L[3]="专家的挑战(|cff9090e0H|rard)"set M[3]=72set L[4]="骨灰的考验(|cff9090e0C|rrazy)"set M[4]=67if not We thenset r=Nb(sv,"选择一个难度",4,10)elseset r=Nb(sv,"选择一个难度",3,10)endifcall TimerDialogDisplay(td,false)call DestroyTimerDialog(td)call PauseTimer(cb)call DestroyTimer(cb)if r>0 thencall eN(null,0,0,20,false,"游戏难度被设定为|cffd0d010"+SubString(L[r],0,15)+"|r")call pb(r)elsecall eN(null,0,0,20,false,"游戏难度被设定为|cff808010"+L[1]+"|r")call pb(1)endifendfunctionfunction TT takes nothing returns booleanreturn Ef(GetTriggerUnit(),true)and(xv==0)and Lv==1if Ef(GetTriggerUnit(),true)thencall bA("Check Boss ok",5)elsecall bA("Check Boss error",5)return falseendifif(xv==0)thencall bA("Boss all die ok",5)elsecall bA("Check Boss error",5)return falseendifif Lv==1 thencall bA("Game Status ok",5)elsecall bA("Check Boss error",5)return falseendifreturn trueendfunctionfunction uT takes nothing returns nothingif not(VA(GetEnumUnit()))thencall KillUnit(GetEnumUnit())endifendfunctionfunction UT takes nothing returns nothinglocal unit u=GetEnumUnit()if not(VA(u))thencall SetUnitState((u),UNIT_STATE_LIFE,(((GetUnitState((u),UNIT_STATE_MAX_LIFE)))*1.))call UnitAddAbility(u,1098282348)endifendfunctionfunction wT takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit ku=GetKillingUnit()local player p=GetOwningPlayer(ku)local unit lu=nulllocal integer VB=GetUnitTypeId(u)call bA("Boee die exec",5)set Lv=2call StopMusic(true)call DisableTrigger(LE)call DisableTrigger(wO)call ForGroupBJ(hv,function uT)call EnableTrigger(wO)call ForGroupBJ(Qv,function UT)call TriggerExecute(oi)call StartSound(nr)if ku==BR thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.,"|cffffee00"+Mb(u)+"|r被炸死了，使用时间|cffd07070"+Tb(R2I(TimerGetElapsed(Mv))))elsecall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.,"成功将 |cffffee00"+Mb(u)+"|r 击败，使用时间|cffd07070"+Tb(R2I(TimerGetElapsed(Mv)))+".|r 最后一击:|cff8080d0"+Lb(p)+"|r")endifcall eN(null,0,0,10,false,"所有人奖励|cffffff00250金币 +30战绩|r")call kb(null,30)call zb(null,250,true)call PauseTimer(Mv)if GetUnitTypeId(u)==1851942007 and Le<=1 and not(Se)thencall TriggerExecute(tE)returnelseif GetUnitTypeId(u)==1852534636 and Le<=3 thencall TriggerExecute(tE)returnelseif GetUnitTypeId(u)==1852995187 or GetUnitTypeId(u)==1852995174 thencall TriggerExecute(TE)returnelseif GetUnitTypeId(u)==1852534636 and Le==4 thenset KR=KR+1call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.,"|cffffee00成功激活隐藏关卡,挑战次数增加1|r")endifset lu=CreateUnit(Player(15),1752199796,GetUnitX(u),GetUnitY(u),270)call SetUnitAnimation(lu,"birth")set yv=lucall XA(8)call TriggerRegisterUnitInRangeSimple(pE,96,lu)call TriggerExecute(mE)loopexitwhen IsTriggerEnabled(pE)call EnableTrigger(pE)call TriggerSleepAction(0)endloopendfunctionfunction yT takes nothing returns nothinglocal timer t=nullcall zA()call yA()call YA()set t=CreateTimer()call TimerStart(t,30,false,null)loopcall XA(.1)exitwhen TimerGetRemaining(t)<=0 or not(IsTriggerEnabled(pE))endloopcall PauseTimer(t)call DestroyTimer(t)if IsTriggerEnabled(pE)thencall TriggerExecute(pE)endifcall EnableTrigger(LE)endfunctionfunction zT takes nothing returns booleanreturn not(IsUnitHidden(GetTriggerUnit()))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)endfunctionfunction ZT takes nothing returns nothingif GetOwningPlayer(GetEnumUnit())!=Player(15)and not(IsUnitType(GetEnumUnit(),UNIT_TYPE_MECHANICAL))thencall KillUnit(GetEnumUnit())endifendfunctionfunction vu takes nothing returns nothinglocal integer i=0local real x=0local real y=0local integer c=1set i=1loopexitwhen i>hRif Nv[i]!=null thenset x=GetRectCenterX(Jv[jR])set y=GetRectCenterY(Jv[jR])if IsUnitType(Nv[i],UNIT_TYPE_HERO)thenif c<5 thenset x=x+128*i-320set y=y+64elseif c<9 thenset x=x+128*(i-4)-320set y=y-64endifcall SetUnitX(Nv[i],x)call SetUnitY(Nv[i],y)call SetUnitFacing(Nv[i],90)call pf(Nv[i])call ShowUnitShow(Nv[i])call PauseUnit(Nv[i],false)call SelectUnitForPlayerSingle(Nv[i],GetOwningPlayer(Nv[i]))set xe[i]=0set ee[i]=0set c=c+1elsecall SetUnitX(Nv[i],x)call SetUnitY(Nv[i],y)endifendifset i=i+1endloopendfunctionfunction xu takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer i=0local group g=nulllocal boolean ou=truelocal real x=0local real y=0local item it=nulllocal integer cH=0call SaveInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1281455219,(0))call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(u),GetUnitY(u)))call SetUnitAbilityLevel(u,1093681987,jR)call ShowUnit(u,false)call PauseUnit(u,true)call IssueImmediateOrder(u,"Stop")call UnitResetCooldown(u)call SetUnitLifePercentBJ(u,100)call SetUnitManaPercentBJ(u,100)set ou=trueset i=1loopexitwhen i>hR or not(ou)set ou=not(not(IsUnitHidden(Nv[i]))and not(Nv[i]==null)and not(GetUnitTypeId(Nv[i])==1970497636))set i=i+1endloopif ou thencall DisableTrigger(ME)set qe=seset Lv=1set be=TRUEif JR==0 and Uv==false thenset JR=kRendifif Le==0 thencall TriggerExecute(lE)loopexitwhen Le>0call XA(.01)endloopendifcall XA(1.)call CinematicFadeBJ(1,3.,"ReplaceableTextures\\CameraMasks\\Black_mask.blp",0,0,0,0)call XA(3.)call vu()set g=PI(jv[0])call DisableTrigger(Rn)call ForGroup(g,function ZT)call EnableTrigger(Rn)call DestroyGroup(g)call XA(2.)call CinematicFadeBJ(0,2.,"ReplaceableTextures\\CameraMasks\\Black_mask.blp",0,0,0,0)call XA(2)call PlaySoundBJ(Xr)call TriggerExecute(qE)elsecall eN(GetOwningPlayer(u),0,0,10,false,"请等待其他玩家准备完毕.")endifendfunctionfunction Vu takes nothing returns booleanreturn IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)and not(IsUnitIllusion(GetTriggerUnit()))endfunctionfunction Eu takes unit u returns nothinglocal item itlocal unit cu=LoadUnitHandle(Ne,1852010352,((1+GetPlayerId((GetOwningPlayer(u))))))if UnitHasItemOfTypeBJ(u,1835101800)thenset it=GetItemOfTypeFromUnitBJ(u,1835101800)call SetItemCharges(it,GetItemCharges(it)+1)elseif UnitInventoryCount(u)<6 thenset it=CreateItem(1835101800,GetUnitX(u),GetUnitY(u))call UnitAddItem(u,it)call SetItemCharges(it,1)elseif UnitHasItemOfTypeBJ(cu,1835101800)thenset it=GetItemOfTypeFromUnitBJ(cu,1835101800)call SetItemCharges(it,GetItemCharges(it)+1)elseif UnitInventoryCount(cu)<6 thenset it=CreateItem(1835101800,GetUnitX(cu),GetUnitY(cu))call UnitAddItem(cu,it)call SetItemCharges(it,1)endifendfunctionfunction Xu takes nothing returns nothinglocal integer i=1loopexitwhen i>hRif GetPlayerController((Player(-1+((i)))))==MAP_CONTROL_USER and Nv[i]!=null and(IsUnitType((Nv[i]),UNIT_TYPE_HERO))thencall Eu(Nv[i])endifset i=i+1endloopendfunctionfunction Ou takes nothing returns nothingif not(IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))thencall KillUnit(GetEnumUnit())endifendfunctionfunction Ru takes nothing returns nothinglocal integer i=1loopexitwhen i>hRif not(IsUnitType(Nv[i],UNIT_TYPE_DEAD))thencall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(Nv[i]),GetUnitY(Nv[i])))call ShowUnit(Nv[i],false)endifset i=i+1endloopendfunctionfunction Iu takes nothing returns nothinglocal unit ulocal integer i=1loopexitwhen i>hRset u=Nv[i]if u!=null and(IsUnitType((u),UNIT_TYPE_HERO))thenif be thencall Kc(u,(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),StringHash("SkillPoint")))+1)endifcall SetHeroLevel(u,GetHeroLevel(u)+1,true)endifset i=i+1endloopendfunctionfunction Au takes nothing returns nothinglocal integer i=1local integer c=1local real x=0local real y=0loopexitwhen i>hRif Nv[i]!=null thenset x=GetLocationX(GetPlayerStartLocationLoc(Player(i-1)))set y=GetLocationY(GetPlayerStartLocationLoc(Player(i-1)))if(IsUnitType((Nv[i]),UNIT_TYPE_HERO))thenif c<5 thenset x=x+128*i-320set y=y+64elseif c<9 thenset x=x+128*(i-4)-320set y=y-64endifcall ReviveHero(Nv[i],x,y,false)call GB(Nv[i])call UnitRemoveAbility(Nv[i],1098282348)call IssueImmediateOrder(Nv[i],"Stop")call SetUnitX(Nv[i],x)call SetUnitY(Nv[i],y)call SetUnitFacing(Nv[i],90)call ShowUnit(Nv[i],true)set c=c+1elsecall SetUnitX(Nv[i],x)call SetUnitY(Nv[i],y)endifendifcall SelectUnitForPlayerSingle(Nv[i],Player(i-1))set i=i+1endloopendfunctionfunction Nu takes nothing returns nothinglocal unit du=yvlocal integer i=0local group g=nulllocal integer bm=0call DisableTrigger(pE)set bm=R2I((90+jR*10)*(1+I2R(IMaxBJ(Ub()-wb(),0))*.1))call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.,"STAGE |cffeeee00"+I2S(jR)+"|r成功通过！用时"+Tb(R2I(TimerGetElapsed(pv))))if be thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.,"|cffffff00----------------------------------------------------|r")if bm>0 thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.,"|cffffff00 完胜: 奖励"+I2S(bm)+"金币 1点技能点数 50战绩|r")elsecall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.,"|cffffff00 完胜: 奖励1点技能点数 50战绩|r")endifcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.,"|cffffff00----------------------------------------------------|r")call kb(null,50)if bm>0 thencall zb(null,bm,false)endifelsecall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.,"|cffffff00----------------------------------------------------|r")if bm>0 thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.,"|cffffff00 过关: 奖励"+I2S(bm)+"金币 50战绩|r")elsecall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.,"|cffffff00 过关: 奖励 50战绩|r")endifcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.,"|cffffff00----------------------------------------------------|r")if bm>0 thencall zb(null,bm,false)endifendifif ve[6]==1 thencall AddItemToStockBJ(1919841136,RR,1,1)endifcall PauseTimer(pv)call PlaySoundBJ(nr)call KillUnit(du)call CinematicFadeBJ(1,3.,"ReplaceableTextures\\CameraMasks\\Black_mask.blp",0,0,0,0)set g=PI(jv[jR])call ForGroup(g,function Ou)call DestroyGroup(g)call Ru()call XA(3)call Au()call Iu()call Xu()call XA(3)call CinematicFadeBJ(0,3,"ReplaceableTextures\\CameraMasks\\Black_mask.blp",0,0,0,0)call RemoveUnit(du)set jR=jR+1set kR=1set Lv=0call TriggerExecute(PE)call EnableTrigger(pE)call EnableTrigger(ME)endfunctionfunction Cu takes nothing returns nothinglocal integer i=0local integer Du=240if Be and not(Uv)thenreturnendifcall EnableTrigger(ME)call PlayMusicBJ(Br)if Tv==false and IsTriggerEnabled(KE)thencall TriggerExecute(KE)endifset Te=trueset XI=CreateTimer()set OI=CreateTimerDialog(XI)call Xf()call jf()call TimerDialogSetTitle(OI,"剩余时间")call TimerDialogDisplay(OI,true)call TimerStart(XI,Du,false,null)loopcall XA(.1)exitwhen Lv!=0 or TimerGetElapsed(XI)>=Duendloopif Lv==0 thenset i=1loopexitwhen i>hRif Nv[i]!=null and not(IsUnitHidden(Nv[i]))and(IsUnitType((Nv[i]),UNIT_TYPE_HERO))thencall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(Nv[i]),GetUnitY(Nv[i])))call SetUnitX(Nv[i],GetUnitX(IR))call SetUnitY(Nv[i],GetUnitY(IR))endifset i=i+1endloopendifcall TimerDialogDisplay(OI,false)call DestroyTimerDialog(OI)call EA(XI)endfunctionfunction OMG takes nothing returns nothinglocal unit ulocal rect r=nullloopset u=CreateUnit(Vv,1853252716,GetRandomReal(GetRectMinX(r),GetRectMaxX(r)),GetRandomReal(GetRectMinY(r),GetRectMaxY(r)),0)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(u),GetUnitY(u)))endloopendfunctionfunction gu takes nothing returns nothinglocal timer tlocal timerdialog tdlocal integer ilocal integer jlocal integer klocal integer Gulocal integer clocal string Hulocal rect rlocal unit ulocal code celocal integer bl=0local real nc=0set bl=LoadInteger(Ne,StringHash("Boss"),jR)if bl<=0 thencall bA("No Define Boss Level",5)returnendifcall TimerStart(pv,999999,false,null)loopif JR>=bl thenset t=CreateTimer()set td=CreateTimerDialog(t)set JR=0if Uv thencall TimerStart(t,.1,false,null)elsecall TimerStart(t,15,false,null)endifcall TimerDialogSetTitle(td,"|cffe08080首领战|r")call TimerDialogDisplay(td,true)loopexitwhen TimerGetRemaining(t)==0 or Lv!=1call XA(.01)endloopcall DestroyTimer(t)call TimerDialogDisplay(td,false)call DestroyTimerDialog(td)if Lv!=1 thenreturnendifcall PlaySoundBJ(Vr)call TriggerExecute(Me[jR])returnendifset t=CreateTimer()set td=CreateTimerDialog(t)if Uv thencall TimerStart(t,.1,false,null)elseif te thencall TimerStart(t,5,false,null)elsecall TimerStart(t,10,false,null)endifcall TimerDialogSetTitle(td,"Stage:|cffdd5050"+I2S(jR)+" - "+I2S(JR)+"|r")call TimerDialogDisplay(td,true)loopexitwhen TimerGetRemaining(t)==0 or Lv!=1 or tecall XA(.01)endloopset aI=trueset te=falsecall DestroyTimer(t)call TimerDialogDisplay(td,false)call DestroyTimerDialog(td)if Lv!=1 thenreturnendifcall PlaySoundBJ(Vr)set i=1loopset Hu="G"+I2S(jR)+"S"+I2S(JR)+"B"+I2S(i)set Gu=LoadInteger(Ne,StringHash("Monster"),StringHash("Unit "+Hu))set r=(Kv[((jR)-1)*10+(LoadInteger(Ne,StringHash("Monster"),StringHash("Rect "+Hu)))])set c=LoadInteger(Ne,StringHash("Monster"),StringHash("Cont "+Hu))if We thenif c>2 thenset c=R2I(c*1.5)elseset nc=nc+I2R(c)*.5if nc>1 or IsUnitIdType(Gu,UNIT_TYPE_GIANT)thenset c=c+R2I(nc)set nc=nc-R2I(nc)endifendifendifexitwhen Gu==0set j=1loopexitwhen j>cset u=CreateUnit(Vv,Gu,GetRandomReal(GetRectMinX(r),GetRectMaxX(r)),GetRandomReal(GetRectMinY(r),GetRectMaxY(r)),0)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(u),GetUnitY(u)))set j=j+1endloopset i=i+1endloopcall TimerStart(Mv,999999,false,null)call zA()call wA()call WA()loopcall XA(.01)exitwhen CountUnitsInGroup(hv)==0 or(jR<11 and TimerGetElapsed(Mv)>240)or teendloopif Lv!=1 thenreturnendifcall PauseTimer(Mv)if not te thenset Te=falsecall PlaySoundBJ(ar)call eN(null,0,0,8,false,"Stage|cffeedd00"+I2S(jR)+" - "+I2S(JR)+"|r Completed! (|cffeedd00"+Tb(R2I(TimerGetElapsed(Mv)))+"|r) 奖励|cffffff00"+I2S(Le*25)+"金币 +10战绩|r! ")call TriggerExecute(oi)elsecall eN(null,0,0,8,false,"|cffff0000警告|r:|cffeedd00"+I2S(jR)+" - "+I2S(JR+1)+"|r 即将来临! 奖励|cffffff00"+I2S(Le*25)+"金币 +10战绩|r! ")endifcall zb(null,Le*25,false)call kb(null,10)set JR=JR+1if jR>10 thenset kR=JRcall kb(null,500)call eN(null,0,0,8,false,"|cffeedd00通过额外关卡，奖励500战绩|r! ")endifset vx=trueendloopendfunctionfunction Ju takes nothing returns nothinglocal real Ku=512local unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=0local rect r=nullif not(IsUnitType(u,UNIT_TYPE_HERO))and not(GetUnitTypeId(u)==1970497636)thenreturnendifloopset r=jv[i]exitwhen i>30if r!=null thenif RectContainsUnit(r,u)thencall pf(u)call CreateFogModifierRectBJ(true,p,FOG_OF_WAR_VISIBLE,r)set r=Rect(GetRectMinX(r)+Ku,GetRectMinY(r)+Ku*.5,GetRectMaxX(r)-Ku,GetRectMaxY(r)-Ku*.5)call SetCameraBoundsToRectForPlayerBJ(p,r)call RemoveRect(r)if GetLocalPlayer()==p thencall PanCameraToTimed(GetUnitX(u),GetUnitY(u),0)endifendifendifset i=i+1endloopendfunctionfunction Mu takes nothing returns nothingif GetOwningPlayer(GetEnumUnit())==Vv thencall IssueImmediateOrderById(GetEnumUnit(),851972)call PauseUnit(GetEnumUnit(),true)call UnitAddAbility(GetEnumUnit(),1098282348)endifendfunctionfunction Pu takes nothing returns nothingif GetOwningPlayer(GetEnumUnit())==Vv thencall Jf(GetEnumUnit())call RemoveUnit(GetEnumUnit())endifendfunctionfunction qu takes nothing returns nothingif not(IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))thencall mf(GetEnumUnit())call RemoveUnit(GetEnumUnit())endifendfunctionfunction Qu takes nothing returns nothinglocal integer ilocal integer clocal real xlocal real ylocal dialog diglocal button btnlocal trigger AAlocal player pcall DisableTrigger(sE)call StopMusic(true)if KR>1 thenset KR=KR-1set Lv=0call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.,"您的团队失败了，你们还有 |cffeeee00"+I2S(KR)+"|r次挑战机会")call PauseTimer(pv)call PlaySoundBJ(Ir)call CinematicFadeBJ(1,2.,"ReplaceableTextures\\CameraMasks\\Black_mask.blp",0,0,0,0)call ForGroup(hv,function Mu)call XA(2)call Au()call XA(2)call CinematicFadeBJ(0,2.,"ReplaceableTextures\\CameraMasks\\Black_mask.blp",0,0,0,0)set JR=0call ForGroup(hv,function Pu)call ForGroup(Qv,function qu)call DisableTrigger(KE)call TriggerExecute(ai)call TriggerExecute(PE)call EnableTrigger(KE)elsecall DisableTrigger(JO)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.,"您的团队失败了,下次继续努力吧!")call TriggerExecute(SE)call PauseAllUnitsBJ(true)call PlaySoundBJ(xr)returnendifcall EnableTrigger(sE)endfunctionfunction Tu takes player p returns nothinglocal integer i=((1+GetPlayerId((p))))local string slocal real array fflocal integer fif he[i]thencall eN(p,0,0,99999,false,"|cffffee00你的战绩系统被禁用了,因此无法使用战绩|r")returnendifset ff[0]=ge[i]set ff[1]=ff[0]*(jR*.1)set ff[2]=ff[0]*(Le*.25)set ff[3]=ff[0]*((GetTriggerExecCount(tE)+GetTriggerExecCount(TE))*.5)set f=ae[i]+R2I(ff[1]+ff[2]+ff[3])set s=ZC(Lb(p),f,true)call Id(p,SubString(s,0,4)+"-"+SubString(s,4,8),f)set s=WC(s)call eN(p,0,0,99999,false,"过关奖励:|cffffee00"+I2S(R2I(ff[1]))+"|r")call eN(p,0,0,99999,false,"难度奖励:|cffffee00"+I2S(R2I(ff[2]))+"|r")call eN(p,0,0,99999,false,"通关奖励:|cffffee00"+I2S(R2I(ff[3]))+"|r")call eN(p,0,0,99999,false,"总战绩为:|cffffee00"+I2S(f)+"|r 战绩密码:"+s)call eN(p,0,0,99999,false,"|cff8080ff你可以在下一场游戏开始后输入|r")call eN(p,0,0,99999,false,"|cffff8080-Load|r "+s)call eN(p,0,0,99999,false,"|cff8080ff来载入你的战绩|r")endfunctionfunction Uu takes nothing returns nothinglocal integer i=1local player ploopexitwhen i>GRset p=(Player(-1+((i))))if GetLocalPlayer()==p and GetPlayerSlotState(p)==PLAYER_SLOT_STATE_PLAYING and GetPlayerController(p)==MAP_CONTROL_USER thencall Tu(p)endifset i=i+1endloopendfunctionfunction Wu takes nothing returns nothinglocal integer i=1call DisableTrigger(GetTriggeringTrigger())call DisableTrigger(JO)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,9999,"通关使用时间:
|cffe07070"+Tb(R2I(TimerGetElapsed(Gv)))+"|r")if Le==1 thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,9999.,"|cff5050A0您的队伍已经成功的通过了|r
    |cffffee00新手的试炼|r|cff5050A0难度的所有关卡，请尝试挑战更高难度更多的关卡吧！|r")call Rd(null,"新手",1)elseif Le==2 thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,9999.,"|cff5050A0您的队伍已经成功的通过了|r
    |cffffee00战士的实战|r|cff5050A0难度的所有关卡，请尝试挑战更高难度更多的关卡吧！|r")call Rd(null,"战士",1)elseif Le==3 thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,9999.,"|cff5050A0您的队伍已经成功的通过了|r
    |cffffee00专家的考验|r|cff5050A0难度的所有关卡，请尝试挑战更高难度更多的关卡吧！|r")call Rd(null,"专家",1)endifcall XA(2)call TriggerExecute(SE)endfunctionfunction zu takes nothing returns nothinglocal integer i=1call DisableTrigger(GetTriggeringTrigger())call DisableTrigger(JO)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,9999,"通关使用时间:
|cffe07070"+Tb(R2I(TimerGetElapsed(Gv)))+"|r")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,9999.,"|cff5050A0您的队伍已经成功的通过了|r
    目前版本所有的关卡,请关注后续版本的发布将带来更多的关卡与挑战")call Rd(null,"骨灰",1)call XA(2)call TriggerExecute(SE)endfunctionfunction vU takes nothing returns nothinglocal unit u=GetEventDamageSource()local unit tu=GetTriggerUnit()local real Uf=GetEventDamage()local real ydif GetUnitTypeId(u)==1702327152 or IsUnitType(u,UNIT_TYPE_DEAD)or GetOwningPlayer(u)==Vv or u==tu thenreturnendifcall md(tu,u,R2I(Uf))if Uf>1 and GetUnitAbilityLevel(tu,1112500344)>0 thenset yd=LoadReal(Ne,(StringHash(I2S(GetHandleId((tu))))),1093677386)set yd=yd-Ufif yd<=0 thencall UnitRemoveAbility(tu,1112500344)endifcall SaveReal(Ne,(StringHash(I2S(GetHandleId((tu))))),1093677386,yd)endifendfunctionfunction oU takes nothing returns booleanreturn GetUnitAbilityLevel(Y,1110454329)>0endfunctionfunction iU takes nothing returns booleanreturn D==.01 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1097886055)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)endfunctionfunction aU takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real aNcall TriggerSleepAction(0)set av=trueset iv=trueset aN=RMinBJ((GetUnitState((tu),UNIT_STATE_MAX_LIFE))*.05,200)call bA("dmg "+R2S(aN),5)call uf(u,tu,1,aN,1,false,false,false)endfunctionfunction VU takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093679176)>0endfunctionfunction EU takes nothing returns nothingset R=R*5endfunctionfunction OU takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093682225)>0endfunctionfunction RU takes nothing returns nothingset R=R*3endfunctionfunction AU takes nothing returns booleanreturn D==.2 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093682503)>0endfunctionfunction NU takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real aN=GetRandomInt(1600,1800)call TriggerSleepAction(0)if GetUnitAbilityLevel(tu,1093682507)>0 thenset aN=aN*.25call UnitRemoveAbility(tu,1093682507)call UnitRemoveAbility(tu,1110455604)endifcall uf(u,tu,1,aN,0,false,true,false)endfunctionfunction BU takes nothing returns booleanreturn D==.21 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093682505)>0endfunctionfunction cU takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real aN=GetRandomInt(1000,1200)if GetUnitAbilityLevel(tu,1093682508)>0 thenset aN=aN*.25call UnitRemoveAbility(tu,1093682508)call UnitRemoveAbility(tu,1110455605)endifcall uf(u,tu,3,aN,0,false,true,false)endfunctionfunction dU takes nothing returns booleanreturn GetSpellAbilityId()==1093682506endfunctionfunction DU takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228)local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1952543349)local integer c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1685025891)if VA(u)or GetUnitAbilityLevel(tu,1098282348)>0 or GetUnitAbilityLevel(tu,1093682507)==0 thencall hB(tu,false)call PauseTimer(t)call DestroyTimer(t)call UnitRemoveAbility(tu,1093682507)call UnitRemoveAbility(tu,1110455604)returnendifcall SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1685025891,c+1)endfunctionfunction fU takes unit u,unit tu returns nothinglocal timer tif GetUnitAbilityLevel(tu,1093682507)>0 or GetUnitAbilityLevel(tu,1093682508)>0 thenreturnendifset t=CreateTimer()call hB(tu,true)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228,u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1952543349,tu)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1685025891,0)call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),1953066341,t)call vB(tu,1093682507,1110455604,654321,true)call TimerStart(t,.2,true,function DU)endfunctionfunction FU takes unit u,location LI,real fw returns nothinglocal unit cu=nulllocal group g=nullif LI==null thenreturnendifcall PlaySoundAtPointBJ(dr,100,LI,0)set g=sI(fw,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)thencall uf(u,cu,1,GetRandomInt(700,900),0,false,true,false)call fU(u,cu)endifendloopcall DestroyGroup(g)endfunctionfunction gU takes nothing returns nothinglocal unit u=GetTriggerUnit()local location LI=GetSpellTargetLoc()call FU(u,LI,300)call RemoveLocation(LI)endfunctionfunction hU takes nothing returns booleanreturn GetSpellAbilityId()==1093682504endfunctionfunction HU takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228)local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1952543349)local integer c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1685025891)if VA(u)or GetUnitAbilityLevel(tu,1098282348)>0 or GetUnitAbilityLevel(tu,1093682508)==0 thencall PauseTimer(t)call DestroyTimer(t)call UnitRemoveAbility(tu,1093682508)call UnitRemoveAbility(tu,1110455605)returnendifcall SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1685025891,c+1)if c>0 and ModuloInteger(c,10)==0 thencall uf(u,tu,1,25*R2I(c/ 10),0,true,false,false)endifendfunctionfunction jU takes unit u,unit tu returns nothinglocal timer tif GetUnitAbilityLevel(tu,1093682507)>0 or GetUnitAbilityLevel(tu,1093682508)>0 thenreturnendifset t=CreateTimer()call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228,u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1952543349,tu)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1685025891,0)call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),1953066341,t)call vB(tu,1093682508,1110455605,654321,true)call TimerStart(t,.2,true,function HU)endfunctionfunction JU takes unit u,location LI,real fw returns nothinglocal unit cu=nulllocal group g=nullif LI==null thenreturnendifcall PlaySoundAtPointBJ(Dr,100,LI,0)set g=sI(fw,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)thencall uf(u,cu,1,GetRandomInt(900,1200),0,false,true,false)call jU(u,cu)endifendloopcall DestroyGroup(g)endfunctionfunction kU takes nothing returns nothinglocal unit u=GetTriggerUnit()local location LI=GetSpellTargetLoc()call JU(u,LI,300)call RemoveLocation(LI)endfunctionfunction lU takes nothing returns booleanreturn D==.19 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093682261)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)endfunctionfunction LU takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))call TriggerSleepAction(0)call uf(u,tu,0,40+Le*15,0,true,false,false)endfunctionfunction MU takes nothing returns booleanreturn D==.18 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093681460)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)endfunctionfunction pU takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))call TriggerSleepAction(0)call Wf(u,tu,0,30+Le*15,0,true,false,false)endfunctionfunction qU takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093682260)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==tR)endfunctionfunction QU takes nothing returns nothingset R=R*(1+GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093682260)*.05)endfunctionfunction SU takes nothing returns booleanreturn D==.15 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093682258)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)endfunctionfunction tU takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local integer c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((tu))))),1093682258)call TriggerSleepAction(0)if(not(zc((tu),(1093682258))>0))thenset c=0endifcall yc(tu,1093682258,2)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((tu))))),1093682258,c+1)call Wf(u,tu,0,300+c*20,0,false,true,false)call Qb(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",tu,"chest"),1)endfunctionfunction uU takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093682233)>0 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),1110455375)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)endfunctionfunction UU takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real aN=Dlocal integer c=0call UnitRemoveAbility(tu,1110455375)call uf(u,tu,1,GetRandomInt(350,500),0,false,false,false)set c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((tu))))),1093682233)if GetUnitAbilityLevel(tu,1093682241)>0 thenset c=c+1elseset c=1endifcall SaveInteger(Ne,(StringHash(I2S(GetHandleId((tu))))),1093682233,c)call vB(tu,1093682241,1110455376,8,true)endfunctionfunction WU takes nothing returns booleanreturn GetSpellAbilityId()==1093682230endfunctionfunction yU takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()call uf(u,tu,PR,(GetUnitState((tu),UNIT_STATE_LIFE))*.75+225,0,false,false,false)endfunctionfunction zU takes nothing returns booleanreturn GetSpellAbilityId()==1093682257endfunctionfunction ZU takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer lv=GetUnitAbilityLevel(tu,1093682259)+1call HI("SwingWeaponSpecialWarriorE.wav")call Wf(u,tu,0,GetRandomInt(2000,2800),0,false,false,false)if not(Av[2])thencall vB(tu,1093682259,0,15,true)call SetUnitAbilityLevel(tu,1093682259,lv)endifendfunctionfunction ew takes nothing returns booleanreturn D==.13 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093682229)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)endfunctionfunction xw takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))call TriggerSleepAction(0)call uf(u,tu,1,GetRandomInt(1600,2000),0,false,true,false)call vB(tu,1093682231,1110455374,6,true)endfunctionfunction rw takes nothing returns booleanreturn D==.14 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093682232)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)endfunctionfunction iw takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))call TriggerSleepAction(0)call uf(u,tu,1,145,0,false,true,false)endfunctionfunction nw takes nothing returns booleanreturn GetSpellAbilityId()==1093682228endfunctionfunction Vw takes unit u,unit tu returns nothinglocal unit lulocal unit culocal location LI=GetUnitLoc(tu)local group glocal integer c=0local real lAcall DestroyEffect(AddSpecialEffect("Units\\Demon\\Infernal\\InfernalBirth.mdl",GetUnitX(tu),GetUnitY(tu)))call gI(.8)set g=sI(256,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)call uf(u,cu,pR,5000,0,false,true,false)endloopcall DestroyGroup(g)call RemoveLocation(LI)call CreateUnit(GetOwningPlayer(tu),1848651848,GetUnitX(tu),GetUnitY(tu),90)call RemoveUnit(tu)endfunctionfunction Ew takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local real x=GetUnitX(tu)local real y=GetUnitY(tu)set tu=CreateUnit(GetOwningPlayer(u),1697656884,GetUnitX(tu),GetUnitY(tu),90)call UnitApplyTimedLife(tu,1110454320,7)call SetUnitX(tu,x)call SetUnitY(tu,y)set ue=tucall NC(u,5,"!召唤地狱火","holybolt",true,0)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==3)thencall Vw(u,tu)endifendfunctionfunction Ow takes nothing returns booleanreturn GetUnitAbilityLevel(GetTriggerUnit(),1093682224)>0endfunctionfunction Rw takes nothing returns nothinglocal unit u=GetTriggerUnit()local location LI=GetUnitLoc(u)local group g=sI(4800,LI)local unit culoopset cu=FirstOfGroup(g)exitwhen(cu==null or GetUnitAbilityLevel(cu,1093682224)>0)and cu!=ucall GroupRemoveUnit(g,cu)endloopif cu!=null thencall vB(cu,1093682225,1110455372,9999,true)endifendfunctionfunction Aw takes nothing returns nothinglocal unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((RX))))),StringHash("u"))local location LIlocal group glocal unit culocal real lA=20local integer i=0loopexitwhen VA(u)or u==nullcall XA(3)set LI=GetUnitLoc(u)set g=sI(3000,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)and cu!=u thencall uf(u,cu,QR,KA(u,(GetUnitState((cu),UNIT_STATE_MAX_LIFE))*.04),0,false,true,false)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\CarrionSwarm\\CarrionSwarmDamage.mdl",GetUnitX(cu),GetUnitY(cu)))endifendloopset i=i+1endloopendfunctionfunction bw takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),1110455351)>0 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093681735)>0endfunctionfunction Bw takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real aN=Dcall UnitRemoveAbility(tu,1110455351)call uf(u,tu,QR,KA(u,GetRandomInt(200,250)+Le*50),0,false,false,false)endfunctionfunction Cw takes nothing returns nothinglocal unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((AX))))),1970170228)local real Oc=(GetUnitState((u),UNIT_STATE_MAX_LIFE))*.1call vB(u,1093681732,1110455348,60,true)call SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),1093681732,Oc)loopcall XA(2)exitwhen GetUnitAbilityLevel(u,1093681732)==0call zf(u,u,(GetUnitState((u),UNIT_STATE_MAX_LIFE))*.02,0,false,false,false)endloopendfunctionfunction Dw takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),1093681732)>0endfunctionfunction Fw takes nothing returns nothinglocal unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local real aN=Dlocal real Oc=LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),1093681732)local location LIlocal group glocal unit cuset Oc=qf(u,Oc,aN,1,true)if Oc<1 thencall SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),1093681732,0)call UnitRemoveAbility(u,1093681732)call UnitRemoveAbility(u,1110455348)call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BlackDragonMissile.mdx",u,"origin"))set LI=GetUnitLoc(u)set g=sI(1600,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)and cu!=u thencall vB(cu,1093681733,1110455349,4,true)call uf(u,cu,QR,KA(u,GetRandomInt(450,600)+Le*75),0,false,false,false)endifendloopcall RemoveLocation(LI)call DestroyGroup(g)elsecall SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),1093681732,Oc)endifendfunctionfunction hw takes nothing returns booleanreturn GetSpellAbilityId()==1093679169endfunctionfunction Hw takes unit u,unit tu returns nothinglocal unit cu=nulllocal unit nu=nulllocal location LI=nulllocal group glocal group cf=CreateGroup()local real lAlocal real jwlocal integer i=1local integer jset lA=KA(u,GetRandomReal(200,300)+Le*100)set jw=lAset cu=uloopexitwhen tu==nullcall GroupAddUnit(cf,tu)call jG(cu,tu,"AFOD",1)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",tu,"chest"))call uf(u,tu,0,jw,1,false,false,false)set LI=GetUnitLoc(tu)set j=1set nu=nullloopset g=sI(10*j,LI)loopset cu=FirstOfGroup(g)call GroupRemoveUnit(g,cu)exitwhen cu==nullif cu!=tu and SA(u,cu,false,false)and not(IsUnitInGroup(cu,cf))thenset nu=cuexitwhen trueendifendloopcall DestroyGroup(g)exitwhen j>20 or nu!=nullset j=j+1endloopcall RemoveLocation(LI)set cu=tuset tu=nuset jw=lA+lA*iexitwhen i>10set i=i+1endloopcall DestroyGroup(cf)endfunctionfunction Jw takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()call NC(u,.5,"!魔能闪电","howlofterror",true,0)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==3)thencall Hw(u,tu)endifendfunctionfunction Kw takes nothing returns booleanreturn GetSpellAbilityId()==1093679161endfunctionfunction lw takes unit u,unit tu returns nothinglocal unit lulocal unit culocal location LI=GetUnitLoc(tu)local group g=sI(300,LI)local group g2=CreateGroup()local integer c=0local real lA=KA(u,GetRandomInt(4000,4750)+Le*500)if xx thenset lA=lA*.6endifcall DestroyEffect(AddSpecialEffect("war3mapImported\\IceNova.mdx",GetUnitX(tu),GetUnitY(tu)))call PlaySoundAtPointBJ(Ar,100,LI,0)set lu=CreateUnitAtLoc(GetOwningPlayer(u),1697656880,LI,GetLocationZ(LI))call ShowUnitHide(lu)call UnitApplyTimedLife(lu,1110454320,3)call SetUnitFlyHeight(lu,1000,0)call jG(lu,tu,"CLPB",1.2)call jG(lu,tu,"CLPB",1.2)call jG(lu,tu,"CLPB",1.2)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)and(IsUnitType((cu),UNIT_TYPE_HERO))thencall GroupAddUnit(g2,cu)endifendloopcall DestroyGroup(g)set c=CountUnitsInGroup(g2)set lA=lA/ cset AI=(c>3)or AIloopset cu=FirstOfGroup(g2)exitwhen cu==nullcall GroupRemoveUnit(g2,cu)call uf(u,cu,QR,lA,0,false,true,false)endloopcall DestroyGroup(g2)call RemoveLocation(LI)endfunctionfunction Lw takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()set ue=tuif GetUnitAbilityLevel(u,1093681734)>0 thencall vB(tu,1093681737,1110455353,3,true)call NC(u,3,"!天谴","holybolt",true,0)elsecall vB(tu,1093681737,1110455353,5,true)call NC(u,5,"!天谴","holybolt",true,0)endifif(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==3)thencall lw(u,tu)endifendfunctionfunction Mw takes nothing returns booleanreturn GetSpellAbilityId()==1093679160endfunctionfunction pw takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local group g=gC(u,tu,128,2)local unit cu=nullcall HI("CleaveTarget.wav")loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)call Wf(u,cu,0,GetRandomInt(300,350)*(.8+.2*Le)*1.5,0,false,false,true)endloopcall DestroyGroup(g)endfunctionfunction qw takes nothing returns booleanreturn GetSpellAbilityId()==1093678416endfunctionfunction Qw takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local group g=gC(u,tu,192,4)local unit cu=nullcall HI("CleaveTarget.wav")loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)call Wf(u,cu,0,GetRandomInt(600,850)*1.5*(.8+.2*Le),0,false,false,true)endloopcall DestroyGroup(g)endfunctionfunction Sw takes nothing returns booleanreturn GetSpellAbilityId()==1093681997endfunctionfunction tw takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer c=0if not(not(zc((tu),(1093681997))>0))thenset c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((tu))))),1093681997)elseset c=0endifcall uf(u,tu,1,20+c*2,0,false,false,false)call yc(tu,1093681997,8)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((tu))))),1093681997,c+1)endfunctionfunction uw takes nothing returns booleanreturn GetSpellAbilityId()==1093681976endfunctionfunction Uw takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local group g=gC(u,tu,256,4)local unit cu=nullcall HI("CleaveTarget.wav")loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)call Wf(u,cu,0,GetRandomInt(1600,2400),0,false,false,true)endloopcall DestroyGroup(g)endfunctionfunction Ww takes nothing returns booleanreturn D==.03 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093678644)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)endfunctionfunction yw takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real aN=Dlocal unit cu=nulllocal location LI=GetUnitLoc(tu)local group g=sI(175,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)thencall uf(u,cu,0,GetRandomInt(20,50)+Le*40,0,false,true,false)endifendloopcall RemoveLocation(LI)call DestroyGroup(g)endfunctionfunction zw takes nothing returns booleanreturn GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093678673)>0 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877)),1110454852)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)endfunctionfunction Zw takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real aN=Dcall UnitRemoveAbility(tu,1110454852)call uf(u,tu,2,GetRandomInt(100,150)+Le*25,0,false,false,false)endfunctionfunction eW takes nothing returns booleanreturn D==.06 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093681462)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)endfunctionfunction xW takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real aN=Dcall uf(u,tu,0,GetRandomInt(75,90)+Le*65,0,false,true,false)call fC(u,tu,2.5)endfunctionfunction rW takes nothing returns booleanreturn D==.09 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093679448)>0endfunctionfunction iW takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228)local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1952543349)local integer c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1685025891)if GetUnitAbilityLevel(tu,1093678162)==0 or c>5 thencall PauseTimer(t)call DestroyTimer(t)returnendifcall uf(u,tu,0,GetRandomInt(175,250)+Le*100,0,false,true,false)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1685025891,c+1)endfunctionfunction aW takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real aN=Dlocal timer t=nullcall uf(u,tu,0,GetRandomInt(400,600)+Le*200,0,false,true,false)call vB(tu,1093678162,1110454340,5.1,true)set t=CreateTimer()call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1970170228,u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1952543349,tu)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),1685025891,0)call TimerStart(t,1,true,function iW)endfunctionfunction VW takes nothing returns booleanreturn D==.07 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093679444)>0endfunctionfunction EW takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real aN=Dcall uf(u,tu,0,GetRandomInt(400,775)+Le*150,0,false,true,false)endfunctionfunction OW takes nothing returns booleanreturn D==.04 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093678667)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)endfunctionfunction RW takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real aN=Dcall uf(u,tu,0,GetRandomInt(125,165)+75*Le,0,false,true,false)endfunctionfunction AW takes nothing returns booleanreturn D==.05 and GetUnitAbilityLevel((LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126)),1093678903)>0 and(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)endfunctionfunction NW takes nothing returns nothinglocal unit tu=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702261877))local unit u=(LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702262126))local real aN=Dcall uf(u,tu,0,GetRandomInt(25,35)+Le*35,0,false,true,false)endfunctionfunction BW takes nothing returns booleanreturn GetSpellAbilityId()==1093681713endfunctionfunction cW takes nothing returns nothinglocal unit u=GetTriggerUnit()local location LI=GetSpellTargetLoc()local integer i=1local unit lu=CreateUnit(Player(14),1702327152,GetLocationX(LI),GetLocationY(LI),0)call UnitAddAbility(lu,1093681481)call IssuePointOrderByIdLoc(lu,852238,LI)set Pe=trueset Ue=falsecall NC(u,8,"暴风雪","acolyteharvest",false,1093681713)loopexitwhen OrderId2String(GetUnitCurrentOrder(u))!="acolyteharvest" or i>8call XA(1)call iF(u,LI,250,3,GetRandomInt(0,25)+35*Le,0,false,true,false)set i=i+1endloopcall RemoveLocation(LI)call RemoveUnit(lu)endfunctionfunction dW takes nothing returns booleanreturn GetSpellAbilityId()==1093678415endfunctionfunction DW takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local unit cu=nulllocal real x=0local real y=0local group g=nulllocal location LI=nulllocal integer i=0local real lA=GetRandomInt(1000,1200)local real ic=0set ic=1+LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),1093678447)set lA=lA*iccall SaveReal(Ne,(StringHash(I2S(GetHandleId((u))))),1093678447,ic-.9)call vB(tu,1093679449,1110454868,10,true)loopcall XA(.01)if IsUnitType(tu,UNIT_TYPE_DEAD)or IsUnitType(u,UNIT_TYPE_DEAD)thencall UnitRemoveAbility(tu,1093679449)call UnitRemoveAbility(tu,1110454868)returnendifexitwhen GetUnitAbilityLevel(tu,1093679449)==0 or(GetUnitState((tu),UNIT_STATE_LIFE))<=0endloopset LI=GetUnitLoc(tu)set g=sI(300,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)thencall uf(u,cu,0,lA,0,false,true,false)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\CarrionSwarm\\CarrionSwarmDamage.mdl",GetUnitX(cu),GetUnitY(cu)))endifendloopcall DestroyGroup(g)set i=1loopexitwhen i>6set x=GetLocationX(LI)+60*Cos(i*60*bj_DEGTORAD)set y=GetLocationY(LI)+60*Sin(i*60*bj_DEGTORAD)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl",x,y))set i=i+1endloopcall gI(.1)set i=1loopexitwhen i>18set x=GetLocationX(LI)+180*Cos(i*20*bj_DEGTORAD)set y=GetLocationY(LI)+180*Sin(i*20*bj_DEGTORAD)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl",x,y))set i=i+1endloopcall RemoveLocation(LI)endfunctionfunction FW takes nothing returns nothinglocal unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((KX))))),StringHash("u"))local location LIlocal group glocal unit culocal real lA=30+Le*15loopexitwhen VA(u)or u==nullcall gI(1)set LI=GetUnitLoc(u)set g=sI(5000,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)thencall uf(u,cu,0,lA,0,false,true,false)endifendloopendloopendfunctionfunction GW takes nothing returns nothinglocal unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((lX))))),StringHash("u"))local location LIlocal group glocal unit culocal real lA=10+Le*5local integer i=0loopexitwhen VA(u)or u==nullcall XA(3)call DestroyEffect(AddSpecialEffect("war3mapImported\\red_bloodbomb.mdx",GetUnitX(u),GetUnitY(u)))set LI=GetUnitLoc(u)set g=sI(3000,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)and cu!=u thenif GetUnitAbilityLevel(u,1093679157)>0 thencall uf(u,cu,0,lA*R2I(i/ 4+1),0,false,true,false)elsecall uf(u,cu,0,lA*R2I(i/ 4+1),0,false,true,false)endifendifendloopset i=i+1endloopendfunctionfunction HW takes nothing returns nothinglocal unit u1=GetSummoningUnit()local unit u2=GetSummonedUnit()if CountUnitsInGroup(hv)>0 thencall Kf(u2,LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u1))))),StringHash("Target")))endifendfunctionfunction JW takes nothing returns booleanreturn not(IsUnitIllusion(GetTriggerUnit()))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and GetUnitAbilityLevel(GetKillingUnit(),1093678418)>0endfunctionfunction kW takes nothing returns nothinglocal unit u=GetKillingUnit()call Qb(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Heal\\HealTarget.mdl",u,"origin"),2)call SetUnitState((u),UNIT_STATE_LIFE,(((GetUnitState((u),UNIT_STATE_LIFE))+(GetUnitState((u),UNIT_STATE_MAX_LIFE))*.1)*1.))endfunctionfunction lW takes nothing returns booleanreturn GetSpellAbilityId()==1093677654endfunctionfunction LW takes nothing returns nothingcall AddUnitAnimationProperties(GetTriggerUnit(),"alternate",false)endfunctionfunction MW takes nothing returns booleanreturn GetSpellAbilityId()==1093679429endfunctionfunction pW takes nothing returns nothinglocal integer i=1local rect rlocal unit culocal unit u=GetTriggerUnit()local location LI=GetUnitLoc(u)local group g=sI(300,LI)local real floopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)thenset f=bj_RADTODEG*Atan2(GetUnitY(cu)-GetUnitY(u),GetUnitX(cu)-GetUnitX(u))call QG(cu,200,160,500,f)endifendlooploopexitwhen i>4set r=Kv[(jR-1)*10+GetRandomInt(1,5)]call CreateUnit(Vv,1853125236,GetRectCenterX(r),GetRectCenterY(r),0)set i=i+1endloopendfunctionfunction qW takes nothing returns booleanreturn GetUnitTypeId(GetSummonedUnit())==1848651826endfunctionfunction QW takes nothing returns nothinglocal unit u=GetSummonedUnit()local location LIlocal group glocal unit culoopexitwhen IsUnitDeadBJ(u)call gI(2)set LI=GetUnitLoc(u)set g=sI(250,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if GetOwningPlayer(cu)!=Vv and IsUnitAliveBJ(cu)thencall uf(u,cu,pR,GetRandomInt(15,25)+5*Le,0,false,true,false)endifendloopcall DestroyGroup(g)call RemoveLocation(LI)endloopendfunctionfunction SW takes nothing returns booleanreturn GetSpellAbilityId()==1093678156endfunctionfunction tW takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit culocal location LI=GetSpellTargetLoc()local integer i=1local group glocal unit lu=CreateUnit(Player(14),1702327152,GetLocationX(LI),GetLocationY(LI),0)call UnitAddAbility(lu,1093678157)call IssuePointOrderByIdLoc(lu,852238,LI)loopexitwhen i>24 or(GetUnitState((u),UNIT_STATE_LIFE))<=0call XA(1)set g=sI(350,LI)loopset cu=FirstOfGroup(g)call GroupRemoveUnit(g,cu)exitwhen cu==nullif SA(u,cu,false,false)thencall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl",GetUnitX(cu),GetUnitY(cu)))call uf(u,cu,0,GetRandomInt(35,50)+Le*15,0,false,true,false)endifendloopcall DestroyGroup(g)set i=i+1endloopcall RemoveLocation(LI)call RemoveUnit(lu)endfunctionfunction uW takes nothing returns booleanreturn GetSpellAbilityId()==1093678134endfunctionfunction UW takes unit u,unit tu returns nothinglocal trigger NN=GetTriggeringTrigger()local real array dset d[1]=300set d[2]=500set d[3]=800set d[4]=1200if zf(u,tu,GetRandomInt(50,150)+d[Le],0,false,false,false)thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",tu,"overhead"))endifendfunctionfunction wW takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()set ue=tucall NC(u,1.5,"治疗术","holybolt",true,1093678134)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==3)thencall UW(u,tu)endifendfunctionfunction yW takes nothing returns booleanreturn GetSpellAbilityId()==1093682004endfunctionfunction YW takes unit u,unit tu returns nothinglocal trigger NN=GetTriggeringTrigger()local real array dif zf(u,tu,GetRandomInt(0,300)+2500+Le*750,0,false,false,false)thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl",tu,"overhead"))endifendfunctionfunction zW takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()set ue=tucall NC(u,3,"强效治疗术","holybolt",true,1093682004)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==3)thencall YW(u,tu)endifendfunctionfunction vy takes nothing returns booleanreturn GetSpellAbilityId()==1093682005endfunctionfunction ey takes unit u,unit tu returns nothinglocal trigger NN=GetTriggeringTrigger()if zf(u,tu,GetRandomInt(0,150)+1200+Le*300,0,false,false,false)thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",tu,"overhead"))endifendfunctionfunction xy takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()set ue=tucall NC(u,1.5,"快速治疗术","howlofterror",true,1093682005)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==3)thencall ey(u,tu)endifendfunctionfunction ry takes nothing returns booleanreturn GetSpellAbilityId()==1093678419endfunctionfunction iy takes unit u,unit tu returns nothingif zf(u,tu,GetRandomInt(500,700)+Le*500,0,false,false,false)thencall DestroyEffect(AddSpecialEffectTarget("effects\\LifeBreak.mdx",tu,"overhead"))endifendfunctionfunction ay takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()set ue=tucall NC(u,1.5,"黑暗治愈","holybolt",true,1093678419)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==3)thencall iy(u,tu)endifendfunctionfunction Ey takes nothing returns booleanreturn GetSpellAbilityId()==1093678387endfunctionfunction Xy takes nothing returns nothinglocal unit tu=GetTriggerUnit()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetEventDamageSource()))))),StringHash("u"))local real array dset d[1]=20set d[2]=35set d[3]=50set d[4]=70if GetUnitAbilityLevel(tu,1110454341)>0 thencall UnitRemoveAbility(tu,1110454341)call uf(u,tu,0,GetRandomInt(5,15)+d[Le],0,false,false,false)call DestroyTrigger(GetTriggeringTrigger())endifendfunctionfunction Oy takes unit u,unit tu returns nothinglocal unit lulocal location LI=GetUnitLoc(u)local trigger tr=CreateTrigger()set lu=eC(u,tu,LI,1093678388,1,"shadowstrike",1)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((lu))))),StringHash("u"),u)call RemoveLocation(LI)call TriggerRegisterUnitEvent(tr,tu,EVENT_UNIT_DAMAGED)call TriggerAddAction(tr,function Xy)call gI(5)call DestroyTrigger(tr)endfunctionfunction Ry takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()set ue=tucall NC(u,2,"水弹","holybolt",true,1093678387)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==3)thencall Oy(u,tu)endifendfunctionfunction Ay takes nothing returns booleanreturn GetSpellAbilityId()==1093679427endfunctionfunction Ny takes nothing returns nothinglocal unit tu=GetTriggerUnit()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetEventDamageSource()))))),StringHash("u"))if GetUnitAbilityLevel(tu,1110454612)>0 thencall UnitRemoveAbility(tu,1110454612)call uf(u,tu,0,GetRandomInt(70,90)+Le*30,0,false,true,false)call DestroyTrigger(GetTriggeringTrigger())endifendfunctionfunction by takes unit u,unit tu returns nothinglocal trigger NN=GetTriggeringTrigger()local unit cu=nulllocal unit lu=nulllocal location LI=GetUnitLoc(u)local location GG=GetUnitLoc(tu)local group g=sI(400,GG)local trigger array trlocal integer i=0loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)thenset i=i+1set lu=eC(u,cu,LI,1093679428,1,"shadowstrike",1)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((lu))))),StringHash("u"),u)set tr[i]=CreateTrigger()call TriggerRegisterUnitEvent(tr[i],cu,EVENT_UNIT_DAMAGED)call TriggerAddAction(tr[i],function Ny)endifendloopcall DestroyGroup(g)call RemoveLocation(LI)call RemoveLocation(GG)call gI(4)loopexitwhen i==0call DestroyTrigger(tr[i])set i=i-1endloopendfunctionfunction By takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()set ue=tucall NC(u,1,"!强力水弹","holybolt",true,0)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==3)thencall by(u,tu)endifendfunctionfunction Cy takes nothing returns booleanreturn GetSpellAbilityId()==1093679180endfunctionfunction Dy takes unit u,unit tu returns nothinglocal unit cu=nulllocal integer lv=GetUnitAbilityLevel(u,1093679180)local location LI=nulllocal group glocal group cf=CreateGroup()local real lA=0local integer i=0set lA=GetRandomInt(1500,2500)+500*Leset cu=uloopexitwhen tu==null or i>2call jG(cu,tu,"HWPB",2)call jG(cu,tu,"HWSB",2)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\HealingWave\\HealingWaveTarget.mdl",tu,"origin"))call zf(u,tu,lA,1,false,false,true)call GroupAddUnit(cf,tu)set LI=GetUnitLoc(tu)set g=sI(400,LI)set cu=tuset tu=oS(u,g,cf)call DestroyGroup(g)call RemoveLocation(LI)set i=i+1endloopcall DestroyGroup(cf)endfunctionfunction fy takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()set ue=tucall NC(u,3,"治疗链","holybolt",true,1093679180)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==3)thencall Dy(u,tu)endifendfunctionfunction gy takes nothing returns booleanreturn GetSpellAbilityId()==1093678411endfunctionfunction Gy takes unit u returns nothinglocal real x=GetUnitX(u)local real y=GetUnitY(u)local unit lu=CreateUnit(GetOwningPlayer(u),1853058157,x,y,0)call UnitApplyTimedLife(lu,1112045413,60)call SaveBoolean(Ne,(StringHash(I2S(GetHandleId((lu))))),1852665710,true)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",GetUnitX(lu),GetUnitY(lu)))endfunctionfunction hy takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()call NC(u,5,"召唤软泥","holybolt",false,1093678411)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==3)thencall Gy(u)endifendfunctionfunction jy takes nothing returns booleanreturn GetSpellAbilityId()==1093678648endfunctionfunction Jy takes unit u returns nothinglocal real x=GetUnitX(u)local real y=GetUnitY(u)local unit lulocal integer i=1local rect rloopexitwhen i>4set r=(Kv[((jR)-1)*10+(i)])set x=GetRectCenterX(r)set y=GetRectCenterY(r)set lu=CreateUnit(Vv,1853057895,x,y,0)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",GetUnitX(lu),GetUnitY(lu)))set i=i+1endloopendfunctionfunction ky takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()call NC(u,.5,"!召唤骷髅","howlofterror",false,0)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==3)thencall Jy(u)endifendfunctionfunction ly takes nothing returns booleanreturn GetSpellAbilityId()==1093678660endfunctionfunction Ly takes unit u returns nothinglocal unit cu=nulllocal group g=PI(jv[jR])local real hp=0loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if GetUnitTypeId(cu)==1853057895 and not(IsUnitType(cu,UNIT_TYPE_DEAD))thenset hp=hp+(GetUnitState((cu),UNIT_STATE_LIFE))call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl",GetUnitX(cu),GetUnitY(cu)))call KillUnit(cu)endifendloopif hp>0 thencall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\DeathPact\\DeathPactCaster.mdl",GetUnitX(u),GetUnitY(u)))call SetUnitState((u),UNIT_STATE_LIFE,(((GetUnitState((u),UNIT_STATE_LIFE))+hp)*1.))endifendfunctionfunction my takes nothing returns nothinglocal unit u=GetTriggerUnit()call NC(u,4,"死亡契约","humanbuild",false,1093678660)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==3)thencall Ly(u)endifendfunctionfunction py takes nothing returns booleanreturn GetSpellAbilityId()==1093678901endfunctionfunction Py takes unit u,unit tu returns nothinglocal unit cu=nulllocal unit nu=nulllocal location LI=nulllocal group glocal group cf=CreateGroup()local real lAlocal real jwlocal integer i=1local integer jlocal real array dset d[1]=50set d[2]=100set d[3]=150set d[4]=250set lA=d[Le]+GetRandomReal(20,50)set jw=lAset cu=uloopexitwhen tu==nullcall GroupAddUnit(cf,tu)call jG(cu,tu,"CLPB",1)call jG(cu,tu,"CLSB",1)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",tu,"chest"))call uf(u,tu,0,jw,1,false,false,false)set LI=GetUnitLoc(tu)set j=1set nu=nullloopset g=sI(10*j,LI)loopset cu=FirstOfGroup(g)call GroupRemoveUnit(g,cu)exitwhen cu==nullif cu!=tu and SA(u,cu,false,false)and not(IsUnitInGroup(cu,cf))thenset nu=cuexitwhen trueendifendloopcall DestroyGroup(g)exitwhen j>40 or nu!=nullset j=j+1endloopcall RemoveLocation(LI)set cu=tuset tu=nuset jw=lA-lA*.15*iexitwhen i>3set i=i+1endloopcall DestroyGroup(cf)endfunctionfunction qy takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()call NC(u,3,"连锁闪电","holybolt",true,1093678901)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==3)thencall Py(u,tu)endifendfunctionfunction sy takes nothing returns booleanreturn GetSpellAbilityId()==1093679186endfunctionfunction Sy takes unit u,unit tu returns nothinglocal unit cu=nulllocal unit nu=nulllocal location LI=nulllocal group glocal group cf=CreateGroup()local real lA=GetRandomReal(250,300)+Le*75local real jw=lAlocal integer i=1local integer jset cu=uloopexitwhen tu==nullcall GroupAddUnit(cf,tu)call jG(cu,tu,"CLPB",1)call jG(cu,tu,"CLSB",1)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",tu,"chest"))call uf(u,tu,0,jw,1,false,false,false)set LI=GetUnitLoc(tu)set j=1set nu=nullloopset g=sI(10*j,LI)loopset cu=FirstOfGroup(g)call GroupRemoveUnit(g,cu)exitwhen cu==nullif cu!=tu and SA(u,cu,false,false)and not(IsUnitInGroup(cu,cf))and GetUnitAbilityLevel(cu,1112896364)==0 and GetUnitAbilityLevel(cu,1114993524)==0 and GetUnitAbilityLevel(cu,1112896368)==0 thenset nu=cuexitwhen trueendifendloopcall DestroyGroup(g)exitwhen j>40 or nu!=nullset j=j+1endloopcall RemoveLocation(LI)set cu=tuset tu=nuset jw=lA-lA*.15*iexitwhen i>6set i=i+1endloopcall DestroyGroup(cf)endfunctionfunction ty takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()set ue=tucall NC(u,3,"强力闪电链","howlofterror",true,1093679186)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==3)thencall Sy(u,tu)endifendfunctionfunction Uy takes nothing returns booleanreturn GetSpellAbilityId()==1093678657endfunctionfunction wy takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local real lA=GetRandomReal(200,300)local location LI=GetUnitLoc(tu)call Wf(u,tu,0,lA,0,false,false,true)if not(Av[2])thencall fC(u,tu,2+Le*2)endifcall RemoveLocation(LI)endfunctionfunction yy takes nothing returns booleanreturn GetSpellAbilityId()==1093678661endfunctionfunction Yy takes nothing returns nothinglocal unit u=GetTriggerUnit()call vB(u,1093678662,1110454348,10,true)endfunctionfunction vY takes nothing returns booleanreturn GetSpellAbilityId()==1093678663endfunctionfunction eY takes unit u,unit tu returns nothinglocal real array dset d[1]=500set d[2]=800set d[3]=1100set d[4]=1500if zf(u,tu,d[Le],0,false,false,false)thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",tu,"overhead"))endifendfunctionfunction xY takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()set ue=tucall NC(u,2,"治愈术","holybolt",true,1093678663)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==3)thencall eY(u,tu)endifendfunctionfunction rY takes nothing returns booleanreturn GetSpellAbilityId()==1093678151endfunctionfunction iY takes unit u returns nothinglocal location LI=GetUnitLoc(u)local group glocal unit culocal boolean bcall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",GetUnitX(u),GetUnitY(u)))call DestroyEffect(AddSpecialEffect("war3mapImported\\Desecrate.mdx",GetUnitX(u),GetUnitY(u)))set g=sI(300,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)thenif IsUnitType(cu,UNIT_TYPE_HERO)and(GetUnitState((cu),UNIT_STATE_LIFE))>0 thencall uf(u,cu,0,100+200*Le,0,false,true,false)call SetUnitState((u),UNIT_STATE_LIFE,(((GetUnitState((u),UNIT_STATE_LIFE))+(GetUnitState((u),UNIT_STATE_MAX_LIFE))*.08)*1.))set b=trueelsecall uf(u,cu,0,(100+200*Le),0,false,true,false)endifendifendloopcall RemoveLocation(LI)call DestroyGroup(g)if b thencall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\DeathPact\\DeathPactCaster.mdl",GetUnitX(u),GetUnitY(u)))endifendfunctionfunction aY takes nothing returns nothinglocal unit u=GetTriggerUnit()call NC(u,2.5,"!灵魂践踏","holybolt",false,0)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==3)thencall iY(u)endifendfunctionfunction VY takes nothing returns booleanreturn GetSpellAbilityId()==1093678669endfunctionfunction EY takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1433299316)local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1415672423)if mN(GetUnitX(u),GetUnitY(u),GetUnitX(tu),GetUnitY(tu))<=128 thencall PauseTimer(t)call DestroyTimer(t)call Wf(u,tu,0,GetRandomInt(85,125),0,false,false,true)if not(Av[2])thencall dC(u,tu,1)endifelsecall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",GetUnitX(u),GetUnitY(u)))endifendfunctionfunction XY takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local timer trcall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",GetUnitX(u),GetUnitY(u)))set tr=CreateTimer()call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((tr))))),1433299316,u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((tr))))),1415672423,tu)call TimerStart(tr,.02,true,function EY)call SaveBoolean(Ne,(StringHash(I2S(GetHandleId((u))))),1766027898,true)call NA(u,tu,1000,null)endfunctionfunction RY takes nothing returns booleanreturn GetSpellAbilityId()==1093681977endfunctionfunction IY takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1433299316)local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1415672423)local real lA=GetRandomInt(800,1100)if mN(GetUnitX(u),GetUnitY(u),GetUnitX(tu),GetUnitY(tu))<=128 thencall PauseTimer(t)call DestroyTimer(t)if GetUnitAbilityLevel(tu,1093681985)>0 thenset lA=lA*5endifcall Wf(u,tu,0,lA,0,false,false,false)if not(Av[2])thencall dC(u,tu,.5)call vB(tu,1093681985,1110455368,15,true)endifelsecall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",GetUnitX(u),GetUnitY(u)))endifendfunctionfunction AY takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local timer trcall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",GetUnitX(u),GetUnitY(u)))set tr=CreateTimer()call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((tr))))),1433299316,u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((tr))))),1415672423,tu)call TimerStart(tr,.02,true,function IY)call NA(u,tu,1200,null)endfunctionfunction bY takes nothing returns booleanreturn GetSpellAbilityId()==1093678665endfunctionfunction BY takes unit u returns nothinglocal unit luset lu=CreateUnit(GetOwningPlayer(u),1702327152,GetUnitX(u),GetUnitY(u),0)call UnitApplyTimedLifeBJ(3,1112820806,lu)call UnitAddAbility(lu,1093678667)call IssueImmediateOrderById(lu,852526)endfunctionfunction cY takes nothing returns nothinglocal unit u=GetTriggerUnit()call NC(u,1.5,"连珠火球","holybolt",false,1093678665)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==3)thencall BY(u)endifendfunctionfunction dY takes nothing returns booleanreturn GetSpellAbilityId()==1093678668endfunctionfunction DY takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()call Wf(u,tu,0,GetRandomInt(325,450),0,false,false,true)if not(Av[2])thencall vB(tu,1093678670,1110454350,10,true)endifendfunctionfunction FY takes nothing returns booleanreturn GetSpellAbilityId()==1093678672endfunctionfunction gY takes unit u,unit tu returns nothinglocal location LI=GetUnitLoc(tu)local group g=sI(150,LI)local unit cucall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl",tu,"origin"))loopset cu=FirstOfGroup(g)call GroupRemoveUnit(g,cu)exitwhen cu==nullif SA(u,cu,false,false)thencall uf(u,cu,2,GetRandomInt(0,50)+25*Le,0,false,false,false)endifendloopendfunctionfunction GY takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()set ue=tucall NC(u,3,"烈焰打击","holybolt",true,1093678672)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==3)thencall gY(u,tu)endifendfunctionfunction HY takes nothing returns booleanreturn GetSpellAbilityId()==1093679175endfunctionfunction jY takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer ch=ld(u,tu)call Wf(u,tu,0,1400+Le*300,0,true,false,false)if not((LoadBoolean(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1701669235)))thencall Ld(u,tu,R2I(ch*.5))call mG(tu,200,400,800,GetUnitFacing(u))endifendfunctionfunction kY takes nothing returns booleanreturn GetSpellAbilityId()==1093679178endfunctionfunction KY takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("u"))local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("tu"))local integer c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("c"))local location LI=nulllocal group g=nulllocal timer tr=nulllocal unit cu=nulllocal unit luif VA(u)or GetUnitAbilityLevel(tu,1098282348)>0 or GetUnitAbilityLevel(tu,1093678674)==0 thencall PauseTimer(t)call DestroyTimer(t)call UnitRemoveAbility(tu,1093678674)call UnitRemoveAbility(tu,1110454351)returnendifcall uf(u,tu,0,10+10*Le+(c/ 3)*20,0,true,false,false)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("c"),c+1)endfunctionfunction lY takes nothing returns nothinglocal unit tu=GetTriggerUnit()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetEventDamageSource()))))),StringHash("u"))local timer tif GetUnitAbilityLevel(tu,1110454849)>0 thencall DestroyTrigger(GetTriggeringTrigger())call UnitRemoveAbility(tu,1110454849)if GetUnitAbilityLevel(tu,1093678674)==0 and GetUnitAbilityLevel(tu,1093679182)==0 thenset t=CreateTimer()call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("u"),u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("tu"),tu)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("c"),0)call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),StringHash("A08J_T"),t)call vB(tu,1093678674,1110454351,9999,true)call TimerStart(t,2,true,function KY)endifendifendfunctionfunction LY takes unit u,unit tu returns nothinglocal unit lulocal location LI=GetUnitLoc(u)local trigger tr=CreateTrigger()set lu=eC(u,tu,LI,1093679179,1,"shadowstrike",1)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((lu))))),StringHash("u"),u)call RemoveLocation(LI)call TriggerRegisterUnitEvent(tr,tu,EVENT_UNIT_DAMAGED)call TriggerAddAction(tr,function lY)call gI(5)call DestroyTrigger(tr)endfunctionfunction mY takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()set ue=tucall NC(u,1,"!烈焰焚身","holybolt",true,0)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==3)thencall LY(u,tu)endifendfunctionfunction pY takes nothing returns booleanreturn GetSpellAbilityId()==1093678404endfunctionfunction PY takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("u"))local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("tu"))local location LIlocal group glocal unit cuif VA(u)or GetUnitAbilityLevel(tu,1098282348)>0 or GetUnitAbilityLevel(tu,1093679182)==0 thencall PauseTimer(t)call DestroyTimer(t)call UnitRemoveAbility(tu,1093679182)call UnitRemoveAbility(tu,1110455125)call hB(tu,false)returnendifcall uf(u,tu,0,10+Le*10,0,true,false,false)set LI=GetUnitLoc(tu)set g=sI(150,LI)call GroupRemoveUnit(g,tu)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if GetUnitAbilityLevel(cu,1093678674)>0 and cu!=null thencall DestroyEffect(AddSpecialEffect("FrostNova.MDX",GetUnitX(cu),GetUnitY(cu)))call UnitRemoveAbility(cu,1093678674)call UnitRemoveAbility(cu,1110454351)call DestroyEffect(AddSpecialEffect("FrostNova.MDX",GetUnitX(tu),GetUnitY(tu)))call UnitRemoveAbility(tu,1093679182)call UnitRemoveAbility(tu,1110455125)call hB(tu,false)returnendifendloopcall DestroyGroup(g)call RemoveLocation(LI)endfunctionfunction qY takes nothing returns nothinglocal unit tu=GetTriggerUnit()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((GetEventDamageSource()))))),StringHash("u"))local timer tif GetUnitAbilityLevel(tu,1110454850)>0 thencall DestroyTrigger(GetTriggeringTrigger())call UnitRemoveAbility(tu,1110454850)if GetUnitAbilityLevel(tu,1093678674)==0 and GetUnitAbilityLevel(tu,1093679182)==0 thenset t=CreateTimer()call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("u"),u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("tu"),tu)call vB(tu,1093679182,1110455125,9999,true)call hB(tu,true)call TimerStart(t,1,true,function PY)endifendifendfunctionfunction QY takes unit u,unit tu returns nothinglocal unit lulocal location LI=GetUnitLoc(u)local trigger tr=CreateTrigger()set lu=eC(u,tu,LI,1093678405,1,"shadowstrike",1)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((lu))))),StringHash("u"),u)call RemoveLocation(LI)call TriggerRegisterUnitEvent(tr,tu,EVENT_UNIT_DAMAGED)call TriggerAddAction(tr,function qY)call gI(4)call DestroyTrigger(tr)endfunctionfunction sY takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()set ue=tucall NC(u,.75,"!霜寒箭","howlofterror",true,0)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==3)thencall QY(u,tu)endifendfunctionfunction tY takes nothing returns booleanreturn GetSpellAbilityId()==1093679184endfunctionfunction TY takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit culocal location LI=GetUnitLoc(u)local group g=sI(500,LI)local integer ch=0local real f=0loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if not(IsUnitType(cu,UNIT_TYPE_DEAD))and GetOwningPlayer(cu)!=Vv thenset ch=ld(u,cu)call Ld(u,cu,R2I(ch*.66))set f=bj_RADTODEG*Atan2(GetUnitY(cu)-GetUnitY(u),GetUnitX(cu)-GetUnitX(u))call QG(cu,400,300,500,f)call Wf(u,cu,0,GetRandomInt(300,425),0,false,true,false)endifendloopcall DestroyGroup(g)call RemoveLocation(LI)endfunctionfunction UY takes nothing returns booleanreturn GetSpellAbilityId()==1093679416endfunctionfunction wY takes nothing returns nothinglocal unit u=GetTriggerUnit()set Pe=truecall NC(u,15,"钳住","magicleash",false,1093679416)endfunctionfunction yY takes nothing returns booleanreturn GetUnitAbilityLevel(GetTriggerUnit(),1093679417)>0endfunctionfunction YY takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit lu=CreateUnit(GetOwningPlayer(u),1869636975,GetUnitX(u),GetUnitY(u),0)local location LI=GetUnitLoc(lu)local group glocal unit culocal real array dlocal timer t=CreateTimer()set d[1]=25set d[2]=50set d[3]=90set d[4]=200call UnitApplyTimedLife(lu,1112045413,20)loopexitwhen VA(lu)call XA(2)set g=sI(200,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(lu,cu,false,false)and(not(zc((cu),(1093679417))>0))thencall uf(lu,cu,0,d[Le],0,false,true,false)call yc(cu,1093679417,2)endifendloopcall DestroyGroup(g)endloopcall RemoveLocation(LI)endfunctionfunction ZY takes nothing returns booleanreturn GetSpellAbilityId()==1093678913endfunctionfunction vz takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit culocal location LI=GetUnitLoc(u)local group g=sI(500,LI)call KI(300,LI,function oj)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,true)thencall Wf(u,cu,0,GetRandomInt(75,100)+100*Le,0,false,true,false)endifendloopcall DestroyGroup(g)call RemoveLocation(LI)endfunctionfunction xz takes nothing returns booleanreturn GetSpellAbilityId()==1093678659endfunctionfunction oz takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit culocal location LI=GetUnitLoc(u)local group g=sI(350,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,true)thencall Wf(u,cu,0,GetRandomInt(250,325)+150*Le,0,false,true,false)endifendloopcall DestroyGroup(g)call RemoveLocation(LI)endfunctionfunction iz takes nothing returns booleanreturn GetSpellAbilityId()==1093678914endfunctionfunction az takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()call Wf(u,tu,0,GetRandomInt(125,200)+Le*100,0,false,true,true)endfunctionfunction Vz takes nothing returns booleanreturn GetUnitAbilityLevel(GetTriggerUnit(),1093679425)>0endfunctionfunction Ez takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("u"))local unit au=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("au"))if GetUnitAbilityLevel(u,1093679426)==0 or LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((u))))),960648264)!=t thencall PauseTimer(t)call DestroyTimer(t)returnendifcall uf(au,u,0,(10+Le*10)*LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),960644166),0,false,true,false)endfunctionfunction Xz takes nothing returns nothinglocal unit u=GetTriggerUnit()local location LI=GetUnitLoc(u)local group glocal unit culocal timer tcall DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Demon\\DemonLargeDeathExplode\\DemonLargeDeathExplode.mdl",GetUnitX(u),GetUnitY(u)))set g=sI(300,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)thenif GetUnitAbilityLevel(cu,1093679426)==0 thenset t=CreateTimer()call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("u"),cu)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("au"),cu)call TimerStart(t,3,true,function Ez)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((cu))))),960644166,1)call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((cu))))),960648264,t)elseif Le>1 thencall SaveInteger(Ne,(StringHash(I2S(GetHandleId((cu))))),960644166,LoadInteger(Ne,(StringHash(I2S(GetHandleId((cu))))),960644166)+1)endifcall vB(cu,1093679426,1110454611,30.1,true)endifendloopcall DestroyGroup(g)call RemoveLocation(LI)endfunctionfunction Rz takes nothing returns booleanreturn GetSpellAbilityId()==1093679434endfunctionfunction Iz takes unit u returns nothinglocal location LIlocal group glocal unit culocal integer i=1set LI=GetUnitLoc(u)set g=sI(1600,LI)loopexitwhen i>2loopset cu=GroupPickRandomUnit(g)exitwhen(SA(u,cu,false,false)and IsUnitType(cu,UNIT_TYPE_HERO)and GetUnitAbilityLevel(cu,1093679438)==0)or cu==nullcall GroupRemoveUnit(g,cu)endloopexitwhen cu==nullcall vB(cu,1093679438,1110454861,10,true)set i=i+1endloopcall DestroyGroup(g)call RemoveLocation(LI)endfunctionfunction Az takes nothing returns nothinglocal unit u=GetTriggerUnit()call NC(u,1,"!法术反冲","howlofterror",false,0)if(LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==3)thencall Iz(u)endifendfunctionfunction bz takes nothing returns booleanreturn GetUnitAbilityLevel(GetTriggerUnit(),1093679438)>0endfunctionfunction Bz takes nothing returns nothinglocal timer t=GetExpiredTimer()local real m=LoadReal(Ne,(StringHash(I2S(GetHandleId((t))))),1835101793)local real lA=0local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1433299316)set lA=m-(GetUnitState((u),UNIT_STATE_MANA))call SetUnitState((u),UNIT_STATE_MANA,(((GetUnitState((u),UNIT_STATE_MANA))-lA*2)*1.))call uf(u,u,0,lA*8,0,false,false,false)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Polymorph\\PolyMorphDoneGround.mdl",u,"overhead"))call DestroyTimer(t)endfunctionfunction Cz takes nothing returns nothinglocal timer t=CreateTimer()local unit u=GetTriggerUnit()call SaveReal(Ne,(StringHash(I2S(GetHandleId((t))))),1835101793,(GetUnitState((u),UNIT_STATE_MANA)))call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),1433299316,u)call TimerStart(t,.01,false,function Bz)endfunctionfunction Dz takes nothing returns booleanreturn GetSpellAbilityId()==1093681715endfunctionfunction fz takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()set Pe=trueset Ue=falsecall NC(u,4,"生命吸取","drain",true,1093681715)loopexitwhen not((LoadInteger(Ne,(StringHash(I2S(GetHandleId(((u)))))),1937012083)==1))or OrderId2String(GetUnitCurrentOrder(u))!="drain"call uf(u,tu,0,125+Le*75,0,false,false,false)call zf(tu,u,Iv*3,0,false,false,false)call XA(.9)endloopendfunctionfunction gz takes nothing returns booleanreturn GetSpellAbilityId()==1093679440endfunctionfunction Gz takes nothing returns nothinglocal unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((DO))))),1970170228)local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((DO))))),1952543335)local location LI=GetUnitLoc(tu)local group glocal integer i=1local unit culocal unit array ulloopexitwhen i>8set ul[i]=CreateUnit(GetOwningPlayer(u),1697656881,GetLocationX(LI),GetLocationY(LI),0)set i=i+1call XA(.5)endloopset i=1loopexitwhen i>8call KillUnit(ul[i])set i=i+1endloopcall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",GetLocationX(LI),GetLocationY(LI)))call DestroyEffect(AddSpecialEffect("war3mapImported\\Desecrate.mdx",GetLocationX(LI),GetLocationY(LI)))set g=sI(175,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)thencall uf(u,cu,0,200+200*Le,0,false,true,false)call dC(u,cu,1)endifendloopcall RemoveLocation(LI)call DestroyGroup(g)endfunctionfunction Hz takes nothing returns booleanreturn GetSpellAbilityId()==1093679446 and(GetUnitTypeId(GetTriggerUnit())!=1702327152)endfunctionfunction jz takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("u"))local unit tu=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("tu"))local integer c=LoadInteger(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("c"))local real h=1000+Le*500local timer Jz=LoadTimerHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),1093679446)if GetUnitAbilityLevel(tu,1114793322)==0 or c>6 or t!=Jz thencall PauseTimer(t)call DestroyTimer(t)returnendifset c=c+1call zf(u,tu,h,0,true,false,false)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("c"),c)endfunctionfunction kz takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local timer t=CreateTimer()call SaveTimerHandle(Ne,(StringHash(I2S(GetHandleId((tu))))),1093679446,t)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("u"),u)call SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("tu"),tu)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((t))))),StringHash("c"),1)call TimerStart(t,3,true,function jz)endfunctionfunction lz takes nothing returns booleanreturn GetUnitAbilityLevel(GetTriggerUnit(),1093681465)>0endfunctionfunction Lz takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit culocal location LI=GetUnitLoc(u)local group g=sI(400,LI)local integer iset i=1loopexitwhen i>8call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodLarge0.mdl",GetUnitX(u)+192*Cos(i*45*bj_DEGTORAD),GetUnitY(u)+192*Sin(i*45*bj_DEGTORAD)))set i=i+1endloopcall DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Demon\\DemonLargeDeathExplode\\DemonLargeDeathExplode.mdl",GetUnitX(u),GetUnitY(u)))loopset cu=FirstOfGroup(g)exitwhen cu==nullif SA(u,cu,false,false)thencall vB(cu,1093681474,1110455109,10,true)call Wf(u,cu,0,300+Le*100,0,false,true,false)elseif GetUnitTypeId(cu)==1966092336 thencall SetUnitMoveSpeed(cu,GetUnitDefaultMoveSpeed(cu))call SetUnitState((cu),UNIT_STATE_LIFE,(((GetUnitState((cu),UNIT_STATE_LIFE))+(GetUnitState((cu),UNIT_STATE_MAX_LIFE))*.02)*1.))endifcall GroupRemoveUnit(g,cu)endloopcall RemoveLocation(LI)call DestroyGroup(g)endfunctionfunction Mz takes nothing returns nothinglocal unit u=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((gO))))),1433299316)local location LIlocal group glocal unit cucall UnitAddAbility(u,1093681476)loopexitwhen IsUnitType(u,UNIT_TYPE_DEAD)call XA(1)set LI=GetUnitLoc(u)set g=sI(300,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if GetOwningPlayer(cu)!=Vv and IsUnitAliveBJ(cu)thencall uf(u,cu,0,GetRandomInt(15,25)+10*Le,0,false,true,false)endifendloopcall DestroyGroup(g)call RemoveLocation(LI)endloopendfunctionfunction Pz takes nothing returns booleanreturn GetUnitAbilityLevel(GetTriggerUnit(),1093681746)>0endfunctionfunction qz takes nothing returns nothinglocal unit u=GetTriggerUnit()local location LI=GetUnitLoc(u)local group g=nulllocal integer i=1local unit cu=nullloopexitwhen i>60set g=sI(256,LI)loopset cu=FirstOfGroup(g)exitwhen cu==nullcall GroupRemoveUnit(g,cu)if SA(u,cu,false,false)thencall uf(u,cu,pR,200+Le*50,0,false,false,false)endifendloopcall DestroyGroup(g)set i=i+1call XA(1)endloopcall KillUnit(u)call RemoveLocation(LI)endfunctionfunction sz takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit ku=GetKillingUnit()local integer ilocal integer uv=GetUnitPointValue(u)local integer lv=GetUnitLevel(u)local integer VB=GetUnitTypeId(u)local real mlocal location LI=GetUnitLoc(u)local player p=GetOwningPlayer(ku)local real x=0local real y=0local real mb=1call Jf(u)if GetUnitTypeId(u)==1702327152 or ku==null thenreturnendifif GetOwningPlayer(u)!=Vv or uv==100 thenreturnendifif LoadBoolean(Ne,(StringHash(I2S(GetHandleId((u))))),1852665710)thenreturnendifif GetUnitTypeId(u)==1853252716 or ku==null thencall kb(null,20)returnendifif Le>=4 thenset mb=2endifset m=GetRandomReal(uv*.8,uv*1)call BA(GetOwningPlayer(ku),GetOwningPlayer(ku),"+"+I2S(R2I(m)),LI,10,GetUnitFlyHeight(u)+80,90,1,192,192,0,2)call zb(null,R2I(m/ Qe*mb),true)set i=1loopexitwhen i>3call RandomDistReset()call RandomDistAddItem(1953723506,3)call RandomDistAddItem(1952736632,3)call RandomDistAddItem(1953066612,3)call RandomDistAddItem(1919247408,3)call RandomDistAddItem(ChooseRandomItemEx(ITEM_TYPE_ARTIFACT,1),10)call RandomDistAddItem(ChooseRandomItemEx(ITEM_TYPE_ARTIFACT,2),30)call RandomDistAddItem(1819107954,1)call RandomDistAddItem(1818784628,1)call RandomDistAddItem(1885826401,4)call RandomDistAddItem(1886287477,4)call RandomDistAddItem(1684760183,4)call RandomDistAddItem(1652187749,4)call RandomDistAddItem(1918989414,4)call RandomDistAddItem(1803118440,4)call RandomDistAddItem(1818584167,4)call RandomDistAddItem(0,10000*i)call CreateItem(RandomDistChoose(),GetUnitX(u),GetUnitY(u))set i=i+1endloopif IsUnitType(u,UNIT_TYPE_ANCIENT)thencall RandomDistReset()call RandomDistAddItem(ChooseRandomItemEx(ITEM_TYPE_ARTIFACT,2),30*Le)call RandomDistAddItem(ChooseRandomItemEx(ITEM_TYPE_ARTIFACT,3),15*Le)call RandomDistAddItem(ChooseRandomItemEx(ITEM_TYPE_ARTIFACT,4),5*Le)call RandomDistAddItem(0,300-(Le*15))call CreateItem(RandomDistChoose(),GetUnitX(u),GetUnitY(u))endifif VB==1852272239 thenset i=1loopexitwhen i>12set x=GetUnitX(u)+GetRandomInt(-64,64)set y=GetUnitY(u)+GetRandomInt(-64,64)call SetItemUserData(CreateItem(1735355492,x,y),GetRandomInt(36,48))call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl",x,y))set i=i+1endloopendifif VB==1852534636 thencall RandomDistReset()call RandomDistAddItem(ChooseRandomItemEx(ITEM_TYPE_ARTIFACT,3),1)call CreateItem(RandomDistChoose(),GetUnitX(u),GetUnitY(u))endifreturnif VB==1852272246 thencall RandomDistReset()call RandomDistAddItem(2002874980,33)call RandomDistAddItem(1719104371,33)call RandomDistAddItem(1936943468,33)call CreateItem(RandomDistChoose(),GetUnitX(u),GetUnitY(u))endifif VB==1851944036 thencall RandomDistReset()call RandomDistAddItem(1936879474,33)call RandomDistAddItem(1650814070,33)call RandomDistAddItem(1802529134,33)call RandomDistAddItem(1919707494,33)call CreateItem(RandomDistChoose(),GetUnitX(u),GetUnitY(u))endifif VB==1853321831 thencall RandomDistReset()call RandomDistAddItem(1650946932,33)call RandomDistAddItem(1869375794,33)call RandomDistAddItem(1684370275,33)call RandomDistAddItem(1802529134,33)call CreateItem(RandomDistChoose(),GetUnitX(u),GetUnitY(u))endifif VB==1852336242 thencall RandomDistReset()call RandomDistAddItem(1718378855,50)call RandomDistAddItem(1667460452,50)call CreateItem(RandomDistChoose(),GetUnitX(u),GetUnitY(u))endifif VB==1852732279 thencall RandomDistReset()call RandomDistAddItem(1886549620,25)call CreateItem(RandomDistChoose(),GetUnitX(u),GetUnitY(u))endifif VB==1970498405 thencall RandomDistReset()call RandomDistAddItem(1735160683,25)call CreateItem(RandomDistChoose(),GetUnitX(u),GetUnitY(u))endifendfunctionfunction tz takes nothing returns nothinglocal player p=GetTriggerPlayer()local integer i=((1+GetPlayerId((p))))local integer f=ae[i]local integer zj=25*80if f==0 thenset Ve[i]=UC(zj)call SetPlayerState(p,PLAYER_STATE_RESOURCE_LUMBER,Ve[i])call eN(null,0,0,15,false,"|cffffee00"+Lb(p)+"|r获得了|cffffee00"+I2S(zj)+"|r "+GetObjectName(1751868773)+"的奖励")call Kb(p,zj)call uC(i)call wC(Nv[i],UC(zj))endifendfunctionfunction Uz takes nothing returns nothinglocal player p=GetTriggerPlayer()local integer i=((1+GetPlayerId((p))))local string n=Lb(p)local integer f=ae[i]local string s=ZC(n,f,true)if ae[i+16]!=0 thenreturnendifif he[i]thencall eN((p),0,0,60,false,"|cffffee00你的战绩系统被禁用了,因此无法使用或者保存战绩|r")returnendifloopexitwhen Vd(Lb(p),s,true)>=0set s=ZC(n,f,true)endloopset ae[i+16]=1call eN(p,0,0,99999,false,"你的战绩为|cffffee00"+I2S(f)+"|r 战绩密码:"+WC(s))endfunctionfunction yz takes nothing returns nothinglocal player p=GetTriggerPlayer()local string s=tC(SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString())))local integer f=0local integer r=0local integer id=((1+GetPlayerId((p))))if(ae[((1+GetPlayerId(((p)))))])>0 or Lv>0 or jR>1 thenreturnendifif he[((1+GetPlayerId((p))))]thencall eN((p),0,0,60,false,"|cffffee00你的战绩系统被禁用了,因此无法使用或者保存战绩|r")returnendifif Lb(p)=="[]ele4.uuu9.com" thencall eN((p),0,0,60,false,"|cffffee00你的战绩系统被禁用了,因此无法使用或者保存战绩|r")returnendifif s=="" thenreturnendifset f=Vd(Lb(p),s,false)if f>0 and f<MR thenset r=UC(f)set Ve[id]=rcall eN(p,0,0,15,false,"|cff7070b0战绩验证成功,您的战绩为:|r|cffffee00"+I2S(f)+"|r")call eN(p,0,0,15,false,"|cff7070b0Rank等级为:|r|cffffee00"+I2S(r)+"|r")call eN(p,0,0,15,false,"|cffffee00注意！该战绩为旧版本战绩,无法在该版本使用,请到ele4.uuu9.com更换新版本战绩|r")returnendifset f=Vd(Lb(p),s,true)if f>0 and f<MR thenset K=trueset r=UC(f)set Ve[id]=rcall Kb(p,f)call SetPlayerState(p,PLAYER_STATE_RESOURCE_LUMBER,r)call eN(p,0,0,15,false,"|cff7070b0战绩验证成功,您的战绩为:|r|cffffee00"+I2S(f)+"|r")call eN(p,0,0,15,false,"|cff7070b0Rank等级为:|r|cffffee00"+I2S(r)+"|r")call ob(id-1,"战绩b",1)call uC(id)call wC(Nv[id],r)elsecall eN(p,0,0,15,false,"|cff7070b0无效的战绩密码|r")endifendfunctionfunction zz takes nothing returns nothinglocal integer i=1local player ploopexitwhen i>11set p=(Player(-1+((i))))if GetPlayerSlotState(p)==PLAYER_SLOT_STATE_PLAYING and GetPlayerController(p)==MAP_CONTROL_USER and ae[i]>0 thenif Od(i,ae[i])thencall bA("Save 11 ok("+I2S(ae[i])+")",5)elsecall bA("Save 11 error",5)endifendifset i=i+1endloopendfunctionfunction vZ takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())==1211117616)endfunctionfunction eZ takes nothing returns nothingcall SetUnitAnimation(GetTriggerUnit(),"attack")endfunctionfunction oZ takes nothing returns nothinglocal integer array rZlocal integer array iZlocal unit u=GetBuyingUnit()local item it=GetSoldItem()local player p=GetOwningPlayer(u)local integer i=((1+GetPlayerId((p))))local integer c=1local integer id=GetItemTypeId(it)if GetSellingUnit()!=CR thenreturnendifset rZ[1]=1885889889set iZ[1]=1set rZ[2]=1936941422set iZ[2]=3set rZ[3]=1953719156set iZ[3]=3set rZ[4]=1886287468set iZ[4]=3set rZ[5]=1952807024set iZ[5]=2set rZ[6]=1936548206set iZ[6]=5set rZ[7]=1886151532set iZ[7]=5set rZ[8]=1885891700set iZ[8]=1loopexitwhen rZ[c]==null or id==rZ[c]set c=c+1endloopif Ve[i]>=iZ[c]thenset Ve[i]=Ve[i]-iZ[c]elsecall RemoveItem(it)endifcall DisableTrigger(mO)call SetPlayerStateBJ(p,PLAYER_STATE_RESOURCE_LUMBER,Ve[i])call EnableTrigger(mO)endfunctionfunction nZ takes nothing returns nothingcall SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER,Ve[(1+GetPlayerId(GetTriggerPlayer()))])endfunctionfunction EZ takes nothing returns booleanreturn GetOwningPlayer(GetTriggerUnit())!=Vv and IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)endfunctionfunction XZ takes nothing returns nothinglocal group g=LoadGroupHandle(Ne,(StringHash(I2S(GetHandleId((GetTriggerUnit()))))),StringHash("SummedGroup"))if g!=null thencall GroupRemoveUnit(g,GetTriggerUnit())endifendfunctionfunction RZ takes nothing returns nothingif GetOwningPlayer(GetAttacker())!=Vv and GetTriggerUnit()!=DR thenif IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))thencall IssueImmediateOrderById(GetAttacker(),851972)endifelseif GetUnitAbilityLevel(GetAttacker(),1093679431)>0 or GetUnitAbilityLevel(GetAttacker(),1093681720)>0 thencall IssueTargetOrderById(GetAttacker(),851983,GetTriggerUnit())call SetUnitAnimation(GetAttacker(),"attack")endifendfunctionfunction ClearUnit takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction AZ takes nothing returns nothinglocal unit pu=GetEnumUnit()call Ld(pu,RI,0)endfunctionfunction NZ takes nothing returns nothinglocal unit u=GetTriggerUnit()local location LI=nulllocal player p=GetOwningPlayer(u)local group g=nulllocal integer ilocal real mpif RectContainsUnit(ox,u)and IsUnitType(u,UNIT_TYPE_HERO)thencall ReviveHero(u,GetUnitX(u),GetUnitY(u),true)call SetUnitState((u),UNIT_STATE_LIFE,((1718971500)*1.))call SelectUnitForPlayerSingle(u,GetOwningPlayer(u))returnendifif GetUnitAbilityLevel(u,1093681730)>0 thencall ForGroup(hv,function AZ)call UnitRemoveAbility(u,1093681730)call UnitRemoveAbility(u,1093678129)call ReviveHero(u,GetUnitX(u),GetUnitY(u),true)call UnitAddItem(u,CreateItem(1935897964,GetUnitX(u),GetUnitY(u)))call SelectUnitForPlayerSingle(u,GetOwningPlayer(u))set RI=ucall ForGroupBJ(hv,function AZ)if GetLocalPlayer()==p thencall eN(null,0,0,10,false,"|cffffee00您的重生十字章发出了闪烁的光芒!|r")elsecall eN(null,0,0,10,false,"|cffffee00"+Lb(p)+"|r的重生十字章发出了闪烁的光芒!")endifcall XA(.1)call SetUnitState((u),UNIT_STATE_MANA,((LoadReal(Ne,(StringHash(I2S(GetHandleId((u))))),1315917136))*1.))returnendifcall mf(u)if not(IsUnitType(u,UNIT_TYPE_HERO))thenreturnendifset qe=qe-1set be=FALSEset Se=falseset vx=falseif GetLocalPlayer()==p thencall eN(null,0,0,10,false,"|cffffee00您已经死亡，您很快就能够复活.|r")elsecall eN(null,0,0,10,false,"|cffffee00"+Lb(p)+"|r已经死亡!")endifif qe<=0 thencall TriggerExecute(sE)endifendfunctionfunction BZ takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)!=null)endfunctionfunction cZ takes nothing returns nothinglocal player p=GetTriggerPlayer()local integer n=((1+GetPlayerId((p))))local unit u=GetTriggerUnit()set Je[n]=uendfunctionfunction dZ takes nothing returns nothinglocal integer i=0local integer j=0local integer m=0local player p=nulllocal player fp=nullset j=1loopexitwhen j>hRset fp=(Player(-1+((j))))set m=0if GetPlayerSlotState(fp)==PLAYER_SLOT_STATE_LEFT and Nv[j]!=null and(IsUnitType((Nv[j]),UNIT_TYPE_HERO))thenset m=GetPlayerState(fp,PLAYER_STATE_RESOURCE_GOLD)elseif GetPlayerController(fp)==MAP_CONTROL_COMPUTER thenset m=R2I(GetPlayerState(fp,PLAYER_STATE_RESOURCE_GOLD)*(1-(I2R(wb())*.07)))endifif m>0 thenset i=1loopexitwhen i>hRset p=Player(-1+(i))if GetPlayerController(p)==MAP_CONTROL_USER and GetPlayerSlotState(p)==PLAYER_SLOT_STATE_PLAYING thencall AdjustPlayerStateBJ(m/ IMinBJ(Sv,8),p,PLAYER_STATE_RESOURCE_GOLD)endifset i=i+1endloopcall SetPlayerStateBJ(fp,PLAYER_STATE_RESOURCE_GOLD,ModuloInteger(GetPlayerState(fp,PLAYER_STATE_RESOURCE_GOLD),IMinBJ(Sv,8)))endifset j=j+1endloopendfunctionfunction fZ takes integer p,unit u returns nothinglocal integer i=((1+GetPlayerId((GetOwningPlayer(u)))))local unit cu=nulllocal unit ku=nullcall SetUnitOwner(u,(Player(-1+((p)))),true)call RemoveUnit(Nv[p])set Nv[p]=uset Nv[i]=nullset ku=LoadUnitHandle(Ne,1852010352,i)call SetUnitOwner(ku,(Player(-1+((p)))),true)call SaveUnitHandle(Ne,1852010352,p,ku)endfunctionfunction FZ takes nothing returns nothinglocal integer ilocal player p=GetTriggerPlayer()local integer pi=((1+GetPlayerId((p))))local boolean js=falselocal integer c=0if not IsUnitType(Nv[pi],UNIT_TYPE_HERO)thenreturnendifcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,("|cffffee00"+(Lb(GetTriggerPlayer())+"|r仓皇的逃跑了!")))set i=hRloopexitwhen i<GR or jsif GetPlayerSlotState((Player(-1+((i)))))==PLAYER_SLOT_STATE_PLAYING and GetPlayerController((Player(-1+((i)))))==MAP_CONTROL_USER and(not(IsUnitType(Nv[(i)],UNIT_TYPE_HERO)))thencall fZ(i,Nv[pi])if GetLocalPlayer()!=(Player(-1+((i))))thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,("|cffffee00"+(Lb((Player(-1+((i)))))+"|r接手了他的英雄!")))elsecall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,("|r你接手了|cffffee00"+(Lb(p))+"的英雄"))endifcall SetPlayerStateBJ((Player(-1+((i)))),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD))call SetPlayerStateBJ(p,PLAYER_STATE_RESOURCE_GOLD,0)set js=trueendifset i=i-1endloopif not js thenset c=hRset i=1loopexitwhen i>ccall SetPlayerAllianceStateBJ(GetTriggerPlayer(),(Player(-1+((i)))),4)set i=i+1endloopendifif sv==GetTriggerPlayer()thencall Wb()endifset Sv=ub()endfunctionfunction GZ takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit ku=GetKillingUnit()local player p=GetOwningPlayer(ku)local integer i=((1+GetPlayerId((p))))if jA(p)and ku!=null and not(jA(GetOwningPlayer(u)))thencall QuestSetCompleted(Ee[1],true)call PlaySoundBJ(Nr)call eN(null,0,0,10,false,"|cffffee00"+Lb(p)+"|r完成了成就|cff8080d0第一块肉|r奖励|cffffee0050金币 1点技能点 战绩+10 |r")call Tc(Nv[i],1)call zb(p,50,false)call kb(p,10)call DestroyTrigger(SO)endifendfunctionfunction HZ takes nothing returns nothinglocal unit u=GetKillingUnit()local player p=GetOwningPlayer(u)local integer l=LoadInteger(Ne,1096167474,1818588780)if CountUnitsInGroup(hv)==0 and TimerGetElapsed(Mv)<=25 and u!=null thenset l=l+1call SaveInteger(Ne,1096167474,1818588780,l)call PlaySoundBJ(Nr)call eN(null,0,0,10,false,"您的队伍完成了成就|cff8080d0迅速清扫"+OA(l)+"|r奖励|cffffee0050金币 战绩+10|r")call QuestSetTitle(Ee[2],"迅速清扫"+OA(l+1))call zb(null,50,false)call kb(null,10)endifendfunctionfunction JZ takes nothing returns nothinglocal unit u=GetKillingUnit()local player p=GetOwningPlayer(u)local unit tu=GetTriggerUnit()if Ef(tu,false)and u==BR and GetUnitTypeId(tu)==1852139641 thencall QuestSetCompleted(Ee[3],true)call eN(null,0,0,10,false,"您的队伍完成了成就|cff8080d0炸药专家|r奖励|cffffee00200金币|r受到炸药伤害降低50% 1点技能点 战绩+15 ")call uc(1)call zb(null,200,false)call kb(null,15)call PlaySoundBJ(Nr)set TO=nullcall DestroyTrigger(TO)endifendfunctionfunction KZ takes nothing returns integerlocal integer c=0local integer i=1loopexitwhen i>hRif Nv[i]!=null and(IsUnitType((Nv[i]),UNIT_TYPE_HERO))and not(VA(Nv[i]))and(GetUnitState((Nv[i]),UNIT_STATE_LIFE))>0 thenset c=c+1endifset i=i+1endloopreturn cendfunctionfunction lZ takes nothing returns nothinglocal unit ku=GetKillingUnit()local player p=GetOwningPlayer(ku)if KZ()<3 and Ef(GetTriggerUnit(),false)thencall QuestSetCompleted(Ee[4],true)call eN(null,0,0,10,false,"您的队伍完成了成就|cff8080d0力挽狂澜|r奖励|cffffee00200金币|r 全体2点技能点 战绩+20")call uc(2)call kb(p,20)call zb(p,200,false)call PlaySoundBJ(Nr)call DestroyTrigger(uO)endifendfunctionfunction mZ takes nothing returns nothinglocal unit u=GetKillingUnit()local unit du=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer c=0if GetUnitTypeId(du)==1853323876 and Ef(du,false)and ve[5]>5 thencall DestroyTrigger(wO)call QuestSetCompleted(Ee[5],true)set c=IMinBJ(6,(Le+(ve[5]-2)/ 4)-1)call eN(null,0,0,10,false,"您的队伍完成了成就|cff8080d0通通都干掉!|r奖励|cffffee00"+I2S(c)+"点技能点|r 战绩+20")call kb(null,20)call uc(c)call PlaySoundBJ(Nr)call DestroyTrigger(UO)call DestroyTrigger(wO)endifendfunctionfunction pZ takes nothing returns nothinglocal unit u=GetKillingUnit()local unit du=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer iif GetUnitTypeId(du)==1848651826 and u!=null thenset ve[5]=ve[5]+1call eN(null,0,0,5,false,"已杀死火焰爪牙|cffffee00"+I2S(ve[5])+"|r个")endifendfunctionfunction qZ takes nothing returns nothinglocal unit ku=GetKillingUnit()local unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)if GetUnitTypeId(u)==1853125223 and Ef(u,false)and ve[6]==1 thencall QuestSetCompleted(Ee[6],true)call eN(null,0,0,10,false,"您的队伍完成了成就|cff8080d0儿孙满堂|r奖励|cffffee00可以在消耗品商人处购买重生十字章|r 战绩+10")call kb(null,10)call PlaySoundBJ(Nr)call DestroyTrigger(WO)call DestroyTrigger(yO)endifendfunctionfunction sZ takes nothing returns nothinglocal unit u=GetKillingUnit()local unit du=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer iif GetUnitTypeId(du)==1853125236 and u!=null thenset ve[6]=0endifendfunctionfunction tZ takes nothing returns nothinglocal unit TZ=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((YO))))),StringHash("AV7TU"))local player p=GetOwningPlayer(TZ)local item itcall QuestSetCompleted(Ee[7],true)call eN(null,0,0,10,false,"|cffffee00"+Lb(p)+"|r完成了成就|cff8080d0你的脸真黑|r奖励|cffffee00远古石块 2点技能点 战绩+10|r ")call kb(p,10)call Tc(TZ,2)call Sc(TZ,1986290796)call PlaySoundBJ(Nr)call DestroyTrigger(YO)call DestroyTrigger(zO)endfunctionfunction UZ takes nothing returns booleanreturn GetSpellAbilityId()==1094939746 and Ef(GetTriggerUnit(),false)endfunctionfunction wZ takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit tu=GetSpellTargetUnit()local integer WZ=0local unit TZ=nullif IsTriggerEnabled(YO)thenset TZ=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("AV7U"))set WZ=LoadInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("AV7C"))if TZ==tu thenset WZ=WZ+1elseset WZ=1endifcall eN(GetOwningPlayer(tu),0,0,5,false,"连续被投石命中|cffffee00("+I2S(WZ)+"/3)|r")if WZ>2 thencall SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((YO))))),StringHash("AV7TU"),tu)call TriggerExecute(YO)endifcall SaveUnitHandle(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("AV7U"),tu)call SaveInteger(Ne,(StringHash(I2S(GetHandleId((u))))),StringHash("AV7C"),WZ)endifendfunctionfunction YZ takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer iif GetUnitTypeId(u)==1970498405 and Ef(u,false)and ve[8]==0 and not(LoadBoolean(Ne,(StringHash(I2S(GetHandleId((u))))),1766027898))thencall QuestSetCompleted(Ee[8],true)call eN(null,0,0,10,false,"您的队伍完成了成就|cff8080d0冲锋危机|r奖励|cffffee00团队生命上限提高5% 战绩+10|r ")call kb(null,10)set i=1loopexitwhen i>GRcall SetPlayerHandicap((Player(-1+((i)))),1.05)set i=i+1endloopcall PlaySoundBJ(Nr)call DestroyTrigger(ZO)endifendfunctionfunction ZZ takes nothing returns nothinglocal unit TZ=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((vR))))),StringHash("AV9TU"))local player p=GetOwningPlayer(TZ)set II=II+3call QuestSetTitle(Ee[14],"炸药狂人"+OA(II/ 5))call QuestSetDescription(Ee[14],"达成条件：在15秒内被|cffffee00"+I2S(II)+"|r个炸药炸到并且不死。
成就奖励：奖励150金币 1点技能点 战绩+10")call PlaySoundBJ(Nr)call eN(null,0,0,10,false,"|cffffee00"+Lb(p)+"|r完成了成就|cff8080d0炸药狂人|r奖励|cffffee00150金币 1点技能点 战绩+10|r")call Tc(TZ,1)call zb(p,150,false)call kb(p,10)endfunctionfunction e0 takes nothing returns nothinglocal unit TZ=LoadUnitHandle(Ne,(StringHash(I2S(GetHandleId((eR))))),StringHash("AV10TU"))local player p=GetOwningPlayer(TZ)local item itlocal integer i=0set eR=nullcall QuestSetCompleted(Ee[10],true)call eN(null,0,0,10,false,"|cffffee00"+Lb(p)+"|r完成了成就|cff8080d0挖宝大师|r奖励|cffffee00挖宝大师的锄头 战绩+10|r")call kb(p,10)loopexitwhen i>5set it=UnitItemInSlot(TZ,i)if GetItemTypeId(it)==1920298352 thencall RemoveItem(it)exitwhen trueendifset i=i+1endloopcall Sc(TZ,1668180078)call PlaySoundBJ(Nr)call DestroyTrigger(eR)endfunctionfunction o0 takes nothing returns nothinglocal unit u=GetTriggerUnit()local item itif not(Ef(u,false))or GetUnitTypeId(u)!=1852534636 or AI thenreturnendifcall DestroyTrigger(xR)call QuestSetCompleted(Ee[11],true)call PlaySoundBJ(Nr)call eN(null,0,0,10,false,"|cffffee00您的队伍|r完成了成就|cff8080d0天谴之谜|r奖励|cffffee00战绩+200|r")call kb(null,200)endfunctionfunction i0 takes nothing returns nothinglocal unit ku=GetKillingUnit()local unit u=GetTriggerUnit()if GetUnitTypeId(u)==1853056866 and Ef(u,false)and ZA()<1 and vx thencall QuestSetCompleted(Ee[12],true)call eN(null,0,0,10,false,"您的队伍完成了成就|cff8080d0无奶也是娘|r奖励|cffffee00每人100金币|r 战绩+10")call zb(null,100,false)call kb(null,10)call PlaySoundBJ(Nr)call DestroyTrigger(oR)endifendfunctionfunction n0 takes nothing returns booleanreturn Ef(GetTriggerUnit(),false)and jA(GetOwningPlayer(GetKillingUnit()))endfunctionfunction V0 takes nothing returns nothinglocal unit TZ=GetKillingUnit()local unit u=GetTriggerUnit()local player p=GetOwningPlayer(TZ)local item itif Re==p thenset Ie=Ie+1elseset Ie=1set Re=pendifcall eN(p,0,0,5,false,"连续最后一击杀死首领|cffffee00("+I2S(Ie)+"/3)|r")if Ie>=3 thencall DestroyTrigger(rR)call QuestSetCompleted(Ee[13],true)call PlaySoundBJ(Nr)call eN(null,0,0,10,false,"|cffffee00"+Lb(p)+"|r完成了成就|cff8080d0首领杀手|r奖励|cffffee00首领杀手 2点技能点 战绩+10|r ")call Tc(TZ,2)call kb(p,10)call Sc(TZ,1685350498)endifendfunctionfunction X0 takes nothing returns booleanreturn GetOwningPlayer(GetTriggerUnit())==Vv and GetKillingUnit()!=nullendfunctionfunction O0 takes nothing returns nothinglocal unit u=GetKillingUnit()local unit tu=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=((1+GetPlayerId((p))))local integer c=0local integer l=0local integer array R0local string array wzset R0[0]=20set R0[1]=50set R0[2]=100set R0[3]=200set R0[4]=500set R0[5]=1000set R0[6]=2000set R0[7]=5000set l=LoadInteger(Ne,1096167732,1818588780)set c=LoadInteger(Ne,1096167732,i)set c=c+1call SaveInteger(Ne,1096167732,i,c)if c>=R0[l]thenset l=l+1call PlaySoundBJ(Nr)call eN(null,0,0,10,false,"|cffffee00"+Lb(p)+"|r完成了成就|cff8080d0怪物猎人"+OA(l)+"!|r奖励|cffffee0050金币 战绩+10|r ")call SaveInteger(Ne,1096167732,1818588780,l)call zb(p,50,false)call QuestSetTitle(Ee[14],"怪物猎人"+OA(l+1))call QuestSetDescription(Ee[14],"达成条件：首先击杀"+I2S(R0[l])+"个怪物
成就奖励：金币+50 战绩+10")endifendfunctionfunction A0 takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit ku=GetKillingUnit()if GetUnitTypeId(u)==1848651833 and GetUnitTypeId(ku)==1702064246 and ku!=BR thencall PlaySoundBJ(Nr)call DestroyTrigger(aR)call eN(null,0,0,10,false,"|cffffee00您的队伍|r完成了成就|cff8080d0猛犸烧烤!|r奖励|cffffee0050额外一次挑战机会|r ")set KR=KR+1call QuestSetCompleted(Ee[15],true)endifendfunctionfunction b0 takes unit u,integer B0 returns booleanlocal item itif Oe[B0]>0 or B0==0 thenset it=CreateItem(RandomDistChoose(),GetUnitX(u),GetUnitY(u))if it!=null thenset Oe[B0]=Oe[B0]-1call eN(GetOwningPlayer(u),0,0,5,false,"|cff4040C0你找到了一件宝物：|r|cffffee00"+GetItemName(it)+"|r")call DN(u,it,false)call Uc(u)return trueendifendifreturn falseendfunctionfunction c0 takes nothing returns booleanreturn(GetItemTypeId(GetManipulatedItem())==1920298352 or GetItemTypeId(GetManipulatedItem())==1668180078)and GetUnitAbilityLevel(GetTriggerUnit(),1098282348)==0endfunctionfunction C0 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local item it=nullif RectContainsUnit(ox,u)thenreturnendifif RectContainsUnit(Qx,u)thencall RandomDistReset()call RandomDistAddItem(0,33)call RandomDistAddItem(1919512113,67)if b0(u,1)thenreturnendifendifif RectContainsUnit(ko,u)thencall RandomDistReset()call RandomDistAddItem(2003723637,1)call RandomDistAddItem(0,3)if b0(u,2)thenreturnendifendifif RectContainsUnit(Sx,u)thencall RandomDistReset()call RandomDistAddItem(1652187749,1)call RandomDistAddItem(0,2)if b0(u,3)thenreturnendifendifif RectContainsUnit(tx,u)thencall RandomDistReset()call RandomDistAddItem(0,100)call RandomDistAddItem(1718056302,90)call RandomDistAddItem(1918989411,9)call RandomDistAddItem(1886549620,1)if b0(u,4)thenreturnendifendifif RectContainsUnit(ux,u)thencall RandomDistReset()call RandomDistAddItem(0,100)call RandomDistAddItem(1718056302,90)call RandomDistAddItem(1918989411,9)call RandomDistAddItem(1886549620,1)if b0(u,5)thenreturnendifendifif RectContainsUnit(Wx,u)thencall RandomDistReset()call RandomDistAddItem(0,50)call RandomDistAddItem(1953525623,50)if b0(u,6)thenreturnendifendifif RectContainsUnit(Tx,u)thencall RandomDistReset()call RandomDistAddItem(0,70)call RandomDistAddItem(1953723442,10)call RandomDistAddItem(1952741426,10)call RandomDistAddItem(1953066546,10)if b0(u,7)thenreturnendifendifif RectContainsUnit(Ux,u)thencall RandomDistReset()call RandomDistAddItem(0,75)call RandomDistAddItem(ChooseRandomItemExBJ(-1,ITEM_TYPE_ARTIFACT),25)if b0(u,8)thenreturnendifendifif RectContainsUnit(wx,u)thencall RandomDistReset()call RandomDistAddItem(0,60)call RandomDistAddItem(ChooseRandomItemExBJ(-1,ITEM_TYPE_ARTIFACT),40)if b0(u,9)thenreturnendifendifif RectContainsUnit(yx,u)thencall RandomDistReset()call RandomDistAddItem(0,85)call RandomDistAddItem(1734567276,5)call RandomDistAddItem(1920169009,5)call RandomDistAddItem(1668446579,5)if b0(u,10)thenreturnendifendifif RectContainsUnit(Yx,u)thencall RandomDistReset()call RandomDistAddItem(0,85)call RandomDistAddItem(1953723442,5)call RandomDistAddItem(1952741426,5)call RandomDistAddItem(1953066546,5)if b0(u,11)thenreturnendifendifif RectContainsUnit(oo,u)thencall RandomDistReset()call RandomDistAddItem(1953525623,75)call RandomDistAddItem(1936220530,25)if b0(u,12)thenreturnendifendifif RectContainsUnit(to,u)thencall RandomDistReset()call RandomDistAddItem(0,75)call RandomDistAddItem(1885826401,50)call RandomDistAddItem(1885825125,50)call RandomDistAddItem(1835233141,25)call RandomDistAddItem(1798532403,5)if b0(u,17)thenreturnendifendifif RectContainsUnit(To,u)thencall RandomDistReset()call RandomDistAddItem(0,75)call RandomDistAddItem(1936224883,50)call RandomDistAddItem(1918989414,15)call RandomDistAddItem(1803118440,15)call RandomDistAddItem(1818584167,15)if b0(u,18)thenreturnendifendifif RectContainsUnit(uo,u)thencall RandomDistReset()call RandomDistAddItem(0,80)call RandomDistAddItem(1918989414,5)call RandomDistAddItem(1803118440,5)call RandomDistAddItem(1818584167,5)call RandomDistAddItem(1634890595,5)if b0(u,19)thenreturnendifendifif RectContainsUnit(Uo,u)thencall RandomDistReset()call RandomDistAddItem(0,100)call RandomDistAddItem(2003723637,25)call RandomDistAddItem(1718056302,25)call RandomDistAddItem(1868983399,25)call RandomDistAddItem(2003723623,25)call RandomDistAddItem(1751282792,5)if b0(u,20)thenreturnendifendifif RectContainsUnit(wo,u)thencall RandomDistReset()call RandomDistAddItem(0,90)call RandomDistAddItem(1919841136,10)if b0(u,21)thenreturnendifendifif RectContainsUnit(Wo,u)thencall RandomDistReset()call RandomDistAddItem(0,75)call RandomDistAddItem(2002874980,25)if b0(u,22)thenreturnendifendifif RectContainsUnit(yo,u)thencall RandomDistReset()call RandomDistAddItem(0,100)call RandomDistAddItem(1718055787,5)call RandomDistAddItem(1969646695,5)call RandomDistAddItem(1919182130,90)if b0(u,23)thenreturnendifendifif RectContainsUnit(Yo,u)thencall RandomDistReset()call RandomDistAddItem(0,85)call RandomDistAddItem(1953723442,15)call RandomDistAddItem(1952741426,15)call RandomDistAddItem(1953066546,15)if b0(u,24)thenreturnendifendifif RectContainsUnit(zo,u)thencall RandomDistReset()call RandomDistAddItem(0,64)call RandomDistAddItem(ChooseRandomItemExBJ(3,ITEM_TYPE_ARTIFACT),40)if b0(u,25)thenreturnendifendifcall RandomDistReset()call RandomDistAddItem(0,R2I(97))call RandomDistAddItem(1953723506,1)call RandomDistAddItem(1952736632,1)call RandomDistAddItem(1953066612,1)set it=CreateItem(RandomDistChoose(),GetUnitX(u),GetUnitY(u))if b0(u,0)thenreturnendifcall RandomDistReset()call RandomDistAddItem(0,R2I(197))call RandomDistAddItem(1953723442,1)call RandomDistAddItem(1952741426,1)call RandomDistAddItem(1953066546,1)if b0(u,0)thenreturnendifcall RandomDistReset()call RandomDistAddItem(0,947)call RandomDistAddItem(ChooseRandomItemExBJ(1,ITEM_TYPE_ARTIFACT),32)call RandomDistAddItem(ChooseRandomItemExBJ(2,ITEM_TYPE_ARTIFACT),16)call RandomDistAddItem(ChooseRandomItemExBJ(3,ITEM_TYPE_ARTIFACT),4)call RandomDistAddItem(ChooseRandomItemExBJ(4,ITEM_TYPE_ARTIFACT),1)if b0(u,0)thenreturnendifendfunctionfunction D0 takes nothing returns booleanreturn(GetItemTypeId(GetManipulatedItem())==1920298352 or GetItemTypeId(GetManipulatedItem())==1668180078)and GetUnitAbilityLevel(GetTriggerUnit(),1098282348)==0endfunctionfunction f0 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer r=0if RectContainsUnit(Mo,u)and LoadEffectHandle(Ne,1463960902,1278357553)==null thencall eN(p,0,0,10,false,"|cffE08000你激活了一个机关|r")call SaveEffectHandle(Ne,1463960902,1278357553,AddSpecialEffect("Units\\NightElf\\Owl\\Owl.mdl",GetUnitX(u),GetUnitY(u)))set NI=NI+1endifif RectContainsUnit(po,u)and LoadEffectHandle(Ne,1463960902,1278357554)==null thencall eN(p,0,0,10,false,"|cffE08000你激活了一个机关|r")call SaveEffectHandle(Ne,1463960902,1278357554,AddSpecialEffect("Units\\NightElf\\Owl\\Owl.mdl",GetUnitX(u),GetUnitY(u)))set NI=NI+1endifif RectContainsUnit(Po,u)and LoadEffectHandle(Ne,1463960902,1278357555)==null thencall eN(p,0,0,10,false,"|cffE08000你激活了一个机关|r")call SaveEffectHandle(Ne,1463960902,1278357555,AddSpecialEffect("Units\\NightElf\\Owl\\Owl.mdl",GetUnitX(u),GetUnitY(u)))set NI=NI+1endifif RectContainsUnit(qo,u)and LoadEffectHandle(Ne,1463960902,1278357556)==null thencall eN(p,0,0,10,false,"|cffE08000你激活了一个机关|r")call SaveEffectHandle(Ne,1463960902,1278357556,AddSpecialEffect("Units\\NightElf\\Owl\\Owl.mdl",GetUnitX(u),GetUnitY(u)))set NI=NI+1endifif NI>1 thenset r=GetRandomInt(11,13)call CreateUnit(Vv,1852272239,GetRectCenterX(Kv[r]),GetRectCenterY(Kv[r]),0)call DestroyTrigger(VR)call XA(1)call DestroyEffect(LoadEffectHandle(Ne,1463960902,1278357553))call DestroyEffect(LoadEffectHandle(Ne,1463960902,1278357554))call DestroyEffect(LoadEffectHandle(Ne,1463960902,1278357555))call DestroyEffect(LoadEffectHandle(Ne,1463960902,1278357556))endifendfunctionfunction g0 takes nothing returns booleanreturn(GetTriggerUnit()==dR)endfunctionfunction G0 takes nothing returns booleanreturn(GetEventDamage()>=1.)endfunctionfunction h0 takes nothing returns nothingif(G0())thenif(LoadInteger(Ne,(StringHash(I2S(GetHandleId((GetTriggeringTrigger()))))),1702257780)==SR)thencall DisplayTimedTextToForce(SI(GetOwningPlayer(GetEventDamageSource())),5.,("你对熊猫造成了:|cffffee00"+(R2S(GetEventDamage())+"|r点伤害(普通攻击)")))endifendifendfunctionfunction j0 takes nothing returns nothingcall SetWidgetLife(dR,24000.)call SetWidgetLife(DR,14000.)endfunctionfunction k0 takes nothing returns nothinglocal integer i=1local integer j=0local string scall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"Boss C:"+I2S(xv))endfunctionfunction InitCustomTriggers takes nothing returns nothing    call InitTrig_sand()endfunctionfunction InitCustomTeams takes nothing returns nothingcall SetPlayerTeam(Player(0),0)call SetPlayerState(Player(0),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(1),0)call SetPlayerState(Player(1),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(2),0)call SetPlayerState(Player(2),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(3),0)call SetPlayerState(Player(3),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(4),0)call SetPlayerState(Player(4),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(5),0)call SetPlayerState(Player(5),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(6),0)call SetPlayerState(Player(6),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(7),0)call SetPlayerState(Player(7),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerAllianceStateAllyBJ(Player(0),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(0),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(0),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(0),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(0),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(0),Player(6),true)call SetPlayerAllianceStateAllyBJ(Player(0),Player(7),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(0),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(6),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(7),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(0),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(6),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(7),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(0),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(6),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(7),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(0),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(6),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(7),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(0),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(6),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(7),true)call SetPlayerAllianceStateAllyBJ(Player(6),Player(0),true)call SetPlayerAllianceStateAllyBJ(Player(6),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(6),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(6),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(6),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(6),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(6),Player(7),true)call SetPlayerAllianceStateAllyBJ(Player(7),Player(0),true)call SetPlayerAllianceStateAllyBJ(Player(7),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(7),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(7),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(7),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(7),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(7),Player(6),true)call SetPlayerAllianceStateVisionBJ(Player(0),Player(1),true)call SetPlayerAllianceStateVisionBJ(Player(0),Player(2),true)call SetPlayerAllianceStateVisionBJ(Player(0),Player(3),true)call SetPlayerAllianceStateVisionBJ(Player(0),Player(4),true)call SetPlayerAllianceStateVisionBJ(Player(0),Player(5),true)call SetPlayerAllianceStateVisionBJ(Player(0),Player(6),true)call SetPlayerAllianceStateVisionBJ(Player(0),Player(7),true)call SetPlayerAllianceStateVisionBJ(Player(1),Player(0),true)call SetPlayerAllianceStateVisionBJ(Player(1),Player(2),true)call SetPlayerAllianceStateVisionBJ(Player(1),Player(3),true)call SetPlayerAllianceStateVisionBJ(Player(1),Player(4),true)call SetPlayerAllianceStateVisionBJ(Player(1),Player(5),true)call SetPlayerAllianceStateVisionBJ(Player(1),Player(6),true)call SetPlayerAllianceStateVisionBJ(Player(1),Player(7),true)call SetPlayerAllianceStateVisionBJ(Player(2),Player(0),true)call SetPlayerAllianceStateVisionBJ(Player(2),Player(1),true)call SetPlayerAllianceStateVisionBJ(Player(2),Player(3),true)call SetPlayerAllianceStateVisionBJ(Player(2),Player(4),true)call SetPlayerAllianceStateVisionBJ(Player(2),Player(5),true)call SetPlayerAllianceStateVisionBJ(Player(2),Player(6),true)call SetPlayerAllianceStateVisionBJ(Player(2),Player(7),true)call SetPlayerAllianceStateVisionBJ(Player(3),Player(0),true)call SetPlayerAllianceStateVisionBJ(Player(3),Player(1),true)call SetPlayerAllianceStateVisionBJ(Player(3),Player(2),true)call SetPlayerAllianceStateVisionBJ(Player(3),Player(4),true)call SetPlayerAllianceStateVisionBJ(Player(3),Player(5),true)call SetPlayerAllianceStateVisionBJ(Player(3),Player(6),true)call SetPlayerAllianceStateVisionBJ(Player(3),Player(7),true)call SetPlayerAllianceStateVisionBJ(Player(4),Player(0),true)call SetPlayerAllianceStateVisionBJ(Player(4),Player(1),true)call SetPlayerAllianceStateVisionBJ(Player(4),Player(2),true)call SetPlayerAllianceStateVisionBJ(Player(4),Player(3),true)call SetPlayerAllianceStateVisionBJ(Player(4),Player(5),true)call SetPlayerAllianceStateVisionBJ(Player(4),Player(6),true)call SetPlayerAllianceStateVisionBJ(Player(4),Player(7),true)call SetPlayerAllianceStateVisionBJ(Player(5),Player(0),true)call SetPlayerAllianceStateVisionBJ(Player(5),Player(1),true)call SetPlayerAllianceStateVisionBJ(Player(5),Player(2),true)call SetPlayerAllianceStateVisionBJ(Player(5),Player(3),true)call SetPlayerAllianceStateVisionBJ(Player(5),Player(4),true)call SetPlayerAllianceStateVisionBJ(Player(5),Player(6),true)call SetPlayerAllianceStateVisionBJ(Player(5),Player(7),true)call SetPlayerAllianceStateVisionBJ(Player(6),Player(0),true)call SetPlayerAllianceStateVisionBJ(Player(6),Player(1),true)call SetPlayerAllianceStateVisionBJ(Player(6),Player(2),true)call SetPlayerAllianceStateVisionBJ(Player(6),Player(3),true)call SetPlayerAllianceStateVisionBJ(Player(6),Player(4),true)call SetPlayerAllianceStateVisionBJ(Player(6),Player(5),true)call SetPlayerAllianceStateVisionBJ(Player(6),Player(7),true)call SetPlayerAllianceStateVisionBJ(Player(7),Player(0),true)call SetPlayerAllianceStateVisionBJ(Player(7),Player(1),true)call SetPlayerAllianceStateVisionBJ(Player(7),Player(2),true)call SetPlayerAllianceStateVisionBJ(Player(7),Player(3),true)call SetPlayerAllianceStateVisionBJ(Player(7),Player(4),true)call SetPlayerAllianceStateVisionBJ(Player(7),Player(5),true)call SetPlayerAllianceStateVisionBJ(Player(7),Player(6),true)call SetPlayerTeam(Player(8),1)call SetPlayerState(Player(8),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(9),1)call SetPlayerState(Player(9),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(10),1)call SetPlayerState(Player(10),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerAllianceStateAllyBJ(Player(8),Player(9),true)call SetPlayerAllianceStateAllyBJ(Player(8),Player(10),true)call SetPlayerAllianceStateAllyBJ(Player(9),Player(8),true)call SetPlayerAllianceStateAllyBJ(Player(9),Player(10),true)call SetPlayerAllianceStateAllyBJ(Player(10),Player(8),true)call SetPlayerAllianceStateAllyBJ(Player(10),Player(9),true)call SetPlayerAllianceStateVisionBJ(Player(8),Player(9),true)call SetPlayerAllianceStateVisionBJ(Player(8),Player(10),true)call SetPlayerAllianceStateVisionBJ(Player(9),Player(8),true)call SetPlayerAllianceStateVisionBJ(Player(9),Player(10),true)call SetPlayerAllianceStateVisionBJ(Player(10),Player(8),true)call SetPlayerAllianceStateVisionBJ(Player(10),Player(9),true)call SetPlayerTeam(Player(11),2)call SetPlayerState(Player(11),PLAYER_STATE_ALLIED_VICTORY,1)endfunctionfunction main takes nothing returns nothinglocal weathereffect welocal destructable dlocal trigger tlocal real yglocal integer ilocal player plocal unit ulocal integer unitIDlocal integer oAlocal integer rAlocal version vlocal integer wIcall SetCameraBounds(-16384.+GetCameraMargin(CAMERA_MARGIN_LEFT),-15872.+GetCameraMargin(CAMERA_MARGIN_BOTTOM),-5376.-GetCameraMargin(CAMERA_MARGIN_RIGHT),15616.-GetCameraMargin(CAMERA_MARGIN_TOP),-16384.+GetCameraMargin(CAMERA_MARGIN_LEFT),15616.-GetCameraMargin(CAMERA_MARGIN_TOP),-5376.-GetCameraMargin(CAMERA_MARGIN_RIGHT),-15872.+GetCameraMargin(CAMERA_MARGIN_BOTTOM))call SetDayNightModels("Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl","Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl")call SetTerrainFogEx(0,3000.,5000.,.5,.0,.0,.0)call NewSoundEnvironment("Default")call SetAmbientDaySound("SunkenRuinsDay")call SetAmbientNightSound("SunkenRuinsNight")call SetMapMusic("Music",true,0)set xr=CreateSound("Sound\\Interface\\GameFound.wav",false,false,false,10,10,"")call SetSoundParamsFromLabel(xr,"GameFound")call SetSoundDuration(xr,7488)set rr=CreateSound("Sound\\Interface\\Error.wav",false,false,false,10,10,"")call SetSoundParamsFromLabel(rr,"InterfaceError")call SetSoundDuration(rr,614)set ir=CreateSound("Sound\\Interface\\Warning\\Human\\KnightNoGold1.wav",false,false,false,10,10,"")call SetSoundParamsFromLabel(ir,"NoGoldHuman")call SetSoundDuration(ir,1486)set ar=CreateSound("Sound\\Interface\\GoodJob.wav",false,false,false,10,10,"")call SetSoundParamsFromLabel(ar,"GoodJob")call SetSoundDuration(ar,2548)set nr=CreateSound("Sound\\Interface\\QuestCompleted.wav",false,false,false,10,10,"")call SetSoundParamsFromLabel(nr,"QuestCompleted")call SetSoundDuration(nr,5155)set Vr=CreateSound("Sound\\Interface\\BattleNetDoorsStereo2.wav",false,false,false,10,10,"SpellsEAX")call SetSoundParamsFromLabel(Vr,"GlueScreenBNetSlam")call SetSoundDuration(Vr,2646)set Er=CreateSound("Sound\\Units\\Combat\\MetalHeavyBashStone1.wav",false,true,true,10,10,"CombatSoundsEAX")call SetSoundParamsFromLabel(Er,"MetalHeavyBashStone")call SetSoundDuration(Er,1242)set Xr=CreateSound("Sound\\Interface\\QuestLog.wav",false,false,false,10,10,"")call SetSoundParamsFromLabel(Xr,"QuestUpdate")call SetSoundDuration(Xr,2276)set Rr=CreateSound("Sound\\Interface\\ArrangedTeamInvitation.wav",false,false,false,10,10,"")call SetSoundParamsFromLabel(Rr,"ArrangedTeamInvitation")call SetSoundDuration(Rr,2914)set Ir=CreateSound("Sound\\Interface\\CreepAggroWhat1.wav",false,false,false,10,10,"")call SetSoundParamsFromLabel(Ir,"CreepAggro")call SetSoundDuration(Ir,1236)set Ar=CreateSound("Abilities\\Spells\\Orc\\LightningBolt\\LightningBolt.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(Ar,"LightningBolt")call SetSoundDuration(Ar,2136)set Nr=CreateSound("Sound\\Interface\\Rescue.wav",false,false,false,10,10,"")call SetSoundParamsFromLabel(Nr,"Rescue")call SetSoundDuration(Nr,3796)set br=CreateSound("Abilities\\Spells\\Items\\ResourceItems\\ReceiveGold.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(br,"ReceiveGold")call SetSoundDuration(br,589)set cr=CreateSound("Sound\\Interface\\Hint.wav",false,false,false,10,10,"")call SetSoundParamsFromLabel(cr,"Hint")call SetSoundDuration(cr,2006)set Cr=CreateSound("Sound\\Units\\Combat\\MetalMediumChopMetal3.wav",false,true,true,10,10,"CombatSoundsEAX")call SetSoundParamsFromLabel(Cr,"MetalMediumChopMetal")call SetSoundDuration(Cr,402)set dr=CreateSound("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget1.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(dr,"FrostNova")call SetSoundDuration(dr,2904)set Dr=CreateSound("Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget2.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(Dr,"StarfallTarget")call SetSoundDuration(Dr,3000)set fr=CreateSound("Abilities\\Spells\\Orc\\HealingWave\\HealingWave.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(fr,"HealingWaveTarget")call SetSoundDuration(fr,2229)set Fr=CreateSound("Abilities\\Weapons\\SearingArrow\\SearingArrowMissileLaunch3.wav",false,true,true,10,10,"MissilesEAX")call SetSoundParamsFromLabel(Fr,"SearingArrowLaunch")call SetSoundDuration(Fr,367)set gr=CreateSound("Abilities\\Spells\\Other\\Incinerate\\Incinerate1.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(gr,"IncinerateDeath")call SetSoundDuration(gr,2717)set Gr=CreateSound("war3mapImported\\SwingWeaponSpecialWarriorE.wav",false,false,false,10,10,"")call SetSoundChannel(Gr,0)call SetSoundVolume(Gr,127)call SetSoundPitch(Gr,1.)set ox=Rect(-12544.,-15360.,-10272.,-12736.)set we=AddWeatherEffect(ox,1280467297)call EnableWeatherEffect(we,true)set rx=Rect(-15488.,-12704.,-13280.,-10528.)set we=AddWeatherEffect(rx,1280467297)call EnableWeatherEffect(we,true)set ix=Rect(-15520.,-10400.,-13280.,-10272.)set ax=Rect(-13120.,-12768.,-12992.,-10528.)set Vx=Rect(-15488.,-12896.,-13248.,-12768.)set Ex=Rect(-15840.,-12768.,-15680.,-10528.)set Xx=Rect(-14272.,-12256.,-14208.,-12192.)set Ox=Rect(-14304.,-11072.,-14240.,-11008.)set Rx=Rect(-15680.,-9344.,-11584.,-4704.)set we=AddWeatherEffect(Rx,1380019314)call EnableWeatherEffect(we,true)set Ix=Rect(-13632.,-8928.,-13568.,-8864.)set Ax=Rect(-15488.,-3840.,-15232.,-3744.)set Nx=Rect(-12032.,-3712.,-11776.,-3616.)set bx=Rect(-13696.,-9632.,-13440.,-9536.)set Bx=Rect(-15648.,-2880.,-12480.,288.)set we=AddWeatherEffect(Bx,1380018290)call EnableWeatherEffect(we,true)set cx=Rect(-15488.,800.,-15232.,896.)set Cx=Rect(-12928.,896.,-12672.,992.)set Dx=Rect(-15488.,-3424.,-15232.,-3328.)set Fx=Rect(-12928.,-3424.,-12672.,-3328.)set gx=Rect(-14144.,-2592.,-14080.,-2528.)set Gx=Rect(-15776.,1600.,-13248.,3904.)set we=AddWeatherEffect(Gx,1464822903)call EnableWeatherEffect(we,true)set hx=Rect(-14560.,2144.,-14496.,2208.)set Hx=Rect(-15520.,4192.,-15328.,4288.)set jx=Rect(-14592.,4192.,-14336.,4288.)set Jx=Rect(-13728.,4192.,-13536.,4288.)set kx=Rect(-15232.,1152.,-14976.,1248.)set Kx=Rect(-13952.,1120.,-13696.,1216.)set lx=Rect(-15584.,4992.,-12352.,8704.)set we=AddWeatherEffect(lx,1397648499)call EnableWeatherEffect(we,true)set Lx=Rect(-14048.,6016.,-13984.,6080.)set mx=Rect(-14112.,8864.,-13920.,8960.)set Mx=Rect(-15840.,7136.,-15744.,7456.)set px=Rect(-12096.,7008.,-12000.,7328.)set Px=Rect(-14080.,4736.,-13952.,4832.)set qx=Rect(-15424.,9280.,-12224.,12320.)set we=AddWeatherEffect(qx,1280470369)call EnableWeatherEffect(we,true)set Qx=Rect(-14336.,-11552.,-13824.,-11104.)set Sx=Rect(-14848.,-8800.,-14592.,-8576.)set tx=Rect(-14112.,-6528.,-13856.,-6304.)set Tx=Rect(-15232.,1728.,-14976.,1952.)set ux=Rect(-15520.,-2048.,-15264.,-1824.)set Ux=Rect(-14848.,2816.,-14592.,3072.)set wx=Rect(-15360.,5888.,-15104.,6112.)set Wx=Rect(-12928.,-5888.,-12544.,-5632.)set yx=Rect(-14144.,8480.,-13888.,8704.)set Yx=Rect(-12608.,8480.,-12352.,8704.)set Zx=Rect(-14048.,12608.,-13856.,12736.)set vo=Rect(-15808.,11488.,-15712.,11776.)set eo=Rect(-12032.,9856.,-11936.,10144.)set xo=Rect(-14112.,9056.,-13920.,9184.)set oo=Rect(-14336.,-1504.,-13824.,-1056.)set ro=Rect(-11424.,-13600.,-11360.,-13536.)set io=Rect(-13728.,9984.,-13664.,10048.)set ao=Rect(-15616.,12960.,-12928.,15744.)set we=AddWeatherEffect(ao,1178886760)call EnableWeatherEffect(we,true)set no=Rect(-14304.,13728.,-14240.,13760.)set Vo=Rect(-15008.,14976.,-14944.,15040.)set Eo=Rect(-13600.,14944.,-13536.,15008.)set Xo=Rect(-15008.,13536.,-14944.,13600.)set Oo=Rect(-13600.,13536.,-13536.,13600.)set Ro=Rect(-13856.,10784.,-13792.,10848.)set Io=Rect(-14336.,13824.,-14208.,13920.)set Ao=Rect(-10944.,-9824.,-7840.,-6720.)set we=AddWeatherEffect(Ao,1178886760)call EnableWeatherEffect(we,true)set No=Rect(-9600.,-6432.,-9216.,-6336.)set bo=Rect(-11296.,-8448.,-11200.,-8064.)set Bo=Rect(-7712.,-8480.,-7616.,-8032.)set co=Rect(-9632.,-10112.,-9184.,-10016.)set Co=Rect(-9440.,-9344.,-9376.,-9280.)set do=Rect(-10560.,-5440.,-7360.,-2144.)set we=AddWeatherEffect(do,1380739186)call EnableWeatherEffect(we,true)set Do=Rect(-9024.,-2304.,-8928.,-2240.)set fo=Rect(-13280.,-2176.,-13184.,-2080.)set Fo=Rect(-9024.,-3776.,-8896.,-3648.)set go=Rect(-8992.,-4832.,-8928.,-4768.)set Go=Rect(-11104.,-3808.,-10976.,-3584.)set ho=Rect(-7008.,-3680.,-6912.,-3456.)set Ho=Rect(-9120.,-5920.,-8800.,-5824.)set jo=Rect(-11136.,-768.,-8448.,2400.)set we=AddWeatherEffect(jo,1178892136)call EnableWeatherEffect(we,true)set Jo=Rect(-9824.,192.,-9696.,320.)set ko=Rect(-15136.,-12288.,-14880.,-12064.)set Ko=Rect(-13664.,-7776.,-13472.,-7296.)set lo=Rect(-11808.,4800.,-8640.,7968.)set we=AddWeatherEffect(lo,1464755063)call EnableWeatherEffect(we,true)set Lo=Rect(-10400.,5920.,-10272.,6048.)set mo=Rect(-11648.,-15616.,-11136.,-15296.)set Mo=Rect(-14560.,-7360.,-14368.,-7136.)set po=Rect(-14080.,-6016.,-13888.,-5792.)set Po=Rect(-12928.,-7552.,-12736.,-7328.)set qo=Rect(-14048.,-8160.,-13856.,-7936.)set Qo=Rect(-9664.,6944.,-9568.,7040.)set so=Rect(-12288.,-11712.,-11648.,-11008.)set we=AddWeatherEffect(so,1280467297)call EnableWeatherEffect(we,true)set So=Rect(-12000.,-11104.,-11936.,-11040.)set to=Rect(-14848.,11520.,-14592.,11840.)set To=Rect(-13056.,10624.,-12800.,10944.)set uo=Rect(-14720.,13920.,-13856.,14624.)set Uo=Rect(-15200.,14880.,-14816.,15232.)set wo=Rect(-9632.,-8512.,-9184.,-8032.)set Wo=Rect(-8096.,-8416.,-7840.,-8064.)set yo=Rect(-10496.,-2624.,-10240.,-2272.)set Yo=Rect(-8160.,-4224.,-7904.,-3872.)set zo=Rect(-9728.,992.,-9600.,1120.)set Zo=Rect(-8768.,-14944.,-6848.,-12608.)set we=AddWeatherEffect(Zo,1280467297)call EnableWeatherEffect(we,true)set vr=Rect(-7840.,-13600.,-7776.,-13536.)set er=Rect(-7808.,-14624.,-7744.,-14560.)set d=CreateDestructable(1110454321,-8288.,-3744.,290.,1.268,0)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Eg)set d=CreateDestructable(1110454321,-13216.,15264.,342.,1.3,0)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Jg)set FR=CreateDestructable(1110454321,-14112.,-11424.,265.,1.491,0)set d=CreateDestructable(1110454321,-15328.,10208.,184.,1.121,0)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function jg)set d=CreateDestructable(1110454321,-15328.,11488.,55.,1.19,0)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Hg)set d=CreateDestructable(1110454321,-9632.,-3808.,209.,1.336,0)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function PF)set d=CreateDestructable(1110454321,-15328.,9952.,77.,1.459,0)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function hg)set d=CreateDestructable(1110454321,-15328.,11040.,181.,1.249,0)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Gg)set d=CreateDestructable(1110454321,-15328.,10464.,277.,1.24,0)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function gg)set d=CreateDestructable(1110454321,-15328.,12000.,307.,1.278,0)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Fg)set d=CreateDestructable(1110454321,-15200.,12256.,107.,1.401,0)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function fg)set d=CreateDestructable(1110454321,-15328.,12256.,103.,1.489,0)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Dg)set d=CreateDestructable(1110454321,-8288.,-3552.,16.,1.302,0)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Rg)set d=CreateDestructable(1110454321,-9632.,-3488.,156.,1.454,0)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Og)set d=CreateDestructable(1110454321,-9632.,-3168.,326.,1.301,0)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Xg)set d=CreateDestructable(1110454321,-8288.,-3296.,48.,1.363,0)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function pg)set d=CreateDestructable(1110454321,-9632.,-3104.,317.,1.389,0)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Vg)set d=CreateDestructable(1498702708,-12672.,-2560.,270.,1.143,1)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function vg)set d=CreateDestructable(1498702708,-15168.,-1472.,270.,1.061,1)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function ZF)set d=CreateDestructable(1498702708,-12608.,-2560.,270.,1.187,0)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function eg)set d=CreateDestructable(1498707828,-12800.,-2560.,270.,1.133,1)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function zF)set d=CreateDestructable(1515484279,-14400.,-6784.,270.,.785,4)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function YF)set d=CreateDestructable(1515484279,-15552.,1728.,270.,.9,8)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function xg)set d=CreateDestructable(1515484279,-13504.,3136.,270.,.991,5)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function og)set d=CreateDestructable(1515484279,-14016.,3776.,270.,.675,3)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function ig)set d=CreateDestructable(1515484279,-14784.,3648.,270.,.85,4)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function ag)set d=CreateDestructable(1515484279,-14400.,-6656.,270.,1.009,8)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function yF)set d=CreateDestructable(1515484279,-14528.,-6656.,270.,1.046,3)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function WF)set d=CreateDestructable(1515484279,-14528.,-6784.,270.,.822,2)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function wF)set d=CreateDestructable(1515484279,-14528.,-6912.,270.,1.04,7)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function UF)set d=CreateDestructable(1515484279,-14656.,-6656.,270.,.74,0)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function uF)set d=CreateDestructable(1515484279,-15104.,8256.,270.,.65,8)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Ig)set d=CreateDestructable(1515484279,-13376.,7616.,270.,1.049,6)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Ag)set d=CreateDestructable(1515484279,-8512.,832.,270.,.852,6)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Ng)set d=CreateDestructable(1515484279,-14912.,9984.,270.,.807,4)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function bg)set d=CreateDestructable(1515484279,-8512.,896.,270.,.911,3)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Bg)set d=CreateDestructable(1515484279,-12736.,11520.,270.,.801,0)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function cg)set d=CreateDestructable(1515484279,-12736.,11456.,270.,.908,2)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Cg)set d=CreateDestructable(1515484279,-14656.,-6784.,270.,.653,0)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function TF)set d=CreateDestructable(1515484279,-14656.,-6912.,270.,.941,8)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function tF)set d=CreateDestructable(1515484279,-14784.,-6656.,270.,.823,8)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function SF)set d=CreateDestructable(1515484279,-14784.,-6784.,270.,.909,1)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function sF)set d=CreateDestructable(1515484279,-14784.,-6912.,270.,.683,8)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function QF)set d=CreateDestructable(1515484279,-15552.,-7872.,270.,.996,6)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function qF)set d=CreateDestructable(1515484279,-13760.,-11904.,270.,.968,5)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function pF)set d=CreateDestructable(1515484279,-14784.,-11520.,270.,.834,7)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function MF)set d=CreateDestructable(1515484279,-14592.,-11456.,270.,.694,3)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function mF)set d=CreateDestructable(1515484279,-14720.,-11648.,270.,.874,8)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function LF)set d=CreateDestructable(1515484279,-12800.,-9152.,270.,.94,3)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function kg)set d=CreateDestructable(1515484279,-11712.,-8128.,270.,.662,9)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Kg)set d=CreateDestructable(1515484279,-11712.,-5248.,270.,.829,6)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function lg)set d=CreateDestructable(1515484279,-9600.,1024.,270.,.812,8)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Lg)set d=CreateDestructable(1515484279,-9536.,1088.,270.,.739,1)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Mg)set d=CreateDestructable(1515484279,-14592.,-11648.,270.,.654,1)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function jF)set d=CreateDestructable(1515484279,-14144.,3776.,270.,.825,9)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Pg)set d=CreateDestructable(1515484279,-8512.,-512.,270.,1.038,9)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function qg)set d=CreateDestructable(1515484279,-8512.,2240.,270.,1.038,0)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Qg)set d=CreateDestructable(1515484279,-8576.,2112.,270.,.684,1)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function sg)set d=CreateDestructable(1515484279,-9728.,1024.,270.,.959,9)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Sg)set d=CreateDestructable(1515484279,-9664.,1088.,270.,.733,9)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function tg)set d=CreateDestructable(1515484279,-9024.,-6848.,270.,.889,3)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Tg)set d=CreateDestructable(1515484279,-8896.,-6848.,270.,.85,2)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function ug)set d=CreateDestructable(1515484279,-8768.,-6848.,270.,.686,3)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function Ug)set d=CreateDestructable(1515484279,-10112.,-9664.,270.,.949,3)set t=CreateTrigger()call TriggerRegisterDeathEvent(t,d)call TriggerAddAction(t,function SaveDyingWidget)call TriggerAddAction(t,function wg)set p=Player(15)set AR=CreateUnit(p,1752591476,-11392.,-15168.,270.)set NR=CreateUnit(p,1852665711,-11392.,-14336.,270.)set cR=CreateUnit(p,1853120886,-11392.,-15424.,270.)call SetUnitColor(cR,ConvertPlayerColor(0))set u=CreateUnit(p,1852075367,-9536.,7104.,270.)set p=Player(0)set u=CreateUnit(p,1852010546,-11584.,-15360.,270.)set p=Player(1)set u=CreateUnit(p,1852010546,-11584.,-15488.,270.)set p=Player(2)set u=CreateUnit(p,1852010546,-11584.,-15616.,270.)set p=Player(3)set u=CreateUnit(p,1852010546,-11456.,-15616.,270.)set p=Player(4)set u=CreateUnit(p,1852010546,-11328.,-15616.,270.)set p=Player(5)set u=CreateUnit(p,1852010546,-11200.,-15616.,270.)set p=Player(6)set u=CreateUnit(p,1852010546,-11200.,-15488.,270.)set p=Player(7)set u=CreateUnit(p,1852010546,-11200.,-15360.,270.)set p=Player(8)set u=CreateUnit(p,1852010546,-11456.,-15488.,270.)set p=Player(9)set u=CreateUnit(p,1852010546,-11328.,-15488.,270.)set p=Player(10)set u=CreateUnit(p,1852010546,-11392.,-15552.,270.)set p=Player(12)set bR=CreateUnit(p,1752196449,-7662.2,-1147.1,303.86)set dR=CreateUnit(p,1852862006,-10824.2,-13000.6,267.55)set yg=GetUnitState(dR,UNIT_STATE_LIFE)call SetUnitState(dR,UNIT_STATE_LIFE,.25*yg)set p=Player(15)set IR=CreateUnit(p,1752199796,-11398.3,-12924.7,270.)set u=CreateUnit(p,1752328550,-12220.7,-14211.,.0)set u=CreateUnit(p,1752003700,-12209.7,-13995.2,.0)set u=CreateUnit(p,1701672039,-12215.3,-13818.9,.0)set RR=CreateUnit(p,1869050485,-12209.4,-14885.5,.664)set u=CreateUnit(p,1752199796,-14980.6,14977.1,135.)set u=CreateUnit(p,1752199796,-13570.,13574.6,135.)set u=CreateUnit(p,1752199796,-13568.6,14973.7,45.)set u=CreateUnit(p,1752199796,-14977.4,13571.3,45.)set u=CreateUnit(p,1752199796,-8968.5,-2277.3,90.)set fR=CreateUnit(p,1752000876,-14353.,-14623.5,138.51)set CR=CreateUnit(p,1869898101,-11714.7,-15129.7,98.06)set iZZ=CreateUnit(p,1869311844,-10844.4,-15058.7,256.0)set DR=CreateUnit(p,1852862004,-10605.4,-12983.,269.32)set yg=GetUnitState(DR,UNIT_STATE_LIFE)call SetUnitState(DR,UNIT_STATE_LIFE,.5*yg)set u=CreateUnit(p,1701081721,-10548.3,-14825.6,181.745)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,1869767017,-10543.6,-14313.4,180.716)set u=CreateUnit(p,1869834349,-10538.,-14063.6,178.313)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,1869836407,-10549.3,-14572.4,174.711)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,1701737320,-12192.,-14597.6,.71)set u=CreateUnit(p,1852335457,-12209.,-14415.9,.0)set p=Player(11)set u=CreateUnit(p,1702064246,-12819.,-5720.6,270.)set u=CreateUnit(p,1702064246,-12735.1,-5714.7,270.)set u=CreateUnit(p,1702064246,-12648.9,-5714.9,270.)set u=CreateUnit(p,1702064246,-12817.9,-5765.9,270.)set u=CreateUnit(p,1702064246,-12728.7,-5767.5,270.)set u=CreateUnit(p,1702064246,-12653.2,-5771.9,270.)set u=CreateUnit(p,1702064246,-14187.7,-1157.1,50.132)set u=CreateUnit(p,1702064246,-13940.3,-1145.3,320.404)set u=CreateUnit(p,1702064246,-14182.2,-1409.3,24.918)set u=CreateUnit(p,1702064246,-13938.7,-1417.2,174.688)set u=CreateUnit(p,1702064246,-13926.8,-1261.2,47.484)set u=CreateUnit(p,1702064246,-14075.2,-1141.4,336.478)set u=CreateUnit(p,1702064246,-14214.4,-1239.7,142.354)set u=CreateUnit(p,1702064246,-14062.9,-1414.,322.634)set u=CreateUnit(p,1702064246,-14074.,-1244.8,47.484)set BR=CreateUnit(p,1702064246,-14340.9,-14233.,153.86)set u=CreateUnit(p,1702064246,-10818.3,-6883.1,174.688)set u=CreateUnit(p,1702064246,-10394.5,-6883.1,174.688)set u=CreateUnit(p,1702064246,-10830.1,-7315.8,88.576)set u=CreateUnit(p,1702064246,-8003.6,-6849.3,174.69)set u=CreateUnit(p,1702064246,-8442.6,-6854.3,174.69)set u=CreateUnit(p,1702064246,-7999.,-7257.4,174.69)set u=CreateUnit(p,1702064246,-8009.3,-9634.1,174.69)set u=CreateUnit(p,1702064246,-7997.6,-9219.8,174.69)set u=CreateUnit(p,1702064246,-8439.1,-9652.9,174.69)set u=CreateUnit(p,1702064246,-10364.2,-9642.,174.69)set u=CreateUnit(p,1702064246,-10822.9,-9653.5,174.69)set u=CreateUnit(p,1702064246,-10829.9,-9269.8,174.69)call ConfigureNeutralVictim()set fI=Filter(function eA)set filterIssueHauntOrderAtLocBJ=Filter(function IssueHauntOrderAtLocBJFilter)set filterEnumDestructablesInCircleBJ=Filter(function kI)set filterGetUnitsInRectOfPlayer=Filter(function GetUnitsInRectOfPlayerFilter)set filterGetUnitsOfTypeIdAll=Filter(function GetUnitsOfTypeIdAllFilter)set filterGetUnitsOfPlayerAndTypeId=Filter(function GetUnitsOfPlayerAndTypeIdFilter)set filterMeleeTrainedUnitIsHeroBJ=Filter(function MeleeTrainedUnitIsHeroBJFilter)set filterLivingPlayerUnitsOfTypeId=Filter(function LivingPlayerUnitsOfTypeIdFilter)set oA=0loopexitwhen oA==16set bj_FORCE_PLAYER[oA]=CreateForce()call ForceAddPlayer(bj_FORCE_PLAYER[oA],Player(oA))set oA=oA+1endloopset bj_FORCE_ALL_PLAYERS=CreateForce()call ForceEnumPlayers(bj_FORCE_ALL_PLAYERS,null)set bj_cineModePriorSpeed=GetGameSpeed()set bj_cineModePriorFogSetting=IsFogEnabled()set bj_cineModePriorMaskSetting=IsFogMaskEnabled()set oA=0loopexitwhen oA>=bj_MAX_QUEUED_TRIGGERSset bj_queuedExecTriggers[oA]=nullset bj_queuedExecUseConds[oA]=falseset oA=oA+1endloopset bj_isSinglePlayer=falseset rA=0set oA=0loopexitwhen oA>=12if(GetPlayerController(Player(oA))==MAP_CONTROL_USER and GetPlayerSlotState(Player(oA))==PLAYER_SLOT_STATE_PLAYING)thenset rA=rA+1endifset oA=oA+1endloopset bj_isSinglePlayer=(rA==1)set bj_rescueSound=CreateSoundFromLabel("Rescue",false,false,false,10000,10000)set bj_questDiscoveredSound=CreateSoundFromLabel("QuestNew",false,false,false,10000,10000)set bj_questUpdatedSound=CreateSoundFromLabel("QuestUpdate",false,false,false,10000,10000)set bj_questCompletedSound=CreateSoundFromLabel("QuestCompleted",false,false,false,10000,10000)set bj_questFailedSound=CreateSoundFromLabel("QuestFailed",false,false,false,10000,10000)set bj_questHintSound=CreateSoundFromLabel("Hint",false,false,false,10000,10000)set bj_questSecretSound=CreateSoundFromLabel("SecretFound",false,false,false,10000,10000)set bj_questItemAcquiredSound=CreateSoundFromLabel("ItemReward",false,false,false,10000,10000)set bj_questWarningSound=CreateSoundFromLabel("Warning",false,false,false,10000,10000)set bj_victoryDialogSound=CreateSoundFromLabel("QuestCompleted",false,false,false,10000,10000)set bj_defeatDialogSound=CreateSoundFromLabel("QuestFailed",false,false,false,10000,10000)call DelayedSuspendDecayCreate()set v=VersionGet()if(v==VERSION_REIGN_OF_CHAOS)thenset bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V0elseset bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V1endifcall InitQueuedTriggers()call InitRescuableBehaviorBJ()call InitDNCSounds()call InitMapRects()call InitSummonableCaps()set wI=0loopset bj_stockAllowedPermanent[wI]=falseset bj_stockAllowedCharged[wI]=falseset bj_stockAllowedArtifact[wI]=falseset wI=wI+1exitwhen wI>10endloopcall SetAllItemTypeSlots(11)call SetAllUnitTypeSlots(11)set bj_stockUpdateTimer=CreateTimer()call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INITIAL_DELAY,false,function ZI)set bj_stockItemPurchased=CreateTrigger()call TriggerRegisterPlayerUnitEvent(bj_stockItemPurchased,Player(15),EVENT_PLAYER_UNIT_SELL_ITEM,null)call TriggerAddAction(bj_stockItemPurchased,function RemovePurchasedItem)call DetectGameStarted()set i=0set Vv=Player(12)set i=0loopexitwhen(i>120)set Ev[i]=0set Xv[i]=0set i=i+1endloopset i=0loopexitwhen(i>256)set Ov[i]=0set bv[i]=0set Wv[i]=0set ne[i]=0set i=i+1endloopset i=0loopexitwhen(i>8)set Av[i]=falseset he[i]=falseset i=i+1endloopset i=0loopexitwhen(i>1)set cv[i]=0set fv[i]=0set mv[i]=0set Yv[i]=""set zv[i]=""set Zv[i]=falseset ve[i]=0set ee[i]=0set xe[i]=0set oe[i]=0set re[i]=0set ie[i]=""set De[i]=0set ge[i]=0set ke[i]=""set i=i+1endloopset i=0loopexitwhen(i>10)set Fv[i]=0set i=i+1endloopset Gv=CreateTimer()set hv=CreateGroup()set Mv=CreateTimer()set pv=CreateTimer()set Qv=CreateGroup()set Tv=trueset i=0loopexitwhen(i>128)set ae[i]=0set Oe[i]=1set pe[i]=falseset Ye[i]=1set i=i+1endloopset i=0loopexitwhen(i>12)set Ve[i]=0set Fe[i]=trueset i=i+1endloopset i=0loopexitwhen(i>16)set Ae[i]=0set i=i+1endloopset be=trueset Se=trueset Ue=trueset Ze=CreateGroup()set vx=trueset ie[0]="TM16YL5DX7SPUA3CGNRQJVK80IFWH2OZE9B4"set ie[1]="59J1VYEOT7AHCNK6U2PMLX0QGR4ZBDWF83IS"set ie[2]="TWJ8R6H0ICFEKYO2MP97NVD354SLGBQ1AUZX"set ie[3]="TI2LS6ONZ3DCF5X0P7EHRK1B8QJY4UVWG9AM"set ie[4]="BTFV8L3609Y7KUJOIQDZHX4SNE5RC2GA1MWP"set ie[5]="LV6GDCRPBKWA14Z58IH3J2MXUYFN0OTSE7Q9"set ie[6]="MP0GX8HVLB1N52AYC7EU3KTF6ID4OJRSWZ9Q"set ie[7]="ROSY1ITZ9K5Q2WAV3UX680CGFBHEMD4PL7NJ"set ie[8]="2OSE1BHMQ5IDT9804FLRYNGWZJV6PK3XCAU7"set ie[9]="L3T9DEX06UHFKO25N8JB4GPSZCIWVYA1QRM7"set ie[10]="NU67HTD4JYEGPMF895C1AVWXOBQZK3LRS20I"set ie[11]="AFD6QPJY1CIHB7N20SVW5489GL3UKMEROXZT"set ie[12]="RGVWI5MOAZXD92CJ468LQ1PB7HF0TKE3USYN"set ie[13]="IWJ5S7VK482RHENG03AYF9TZ6BXL1MUOPQCD"set ie[14]="KL0Q96SNGBZRJH7YW8VP4UEF5DXO21T3MIAC"set ie[15]="DWX5Y2QR4Z7EG1MK0SFVHNAOJ9ICBU68PT3L"set ie[16]="UN0DBAWZV5KTI8FJ1GLY6X97RS4POQH2EC3M"set ie[17]="I7R9QY4MVO8UWK63SAZTGXLH510BDP2NFCJE"set ie[18]="UFN7J0TD4LZBI6AOHM91ER2KQY3CGX8SW5PV"set ie[19]="V2X3MR89GH0ZJTADI4CNB6F1WYOP75KUSLEQ"set ie[20]="PB4KM67YOLUWRG93FQV18JI5ZDXCT0SA2HEN"set ie[21]="YLVNU5TFWBACGSXKMEHQOD234IJR96780ZP1"set ie[22]="6RAO10FTZSJKCBWD9X32QVP7M4UE8NYLGIH5"set ie[23]="TL0ZKOBH17S9UPI3MDGCQYNFW5RJX8A24VE6"set ie[24]="2JBAH1U6PD8RM4L5EVI3TSF70XOWKGC9NZQY"set ie[25]="4FGHSK7QZX1DAVR9T5OI2J0BC683NMPWLUYE"set ie[26]="FIUWV6ZEN7J2QDGCMT8A94H3KL1SYXRBP05O"set ie[27]="6SA3YV0GEMXBFNPWURO97QHL5Z1JIK42CTD8"set ie[28]="AFMU4ZTV98SE0JQGOY7NPH6IBL51CD3R2XWK"set ie[29]="TCF58VUQWS2ZPKBYMJEO416R9D3LH7XAIGN0"set ie[30]="KGPW8NT6XDUF94BY0Z5J7CSRE3AMVQILH1O2"set ie[31]="236CMLQGXHWO8K4YTZJRBPAI1NEF5D9VU07S"set ie[32]="QJEILZBCSD1UK0OWM9826YFGPTXNA7H5V4R3"set ie[33]="3HESU240M8PW69ONVRCKZD7FIBQY5TG1JXAL"set ie[34]="RLF5JKUZQ91YBAIMSTWXOEDNGHC832764VP0"set ie[35]="GOKUHZY4PBD6EF1XTMR9AVQWN7JSI0825CL3"set sR[0]="|cffffff00魔法"set sR[1]="|cffffD020火焰"set sR[2]="|cff405040暗影"set sR[3]="|cff6060D0冰霜"set sR[4]="|cffD0FFD0闪电"set Jr=CreateTrigger()call TriggerRegisterTimerEventSingle(Jr,1.)call TriggerAddAction(Jr,function oh)set kr=CreateTrigger()call TriggerAddAction(kr,function Eh)set Kr=CreateTrigger()call TriggerRegisterTimerEventSingle(Kr,.05)call TriggerAddAction(Kr,function bh)set lr=CreateTrigger()call TriggerAddAction(lr,function Ch)set Lr=CreateTrigger()call TriggerAddAction(Lr,function Dh)set mr=CreateTrigger()call TriggerAddAction(mr,function Fh)set Mr=CreateTrigger()call TriggerAddAction(Mr,function Gh)set pr=CreateTrigger()call TriggerAddAction(pr,function Jh)set ne[1]=1113813619set ne[2]=1112893542set ne[3]=1114793322set ne[4]=1093681731set bv[4]=1110455347set Ov[1]=1113813609set Ov[2]=1093679438set Wv[2]=1110454861set Ov[3]=1112896364set Ov[4]=1093678162set Wv[4]=1110454340set Ov[5]=1110455097set qr=CreateTrigger()call TriggerAddAction(qr,function lh)set Qr=CreateTrigger()call TriggerAddAction(Qr,function ph)set sr=CreateTrigger()call TriggerAddAction(sr,function qh)set Sr=CreateTrigger()call TriggerAddAction(Sr,function sh)set Tr=CreateTrigger()call TriggerAddAction(Tr,function th)set ur=CreateTrigger()call TriggerRegisterEnterRectSimple(ur,GetWorldBounds())call TriggerRegisterAnyUnitEventBJ(ur,EVENT_PLAYER_UNIT_CHANGE_OWNER)call TriggerRegisterAnyUnitEventBJ(ur,EVENT_PLAYER_HERO_REVIVE_FINISH)call TriggerAddCondition(ur,Condition(function uh))call TriggerAddAction(ur,function Uh)set dv=CreateLeaderboard()call LeaderboardSetLabel(dv,"No Target")call ForceSetLeaderboardBJ(dv,bj_FORCE_ALL_PLAYERS)set Ur=CreateTrigger()call TriggerAddAction(Ur,function Yh)set wr=CreateTrigger()call TriggerAddAction(wr,function Zh)set Wr=CreateTrigger()call TriggerAddAction(Wr,function eH)set yr=CreateTrigger()call TriggerAddAction(yr,function oH)set Yr=CreateTrigger()call TriggerAddAction(Yr,function nH)set zr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(zr,EVENT_PLAYER_UNIT_SELL)call TriggerAddAction(zr,function XH)set Zr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Zr,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Zr,Condition(function BH))call TriggerAddAction(Zr,function CH)set vi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(vi,EVENT_PLAYER_HERO_SKILL)call TriggerAddAction(vi,function hH)set ei=CreateTrigger()call TriggerRegisterPlayerUnitEventSimple(ei,Player(12),EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(ei,Condition(function jH))call TriggerAddAction(ei,function JH)set xi=CreateTrigger()call TriggerRegisterTimerEventPeriodic(xi,.5)call TriggerAddAction(xi,function PH)set oi=CreateTrigger()call TriggerAddAction(oi,function SH)set ri=CreateTrigger()call TriggerAddAction(ri,function WH)set ii=CreateTrigger()call TriggerRegisterDestDeathInRegionEvent(ii,Ko)call TriggerAddAction(ii,function zH)set ai=CreateTrigger()call TriggerAddAction(ai,function ej)set ni=CreateTrigger()call TriggerAddAction(ni,function Vj)set Vi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Vi,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerRegisterAnyUnitEventBJ(Vi,EVENT_PLAYER_UNIT_DROP_ITEM)call TriggerAddAction(Vi,function Lj)set Xi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Xi,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddAction(Xi,function Lc)set Oi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Oi,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddAction(Oi,function vJ)set Ri=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ri,EVENT_PLAYER_UNIT_DROP_ITEM)call TriggerAddAction(Ri,function xJ)set Ii=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ii,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Ii,Condition(function rJ))call TriggerAddAction(Ii,function iJ)set Ai=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ai,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Ai,Condition(function EJ))call TriggerAddAction(Ai,function XJ)set Ni=CreateTrigger()call TriggerAddCondition(Ni,Condition(function RJ))call TriggerAddAction(Ni,function IJ)set bi=CreateTrigger()call TriggerAddCondition(bi,Condition(function NJ))call TriggerAddAction(bi,function bJ)set Bi=CreateTrigger()call TriggerAddCondition(Bi,Condition(function CJ))call TriggerAddAction(Bi,function dJ)set ci=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ci,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(ci,Condition(function fJ))call TriggerAddAction(ci,function FJ)set Ci=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ci,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Ci,Condition(function GJ))call TriggerAddAction(Ci,function hJ)set di=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(di,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(di,Condition(function jJ))call TriggerAddAction(di,function kJ)set Di=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Di,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Di,Condition(function lJ))call TriggerAddAction(Di,function LJ)set fi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(fi,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(fi,Condition(function MJ))call TriggerAddAction(fi,function pJ)set Fi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Fi,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Fi,Condition(function qJ))call TriggerAddAction(Fi,function QJ)set gi=CreateTrigger()call TriggerAddCondition(gi,Condition(function SJ))call TriggerAddAction(gi,function tJ)set Gi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Gi,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Gi,Condition(function uJ))call TriggerAddAction(Gi,function UJ)set hi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(hi,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerRegisterAnyUnitEventBJ(hi,EVENT_PLAYER_UNIT_DROP_ITEM)call TriggerAddCondition(hi,Condition(function yJ))call TriggerAddAction(hi,function zJ)set Hi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Hi,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Hi,Condition(function vk))call TriggerAddAction(Hi,function ek)set ji=CreateTrigger()call TriggerAddCondition(ji,Condition(function ok))call TriggerAddAction(ji,function rk)set Ji=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ji,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Ji,Condition(function ak))call TriggerAddAction(Ji,function nk)set ki=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ki,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(ki,Condition(function Ek))call TriggerAddAction(ki,function Xk)set Ki=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ki,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Ki,Condition(function Rk))call TriggerAddAction(Ki,function Ik)set li=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(li,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(li,Condition(function Nk))call TriggerAddAction(li,function bk)set Li=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Li,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Li,Condition(function ck))call TriggerAddAction(Li,function Ck)set mi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(mi,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(mi,Condition(function Dk))call TriggerAddAction(mi,function fk)set Mi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Mi,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Mi,Condition(function gk))call TriggerAddAction(Mi,function Gk)set Pi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Pi,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Pi,Condition(function Hk))call TriggerAddAction(Pi,function jk)set qi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(qi,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(qi,Condition(function kk))call TriggerAddAction(qi,function Kk)set Qi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Qi,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Qi,Condition(function Lk))call TriggerAddAction(Qi,function mk)set si=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(si,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(si,Condition(function pk))call TriggerAddAction(si,function Pk)set Si=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Si,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Si,Condition(function Qk))call TriggerAddAction(Si,function sk)set Ti=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ti,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Ti,Condition(function tk))call TriggerAddAction(Ti,function Tk)set ui=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ui,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(ui,Condition(function Uk))call TriggerAddAction(ui,function Yk)set Ui=CreateTrigger()call TriggerAddCondition(Ui,Condition(function Zk))call TriggerAddAction(Ui,function vK)set wi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(wi,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(wi,Condition(function xK))call TriggerAddAction(wi,function oK)set Wi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Wi,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Wi,Condition(function iK))call TriggerAddAction(Wi,function aK)set yi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(yi,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(yi,Condition(function VK))set Yi=CreateTrigger()call TriggerAddCondition(Yi,Condition(function OK))call TriggerAddAction(Yi,function RK)set zi=CreateTrigger()call TriggerRegisterUnitInRangeSimple(zi,256,NR)call TriggerAddCondition(zi,Condition(function AK))set Zi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Zi,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Zi,Condition(function BK))set va=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(va,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddAction(va,function CK)set ea=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ea,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(ea,Condition(function DK))call TriggerAddAction(ea,function fK)set xa=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(xa,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(xa,Condition(function gK))call TriggerAddAction(xa,function GK)set oa=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(oa,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(oa,Condition(function HK))call TriggerAddAction(oa,function jK)set ra=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ra,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(ra,Condition(function kK))call TriggerAddAction(ra,function lK)set ia=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ia,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(ia,Condition(function mK))call TriggerAddAction(ia,function MK)set aa=CreateTrigger()call TriggerAddCondition(aa,Condition(function PK))call TriggerAddAction(aa,function qK)set na=CreateTrigger()call TriggerAddCondition(na,Condition(function sK))call TriggerAddAction(na,function SK)set Va=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Va,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Va,Condition(function TK))call TriggerAddAction(Va,function uK)set Ea=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ea,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Ea,Condition(function wK))call TriggerAddAction(Ea,function WK)set Xa=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Xa,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Xa,Condition(function YK))call TriggerAddAction(Xa,function zK)set Oa=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Oa,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Oa,Condition(function vl))call TriggerAddAction(Oa,function el)set Ra=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ra,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddAction(Ra,function ol)set Ia=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ia,EVENT_PLAYER_HERO_LEVEL)call TriggerAddAction(Ia,function il)set Aa=CreateTrigger()call TriggerRegisterPlayerChatEvent(Aa,Player(0),"-",false)call TriggerRegisterPlayerChatEvent(Aa,Player(1),"-",false)call TriggerRegisterPlayerChatEvent(Aa,Player(2),"-",false)call TriggerRegisterPlayerChatEvent(Aa,Player(3),"-",false)call TriggerRegisterPlayerChatEvent(Aa,Player(4),"-",false)call TriggerRegisterPlayerChatEvent(Aa,Player(5),"-",false)call TriggerRegisterPlayerChatEvent(Aa,Player(6),"-",false)call TriggerRegisterPlayerChatEvent(Aa,Player(7),"-",false)call TriggerRegisterPlayerChatEvent(Aa,Player(8),"-",false)call TriggerRegisterPlayerChatEvent(Aa,Player(9),"-",false)call TriggerRegisterPlayerChatEvent(Aa,Player(10),"-",false)call TriggerAddAction(Aa,function Jl)set Na=CreateTrigger()call TriggerAddAction(Na,function Ll)set ba=CreateTrigger()call TriggerAddAction(ba,function pl)set Ba=CreateTrigger()call TriggerAddAction(Ba,function sl)set ca=CreateTrigger()call TriggerAddAction(ca,function tl)set Ca=CreateTrigger()call TriggerAddAction(Ca,function Ul)set da=CreateTrigger()call TriggerAddAction(da,function Wl)set Da=CreateTrigger()call TriggerAddAction(Da,function Yl)set fa=CreateTrigger()call TriggerAddAction(fa,function Zl)set Fa=CreateTrigger()call TriggerAddAction(Fa,function eL)set ga=CreateTrigger()call TriggerAddAction(ga,function oL)set rI[1]="MT"set rI[2]="治疗"set rI[3]="DPS"set rI[4]="辅助"set rI[5]="DPS"set rI[6]="DPS"set rI[7]="DPS"set rI[8]="辅助"set rI[9]="DPS"set rI[10]="治疗"set rI[11]="辅助"set Ga=CreateTrigger()call TriggerAddAction(Ga,function iL)set ha=CreateTrigger()call TriggerAddAction(ha,function nL)set Ha=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ha,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Ha,Condition(function EL))call TriggerAddAction(Ha,function XL)set ja=CreateTrigger()call TriggerAddCondition(ja,Condition(function RL))call TriggerAddAction(ja,function IL)set Ja=CreateTrigger()call TriggerAddCondition(Ja,Condition(function bL))call TriggerAddAction(Ja,function BL)set ka=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ka,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(ka,Condition(function dL))call TriggerAddAction(ka,function DL)set Ka=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ka,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Ka,Condition(function hL))call TriggerAddAction(Ka,function JL)set La=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(La,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(La,Condition(function KL))call TriggerAddAction(La,function lL)set ma=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ma,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(ma,Condition(function mL))call TriggerAddAction(ma,function ML)set Ma=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ma,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Ma,Condition(function PL))call TriggerAddAction(Ma,function qL)set pa=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(pa,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(pa,Condition(function SL))call TriggerAddAction(pa,function uL)set Pa=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Pa,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Pa,Condition(function wL))call TriggerAddAction(Pa,function WL)set qa=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(qa,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(qa,Condition(function YL))call TriggerAddAction(qa,function zL)set Qa=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Qa,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Qa,Condition(function vm))call TriggerAddAction(Qa,function em)set sa=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(sa,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(sa,Condition(function rm))call TriggerAddAction(sa,function im)set Sa=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Sa,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Sa,Condition(function nm))call TriggerAddAction(Sa,function Vm)set ta=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ta,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(ta,Condition(function Om))call TriggerAddAction(ta,function Rm)set Ta=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ta,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Ta,Condition(function Am))call TriggerAddAction(Ta,function Bm)set Ua=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ua,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Ua,Condition(function dm))call TriggerAddAction(Ua,function Dm)set wa=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(wa,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(wa,Condition(function Fm))call TriggerAddAction(wa,function gm)set Wa=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Wa,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Wa,Condition(function hm))call TriggerAddAction(Wa,function Hm)set ya=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ya,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(ya,Condition(function Km))call TriggerAddAction(ya,function lm)set Ya=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ya,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Ya,Condition(function mm))call TriggerAddAction(Ya,function Mm)set za=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(za,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(za,Condition(function Pm))call TriggerAddAction(za,function Qm)set Za=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Za,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Za,Condition(function Sm))call TriggerAddAction(Za,function Tm)set vn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(vn,EVENT_PLAYER_UNIT_SPELL_CHANNEL)call TriggerRegisterAnyUnitEventBJ(vn,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(vn,Condition(function Um))call TriggerAddAction(vn,function wm)set en=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(en,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(en,Condition(function ym))call TriggerAddAction(en,function zm)set xn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(xn,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(xn,Condition(function eM))call TriggerAddAction(xn,function xM)set on=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(on,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddAction(on,function rM)set rn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(rn,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(rn,Condition(function aM))call TriggerAddAction(rn,function nM)set in=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(in,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(in,Condition(function EM))call TriggerAddAction(in,function XM)set an=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(an,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(an,Condition(function RM))call TriggerAddAction(an,function IM)set nn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(nn,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(nn,Condition(function NM))call TriggerAddAction(nn,function bM)set Vn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Vn,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Vn,Condition(function cM))call TriggerAddAction(Vn,function CM)set En=CreateTrigger()call TriggerAddAction(En,function DM)set Xn=CreateTrigger()call TriggerAddCondition(Xn,Condition(function FM))call TriggerAddAction(Xn,function gM)set On=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(On,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(On,Condition(function hM))call TriggerAddAction(On,function HM)set Rn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Rn,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Rn,Condition(function JM))call TriggerAddAction(Rn,function kM)set In=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(In,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(In,Condition(function lM))call TriggerAddAction(In,function LM)set An=CreateTrigger()call TriggerAddCondition(An,Condition(function MM))call TriggerAddAction(An,function pM)set Nn=CreateTrigger()call TriggerAddCondition(Nn,Condition(function qM))call TriggerAddAction(Nn,function QM)set bn=CreateTrigger()call TriggerAddCondition(bn,Condition(function SM))call TriggerAddAction(bn,function tM)set Bn=CreateTrigger()call TriggerAddCondition(Bn,Condition(function uM))call TriggerAddAction(Bn,function UM)set cn=CreateTrigger()call TriggerAddCondition(cn,Condition(function WM))call TriggerAddAction(cn,function yM)set Cn=CreateTrigger()call TriggerAddCondition(Cn,Condition(function zM))call TriggerAddAction(Cn,function ZM)set dn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dn,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(dn,Condition(function ep))call TriggerAddAction(dn,function xp)set Dn=CreateTrigger()call TriggerAddCondition(Dn,Condition(function rp))call TriggerAddAction(Dn,function ip)set fn=CreateTrigger()call TriggerAddCondition(fn,Condition(function np))call TriggerAddAction(fn,function Vp)set Fn=CreateTrigger()call TriggerAddCondition(Fn,Condition(function Xp))call TriggerAddAction(Fn,function Op)set gn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(gn,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(gn,Condition(function Ap))call TriggerAddAction(gn,function Np)set Gn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Gn,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Gn,Condition(function Bp))call TriggerAddAction(Gn,function cp)set hn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(hn,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(hn,Condition(function dp))call TriggerAddAction(hn,function Dp)set Hn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Hn,EVENT_PLAYER_UNIT_SPELL_CHANNEL)call TriggerRegisterAnyUnitEventBJ(Hn,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Hn,Condition(function gp))call TriggerAddAction(Hn,function Hp)set jn=CreateTrigger()call TriggerAddCondition(jn,Condition(function Jp))call TriggerAddAction(jn,function kp)set Jn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Jn,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Jn,Condition(function lp))call TriggerAddAction(Jn,function Lp)set kn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(kn,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(kn,Condition(function pp))call TriggerAddAction(kn,function Pp)set Kn=CreateTrigger()call TriggerAddCondition(Kn,Condition(function Qp))call TriggerAddAction(Kn,function Sp)set ln=CreateTrigger()call TriggerAddCondition(ln,Condition(function up))call TriggerAddAction(ln,function Up)set Ln=CreateTrigger()call TriggerAddCondition(Ln,Condition(function Wp))call TriggerAddAction(Ln,function yp)set mn=CreateTrigger()call TriggerAddCondition(mn,Condition(function zp))call TriggerAddAction(mn,function Zp)set Mn=CreateTrigger()call TriggerAddCondition(Mn,Condition(function eP))call TriggerAddAction(Mn,function xP)set pn=CreateTrigger()call TriggerAddCondition(pn,Condition(function rP))call TriggerAddAction(pn,function iP)set Pn=CreateTrigger()call TriggerAddCondition(Pn,Condition(function nP))call TriggerAddAction(Pn,function VP)set qn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(qn,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(qn,Condition(function XP))call TriggerAddAction(qn,function OP)set Qn=CreateTrigger()call TriggerAddCondition(Qn,Condition(function IP))call TriggerAddAction(Qn,function AP)set sn=CreateTrigger()call TriggerAddCondition(sn,Condition(function bP))call TriggerAddAction(sn,function CP)set Sn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Sn,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Sn,Condition(function DP))call TriggerAddAction(Sn,function FP)set tn=CreateTrigger()call TriggerAddCondition(tn,Condition(function GP))call TriggerAddAction(tn,function HP)set Tn=CreateTrigger()call TriggerAddCondition(Tn,Condition(function JP))call TriggerAddAction(Tn,function kP)set un=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(un,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(un,Condition(function lP))call TriggerAddAction(un,function LP)set Un=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Un,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Un,Condition(function MP))call TriggerAddAction(Un,function pP)set wn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(wn,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(wn,Condition(function qP))call TriggerAddAction(wn,function QP)set Wn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Wn,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Wn,Condition(function SP))call TriggerAddAction(Wn,function tP)set yn=CreateTrigger()call TriggerAddCondition(yn,Condition(function uP))call TriggerAddAction(yn,function wP)set Yn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Yn,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Yn,Condition(function yP))call TriggerAddAction(Yn,function YP)set zn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(zn,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(zn,Condition(function ZP))call TriggerAddAction(zn,function vq)set Zn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Zn,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Zn,Condition(function xq))call TriggerAddAction(Zn,function oq)set vV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(vV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(vV,Condition(function iq))call TriggerAddAction(vV,function Vq)set eV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(eV,EVENT_PLAYER_UNIT_SPELL_CHANNEL)call TriggerRegisterAnyUnitEventBJ(eV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(eV,Condition(function Xq))call TriggerAddAction(eV,function Oq)set xV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(xV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(xV,Condition(function Aq))call TriggerAddAction(xV,function Nq)set oV=CreateTrigger()call TriggerAddCondition(oV,Condition(function Bq))call TriggerAddAction(oV,function cq)set rV=CreateTrigger()call TriggerAddCondition(rV,Condition(function dq))call TriggerAddAction(rV,function Dq)set iV=CreateTrigger()call TriggerAddCondition(iV,Condition(function Fq))call TriggerAddAction(iV,function gq)set aV=CreateTrigger()call TriggerAddCondition(aV,Condition(function hq))call TriggerAddAction(aV,function Hq)set nV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(nV,EVENT_PLAYER_UNIT_ISSUED_ORDER)call TriggerAddCondition(nV,Condition(function Jq))call TriggerAddAction(nV,function kq)set VV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(VV,EVENT_PLAYER_UNIT_ISSUED_ORDER)call TriggerAddCondition(VV,Condition(function lq))call TriggerAddAction(VV,function Lq)set EV=CreateTrigger()call TriggerAddCondition(EV,Condition(function Mq))call TriggerAddAction(EV,function pq)set XV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(XV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(XV,Condition(function qq))call TriggerAddAction(XV,function sq)set OV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(OV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(OV,Condition(function tq))call TriggerAddAction(OV,function Tq)set RV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(RV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(RV,Condition(function Uq))call TriggerAddAction(RV,function wq)set IV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(IV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(IV,Condition(function yq))call TriggerAddAction(IV,function Yq)set AV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(AV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(AV,Condition(function Zq))call TriggerAddAction(AV,function vQ)set NV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(NV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(NV,Condition(function xQ))call TriggerAddAction(NV,function oQ)set bV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(bV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(bV,Condition(function iQ))call TriggerAddAction(bV,function aQ)set BV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(BV,EVENT_PLAYER_UNIT_SPELL_CHANNEL)call TriggerRegisterAnyUnitEventBJ(BV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(BV,Condition(function VQ))call TriggerAddAction(BV,function EQ)set cV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(cV,EVENT_PLAYER_UNIT_SPELL_CHANNEL)call TriggerRegisterAnyUnitEventBJ(cV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(cV,Condition(function OQ))call TriggerAddAction(cV,function RQ)set CV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(CV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(CV,Condition(function AQ))call TriggerAddAction(CV,function NQ)set dV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(dV,Condition(function BQ))call TriggerAddAction(dV,function cQ)set DV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(DV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(DV,Condition(function dQ))call TriggerAddAction(DV,function DQ)set fV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(fV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(fV,Condition(function FQ))call TriggerAddAction(fV,function gQ)set FV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(FV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerRegisterAnyUnitEventBJ(FV,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(FV,Condition(function HQ))call TriggerAddAction(FV,function jQ)set gV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(gV,EVENT_PLAYER_UNIT_SPELL_CHANNEL)call TriggerRegisterAnyUnitEventBJ(gV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(gV,Condition(function kQ))call TriggerAddAction(gV,function KQ)set GV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(GV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(GV,Condition(function LQ))call TriggerAddAction(GV,function mQ)set hV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(hV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(hV,Condition(function pQ))call TriggerAddAction(hV,function PQ)set HV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(HV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(HV,Condition(function QQ))call TriggerAddAction(HV,function sQ)set jV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(jV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(jV,Condition(function tQ))call TriggerAddAction(jV,function TQ)set JV=CreateTrigger()call TriggerAddCondition(JV,Condition(function wQ))call TriggerAddAction(JV,function WQ)set kV=CreateTrigger()call TriggerAddCondition(kV,Condition(function YQ))call TriggerAddAction(kV,function zQ)set KV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(KV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(KV,Condition(function vs))call TriggerAddAction(KV,function es)set lV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(lV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(lV,Condition(function is))call TriggerAddAction(lV,function as)set LV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(LV,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(LV,Condition(function Vs))call TriggerAddAction(LV,function Es)set mV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(mV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(mV,Condition(function Os))call TriggerAddAction(mV,function Rs)set MV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(MV,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddAction(MV,function As)set pV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(pV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(pV,Condition(function Bs))call TriggerAddAction(pV,function cs)set qV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(qV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(qV,Condition(function Fs))call TriggerAddAction(qV,function gs)set QV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(QV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(QV,Condition(function Hs))call TriggerAddAction(QV,function Js)set sV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(sV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(sV,Condition(function Ks))call TriggerAddAction(sV,function ls)set SV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(SV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(SV,Condition(function Ms))call TriggerAddAction(SV,function Ps)set tV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(tV,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(tV,Condition(function Qs))call TriggerAddAction(tV,function ss)set TV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(TV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(TV,Condition(function Ts))call TriggerAddAction(TV,function us)set uV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(uV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(uV,Condition(function Ws))call TriggerAddAction(uV,function ys)set UV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(UV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(UV,Condition(function Zs))call TriggerAddAction(UV,function vS)set wV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(wV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(wV,Condition(function xS))call TriggerAddAction(wV,function rS)set WV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(WV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(WV,Condition(function aS))call TriggerAddAction(WV,function nS)set yV=CreateTrigger()call TriggerAddCondition(yV,Condition(function ES))call TriggerAddAction(yV,function OS)set YV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(YV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(YV,Condition(function IS))call TriggerAddAction(YV,function AS)set zV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(zV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(zV,Condition(function bS))call TriggerAddAction(zV,function cS)set ZV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ZV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(ZV,Condition(function fS))call TriggerAddAction(ZV,function FS)set vE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(vE,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(vE,Condition(function GS))call TriggerAddAction(vE,function hS)set eE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(eE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(eE,Condition(function jS))call TriggerAddAction(eE,function kS)set xE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(xE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(xE,Condition(function lS))call TriggerAddAction(xE,function LS)set oE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(oE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerRegisterAnyUnitEventBJ(oE,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(oE,Condition(function MS))call TriggerAddAction(oE,function qS)set rE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(rE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(rE,Condition(function sS))call TriggerAddAction(rE,function SS)set iE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(iE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(iE,Condition(function TS))call TriggerAddAction(iE,function uS)set aE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(aE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(aE,Condition(function wS))call TriggerAddAction(aE,function WS)set nE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(nE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(nE,Condition(function YS))call TriggerAddAction(nE,function zS)set VE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(VE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(VE,Condition(function xt))call TriggerAddAction(VE,function at)set EE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(EE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(EE,Condition(function Et))call TriggerAddAction(EE,function Xt)set XE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(XE,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(XE,Condition(function Rt))call TriggerAddAction(XE,function At)set OE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(OE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(OE,Condition(function bt))call TriggerAddAction(OE,function Bt)set RE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(RE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(RE,Condition(function Dt))call TriggerAddAction(RE,function Ft)set IE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(IE,EVENT_PLAYER_UNIT_SPELL_CHANNEL)call TriggerRegisterAnyUnitEventBJ(IE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(IE,Condition(function Gt))call TriggerAddAction(IE,function jt)set AE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(AE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(AE,Condition(function kt))call TriggerAddAction(AE,function Kt)set NE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(NE,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(NE,Condition(function Lt))call TriggerAddAction(NE,function Mt)set bE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(bE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(bE,Condition(function Pt))call TriggerAddAction(bE,function qt)set BE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(BE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(BE,Condition(function St))call TriggerAddAction(BE,function Ut)set cE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(cE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(cE,Condition(function Wt))call TriggerAddAction(cE,function Yt)set CE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(CE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(CE,Condition(function Zt))call TriggerAddAction(CE,function vT)set dE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(dE,Condition(function xT))call TriggerAddAction(dE,function oT)set DE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(DE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerRegisterAnyUnitEventBJ(DE,EVENT_PLAYER_UNIT_SPELL_CHANNEL)call TriggerAddCondition(DE,Condition(function iT))call TriggerAddAction(DE,function nT)set fE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(fE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(fE,Condition(function ET))call TriggerAddAction(fE,function XT)set FE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(FE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(FE,Condition(function RT))call TriggerAddAction(FE,function AT)set gE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(gE,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(gE,Condition(function bT))call TriggerAddAction(gE,function BT)set GE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(GE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(GE,Condition(function CT))call TriggerAddAction(GE,function dT)set hE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(hE,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(hE,Condition(function fT))call TriggerAddAction(hE,function gT)set HE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(HE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(HE,Condition(function hT))call TriggerAddAction(HE,function jT)set jE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(jE,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(jE,Condition(function kT))call TriggerAddAction(jE,function KT)set JE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(JE,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(JE,Condition(function LT))call TriggerAddAction(JE,function mT)set kE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(kE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(kE,Condition(function pT))call TriggerAddAction(kE,function qT)set i=1loopexitwhen i>20set Me[i]=CreateTrigger()set i=i+1endloopcall TriggerAddAction(Me[1],function Af)call TriggerAddAction(Me[2],function Nf)call TriggerAddAction(Me[3],function bf)call TriggerAddAction(Me[4],function Bf)call TriggerAddAction(Me[5],function Cf)call TriggerAddAction(Me[6],function df)call TriggerAddAction(Me[7],function Df)call TriggerAddAction(Me[8],function Ff)call TriggerAddAction(Me[9],function gf)call TriggerAddAction(Me[10],function Gf)call TriggerAddAction(Me[11],function hf)set lE=CreateTrigger()call TriggerAddAction(lE,function ST)set LE=CreateTrigger()call TriggerRegisterPlayerUnitEventSimple(LE,Player(12),EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(LE,Condition(function TT))call TriggerAddAction(LE,function wT)set mE=CreateTrigger()call TriggerAddAction(mE,function yT)set ME=CreateTrigger()call TriggerRegisterUnitInRangeSimple(ME,128.,IR)call TriggerAddCondition(ME,Condition(function zT))call TriggerAddAction(ME,function xu)set pE=CreateTrigger()call TriggerAddCondition(pE,Condition(function Vu))call TriggerAddAction(pE,function Nu)set PE=CreateTrigger()call TriggerAddAction(PE,function Cu)set qE=CreateTrigger()call TriggerAddAction(qE,function gu)set QE=CreateTrigger()call TriggerAddAction(QE,function Ju)set sE=CreateTrigger()call TriggerAddAction(sE,function Qu)set SE=CreateTrigger()call TriggerAddAction(SE,function Uu)set tE=CreateTrigger()call TriggerAddAction(tE,function Wu)set TE=CreateTrigger()call TriggerAddAction(TE,function zu)set uE=CreateTrigger()call TriggerAddAction(uE,function vU)set UE=CreateTrigger()call TriggerAddCondition(UE,Condition(function oU))set wE=CreateTrigger()call TriggerAddCondition(wE,Condition(function iU))call TriggerAddAction(wE,function aU)set WE=CreateTrigger()call TriggerAddCondition(WE,Condition(function VU))call TriggerAddAction(WE,function EU)set yE=CreateTrigger()call TriggerAddCondition(yE,Condition(function OU))call TriggerAddAction(yE,function RU)set YE=CreateTrigger()call TriggerAddCondition(YE,Condition(function AU))call TriggerAddAction(YE,function NU)set zE=CreateTrigger()call TriggerAddCondition(zE,Condition(function BU))call TriggerAddAction(zE,function cU)set ZE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ZE,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(ZE,Condition(function dU))call TriggerAddAction(ZE,function gU)set vX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(vX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(vX,Condition(function hU))call TriggerAddAction(vX,function kU)set eX=CreateTrigger()call TriggerAddCondition(eX,Condition(function lU))call TriggerAddAction(eX,function LU)set xX=CreateTrigger()call TriggerAddCondition(xX,Condition(function MU))call TriggerAddAction(xX,function pU)set oX=CreateTrigger()call TriggerAddCondition(oX,Condition(function qU))call TriggerAddAction(oX,function QU)set rX=CreateTrigger()call TriggerAddCondition(rX,Condition(function SU))call TriggerAddAction(rX,function tU)set iX=CreateTrigger()call TriggerAddCondition(iX,Condition(function uU))call TriggerAddAction(iX,function UU)set aX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(aX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(aX,Condition(function WU))call TriggerAddAction(aX,function yU)set nX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(nX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(nX,Condition(function zU))call TriggerAddAction(nX,function ZU)set VX=CreateTrigger()call TriggerAddCondition(VX,Condition(function ew))call TriggerAddAction(VX,function xw)set EX=CreateTrigger()call TriggerAddCondition(EX,Condition(function rw))call TriggerAddAction(EX,function iw)set XX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(XX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(XX,Condition(function nw))call TriggerAddAction(XX,function Ew)set OX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(OX,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(OX,Condition(function Ow))call TriggerAddAction(OX,function Rw)set RX=CreateTrigger()call TriggerAddAction(RX,function Aw)set IX=CreateTrigger()call TriggerAddCondition(IX,Condition(function bw))call TriggerAddAction(IX,function Bw)set AX=CreateTrigger()call TriggerAddAction(AX,function Cw)set NX=CreateTrigger()call TriggerAddCondition(NX,Condition(function Dw))call TriggerAddAction(NX,function Fw)set bX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(bX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(bX,Condition(function hw))call TriggerAddAction(bX,function Jw)set BX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(BX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(BX,Condition(function Kw))call TriggerAddAction(BX,function Lw)set cX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(cX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(cX,Condition(function Mw))call TriggerAddAction(cX,function pw)set CX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(CX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(CX,Condition(function qw))call TriggerAddAction(CX,function Qw)set dX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(dX,Condition(function Sw))call TriggerAddAction(dX,function tw)set DX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(DX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(DX,Condition(function uw))call TriggerAddAction(DX,function Uw)set fX=CreateTrigger()call TriggerAddCondition(fX,Condition(function Ww))call TriggerAddAction(fX,function yw)set FX=CreateTrigger()call TriggerAddCondition(FX,Condition(function zw))call TriggerAddAction(FX,function Zw)set gX=CreateTrigger()call TriggerAddCondition(gX,Condition(function eW))call TriggerAddAction(gX,function xW)set GX=CreateTrigger()call TriggerAddCondition(GX,Condition(function rW))call TriggerAddAction(GX,function aW)set hX=CreateTrigger()call TriggerAddCondition(hX,Condition(function VW))call TriggerAddAction(hX,function EW)set HX=CreateTrigger()call TriggerAddCondition(HX,Condition(function OW))call TriggerAddAction(HX,function RW)set jX=CreateTrigger()call TriggerAddCondition(jX,Condition(function AW))call TriggerAddAction(jX,function NW)set JX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(JX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(JX,Condition(function BW))call TriggerAddAction(JX,function cW)set kX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(kX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(kX,Condition(function dW))call TriggerAddAction(kX,function DW)set KX=CreateTrigger()call TriggerAddAction(KX,function FW)set lX=CreateTrigger()call TriggerAddAction(lX,function GW)set LX=CreateTrigger()call TriggerRegisterPlayerUnitEvent(LX,Player(12),EVENT_PLAYER_UNIT_SUMMON,null)call TriggerAddAction(LX,function HW)set mX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(mX,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(mX,Condition(function JW))call TriggerAddAction(mX,function kW)set MX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(MX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(MX,Condition(function lW))call TriggerAddAction(MX,function LW)set pX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(pX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(pX,Condition(function MW))call TriggerAddAction(pX,function pW)set PX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(PX,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(PX,Condition(function qW))call TriggerAddAction(PX,function QW)set qX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(qX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(qX,Condition(function SW))call TriggerAddAction(qX,function tW)set QX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(QX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(QX,Condition(function uW))call TriggerAddAction(QX,function wW)set sX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(sX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(sX,Condition(function yW))call TriggerAddAction(sX,function zW)set SX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(SX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(SX,Condition(function vy))call TriggerAddAction(SX,function xy)set tX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(tX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(tX,Condition(function ry))call TriggerAddAction(tX,function ay)set TX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(TX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(TX,Condition(function Ey))call TriggerAddAction(TX,function Ry)set uX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(uX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(uX,Condition(function Ay))call TriggerAddAction(uX,function By)set UX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(UX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(UX,Condition(function Cy))call TriggerAddAction(UX,function fy)set wX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(wX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(wX,Condition(function gy))call TriggerAddAction(wX,function hy)set WX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(WX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(WX,Condition(function jy))call TriggerAddAction(WX,function ky)set yX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(yX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(yX,Condition(function ly))call TriggerAddAction(yX,function my)set YX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(YX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(YX,Condition(function py))call TriggerAddAction(YX,function qy)set zX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(zX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(zX,Condition(function sy))call TriggerAddAction(zX,function ty)set ZX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ZX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(ZX,Condition(function Uy))call TriggerAddAction(ZX,function wy)set vO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(vO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(vO,Condition(function yy))call TriggerAddAction(vO,function Yy)set eO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(eO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(eO,Condition(function vY))call TriggerAddAction(eO,function xY)set xO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(xO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(xO,Condition(function rY))call TriggerAddAction(xO,function aY)set oO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(oO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(oO,Condition(function VY))call TriggerAddAction(oO,function XY)set rO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(rO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(rO,Condition(function RY))call TriggerAddAction(rO,function AY)set iO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(iO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(iO,Condition(function bY))call TriggerAddAction(iO,function cY)set aO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(aO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(aO,Condition(function dY))call TriggerAddAction(aO,function DY)set nO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(nO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(nO,Condition(function FY))call TriggerAddAction(nO,function GY)set VO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(VO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(VO,Condition(function HY))call TriggerAddAction(VO,function jY)set EO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(EO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(EO,Condition(function kY))call TriggerAddAction(EO,function mY)set XO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(XO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(XO,Condition(function pY))call TriggerAddAction(XO,function sY)set OO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(OO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(OO,Condition(function tY))call TriggerAddAction(OO,function TY)set RO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(RO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(RO,Condition(function UY))call TriggerAddAction(RO,function wY)set IO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(IO,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(IO,Condition(function yY))call TriggerAddAction(IO,function YY)set AO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(AO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(AO,Condition(function ZY))call TriggerAddAction(AO,function vz)set NO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(NO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(NO,Condition(function xz))call TriggerAddAction(NO,function oz)set bO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(bO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(bO,Condition(function iz))call TriggerAddAction(bO,function az)set BO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(BO,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(BO,Condition(function Vz))call TriggerAddAction(BO,function Xz)set cO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(cO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(cO,Condition(function Rz))call TriggerAddAction(cO,function Az)set CO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(CO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(CO,Condition(function bz))call TriggerAddAction(CO,function Cz)set dO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(dO,Condition(function Dz))call TriggerAddAction(dO,function fz)set DO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(DO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(DO,Condition(function gz))call TriggerAddAction(DO,function Gz)set fO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(fO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(fO,Condition(function Hz))call TriggerAddAction(fO,function kz)set FO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(FO,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(FO,Condition(function lz))call TriggerAddAction(FO,function Lz)set gO=CreateTrigger()call TriggerAddAction(gO,function Mz)set GO=CreateTrigger()call TriggerRegisterEnterRectSimple(GO,bj_mapInitialPlayableArea)call TriggerAddCondition(GO,Condition(function Pz))call TriggerAddAction(GO,function qz)set hO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(hO,EVENT_PLAYER_UNIT_DEATH)call TriggerAddAction(hO,function sz)set HO=CreateTrigger()call TriggerRegisterPlayerChatEvent(HO,Player(0),GetObjectName(1752461175),true)call TriggerRegisterPlayerChatEvent(HO,Player(1),GetObjectName(1752461175),true)call TriggerRegisterPlayerChatEvent(HO,Player(2),GetObjectName(1752461175),true)call TriggerRegisterPlayerChatEvent(HO,Player(3),GetObjectName(1752461175),true)call TriggerRegisterPlayerChatEvent(HO,Player(4),GetObjectName(1752461175),true)call TriggerRegisterPlayerChatEvent(HO,Player(5),GetObjectName(1752461175),true)call TriggerRegisterPlayerChatEvent(HO,Player(6),GetObjectName(1752461175),true)call TriggerRegisterPlayerChatEvent(HO,Player(7),GetObjectName(1752461175),true)call TriggerRegisterPlayerChatEvent(HO,Player(8),GetObjectName(1752461175),true)call TriggerRegisterPlayerChatEvent(HO,Player(9),GetObjectName(1752461175),true)call TriggerAddAction(HO,function tz)set JO=CreateTrigger()call TriggerAddAction(JO,function Uz)set kO=CreateTrigger()call TriggerAddAction(kO,function yz)set KO=CreateTrigger()call TriggerRegisterTimerEventPeriodic(KO,5)call TriggerAddAction(KO,function zz)set lO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(lO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(lO,Condition(function vZ))call TriggerAddAction(lO,function eZ)set LO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(LO,EVENT_PLAYER_UNIT_SELL_ITEM)call TriggerAddAction(LO,function oZ)set mO=CreateTrigger()call TriggerRegisterPlayerStateEvent(mO,Player(0),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,.0)call TriggerRegisterPlayerStateEvent(mO,Player(1),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,.0)call TriggerRegisterPlayerStateEvent(mO,Player(2),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,.0)call TriggerRegisterPlayerStateEvent(mO,Player(3),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,.0)call TriggerRegisterPlayerStateEvent(mO,Player(4),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,.0)call TriggerRegisterPlayerStateEvent(mO,Player(5),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,.0)call TriggerRegisterPlayerStateEvent(mO,Player(6),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,.0)call TriggerRegisterPlayerStateEvent(mO,Player(7),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,.0)call TriggerAddAction(mO,function nZ)set MO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(MO,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(MO,Condition(function EZ))call TriggerAddAction(MO,function XZ)set pO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(pO,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddAction(pO,function RZ)set PO=CreateTrigger()call TriggerRegisterPlayerUnitEvent(PO,Player(0),EVENT_PLAYER_UNIT_DEATH,null)call TriggerRegisterPlayerUnitEvent(PO,Player(1),EVENT_PLAYER_UNIT_DEATH,null)call TriggerRegisterPlayerUnitEvent(PO,Player(2),EVENT_PLAYER_UNIT_DEATH,null)call TriggerRegisterPlayerUnitEvent(PO,Player(3),EVENT_PLAYER_UNIT_DEATH,null)call TriggerRegisterPlayerUnitEvent(PO,Player(4),EVENT_PLAYER_UNIT_DEATH,null)call TriggerRegisterPlayerUnitEvent(PO,Player(5),EVENT_PLAYER_UNIT_DEATH,null)call TriggerRegisterPlayerUnitEvent(PO,Player(6),EVENT_PLAYER_UNIT_DEATH,null)call TriggerRegisterPlayerUnitEvent(PO,Player(7),EVENT_PLAYER_UNIT_DEATH,null)call TriggerRegisterPlayerUnitEvent(PO,Player(8),EVENT_PLAYER_UNIT_DEATH,null)call TriggerRegisterPlayerUnitEvent(PO,Player(9),EVENT_PLAYER_UNIT_DEATH,null)call TriggerRegisterPlayerUnitEvent(PO,Player(10),EVENT_PLAYER_UNIT_DEATH,null)call TriggerRegisterPlayerUnitEvent(PO,Player(11),EVENT_PLAYER_UNIT_DEATH,null)call TriggerAddAction(PO,function NZ)set qO=CreateTrigger()call TriggerRegisterPlayerSelectionEventBJ(qO,Player(0),true)call TriggerRegisterPlayerSelectionEventBJ(qO,Player(1),true)call TriggerRegisterPlayerSelectionEventBJ(qO,Player(2),true)call TriggerRegisterPlayerSelectionEventBJ(qO,Player(3),true)call TriggerRegisterPlayerSelectionEventBJ(qO,Player(4),true)call TriggerRegisterPlayerSelectionEventBJ(qO,Player(5),true)call TriggerRegisterPlayerSelectionEventBJ(qO,Player(6),true)call TriggerRegisterPlayerSelectionEventBJ(qO,Player(7),true)call TriggerRegisterPlayerSelectionEventBJ(qO,Player(8),true)call TriggerRegisterPlayerSelectionEventBJ(qO,Player(9),true)call TriggerRegisterPlayerSelectionEventBJ(qO,Player(10),true)call TriggerRegisterPlayerSelectionEventBJ(qO,Player(11),true)call TriggerRegisterPlayerSelectionEventBJ(qO,Player(12),true)call TriggerRegisterPlayerSelectionEventBJ(qO,Player(13),true)call TriggerRegisterPlayerSelectionEventBJ(qO,Player(14),true)call TriggerRegisterPlayerSelectionEventBJ(qO,Player(15),true)call TriggerAddCondition(qO,Condition(function BZ))call TriggerAddAction(qO,function cZ)set QO=CreateTrigger()call TriggerRegisterTimerEventPeriodic(QO,5.)call TriggerAddAction(QO,function dZ)set sO=CreateTrigger()call TriggerRegisterPlayerEventLeave(sO,Player(0))call TriggerRegisterPlayerEventLeave(sO,Player(1))call TriggerRegisterPlayerEventLeave(sO,Player(2))call TriggerRegisterPlayerEventLeave(sO,Player(3))call TriggerRegisterPlayerEventLeave(sO,Player(4))call TriggerRegisterPlayerEventLeave(sO,Player(5))call TriggerRegisterPlayerEventLeave(sO,Player(6))call TriggerRegisterPlayerEventLeave(sO,Player(7))call TriggerRegisterPlayerEventLeave(sO,Player(8))call TriggerRegisterPlayerEventLeave(sO,Player(9))call TriggerRegisterPlayerEventLeave(sO,Player(10))call TriggerAddAction(sO,function FZ)set SO=CreateTrigger()call TriggerRegisterPlayerUnitEvent(SO,Player(12),EVENT_PLAYER_UNIT_DEATH,null)call TriggerAddAction(SO,function GZ)set tO=CreateTrigger()call TriggerRegisterPlayerUnitEvent(tO,Player(12),EVENT_PLAYER_UNIT_DEATH,null)call TriggerAddAction(tO,function HZ)set TO=CreateTrigger()call TriggerRegisterPlayerUnitEvent(TO,Player(12),EVENT_PLAYER_UNIT_DEATH,null)call TriggerAddAction(TO,function JZ)set uO=CreateTrigger()call TriggerRegisterPlayerUnitEvent(uO,Player(12),EVENT_PLAYER_UNIT_DEATH,null)call TriggerAddAction(uO,function lZ)set UO=CreateTrigger()call TriggerRegisterPlayerUnitEvent(UO,Player(12),EVENT_PLAYER_UNIT_DEATH,null)call TriggerAddAction(UO,function mZ)set wO=CreateTrigger()call TriggerRegisterPlayerUnitEvent(wO,Player(12),EVENT_PLAYER_UNIT_DEATH,null)call TriggerAddAction(wO,function pZ)set WO=CreateTrigger()call TriggerRegisterPlayerUnitEvent(WO,Player(12),EVENT_PLAYER_UNIT_DEATH,null)call TriggerAddAction(WO,function qZ)set yO=CreateTrigger()call TriggerRegisterPlayerUnitEvent(yO,Player(12),EVENT_PLAYER_UNIT_DEATH,null)call TriggerAddAction(yO,function sZ)set YO=CreateTrigger()call TriggerAddAction(YO,function tZ)set zO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(zO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(zO,Condition(function UZ))call TriggerAddAction(zO,function wZ)set ZO=CreateTrigger()call TriggerRegisterPlayerUnitEvent(ZO,Player(12),EVENT_PLAYER_UNIT_DEATH,null)call TriggerAddAction(ZO,function YZ)set vR=CreateTrigger()call TriggerAddAction(vR,function ZZ)set eR=CreateTrigger()call TriggerAddAction(eR,function e0)set xR=CreateTrigger()call TriggerRegisterPlayerUnitEvent(xR,Player(12),EVENT_PLAYER_UNIT_DEATH,null)call TriggerAddAction(xR,function o0)set oR=CreateTrigger()call TriggerRegisterPlayerUnitEvent(oR,Player(12),EVENT_PLAYER_UNIT_DEATH,null)call TriggerAddAction(oR,function i0)set rR=CreateTrigger()call TriggerRegisterPlayerUnitEvent(rR,Player(12),EVENT_PLAYER_UNIT_DEATH,null)call TriggerAddCondition(rR,Condition(function n0))call TriggerAddAction(rR,function V0)set iR=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(iR,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(iR,Condition(function X0))call TriggerAddAction(iR,function O0)set aR=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(aR,EVENT_PLAYER_UNIT_DEATH)call TriggerAddAction(aR,function A0)set nR=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(nR,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(nR,Condition(function c0))call TriggerAddAction(nR,function C0)set Oe[7]=GetRandomInt(1,3)set Oe[11]=GetRandomInt(1,3)set Oe[19]=GetRandomInt(2,5)set Oe[21]=3set Oe[24]=GetRandomInt(1,3)set VR=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(VR,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(VR,Condition(function D0))call TriggerAddAction(VR,function f0)set ER=CreateTrigger()call TriggerAddCondition(ER,Condition(function g0))call TriggerAddAction(ER,function h0)set XR=CreateTrigger()call TriggerRegisterTimerEventPeriodic(XR,1.25)call TriggerAddAction(XR,function j0)set OR=CreateTrigger()call TriggerRegisterPlayerChatEvent(OR,Player(0),"ttt",true)call TriggerAddAction(OR,function k0)call ConditionalTriggerExecute(hr)call ConditionalTriggerExecute(Hr)call ConditionalTriggerExecute(kr)call ConditionalTriggerExecute(jO)endfunctionfunction config takes nothing returns nothingcall SetMapName("元素IV:失落遗迹 v1.06f")call SetMapDescription("地图简介：元素的力量是魔法的核心,利用不同的元素力量能够组合出不同的魔法。
在地图中一个有8种元素,分别是[金(Gold),木(Wood),水(Water),火(Fire),土(Earth),光(Light),暗(Dark),精(spirit)]

不同的任意三种元素的组合能够使你获得特定的魔法。
")call SetPlayers(12)call SetTeams(12)call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)call DefineStartLocation(0,-11392.,-14976.)call DefineStartLocation(1,-11392.,-14976.)call DefineStartLocation(2,-11392.,-14976.)call DefineStartLocation(3,-11392.,-14976.)call DefineStartLocation(4,-11392.,-14976.)call DefineStartLocation(5,-11392.,-14976.)call DefineStartLocation(6,-11392.,-14976.)call DefineStartLocation(7,-11392.,-14976.)call DefineStartLocation(8,-11392.,-14848.)call DefineStartLocation(9,-11392.,-14848.)call DefineStartLocation(10,-11392.,-14848.)call DefineStartLocation(11,-11392.,-14976.)call SetPlayerStartLocation(Player(0),0)call ForcePlayerStartLocation(Player(0),0)call SetPlayerColor(Player(0),ConvertPlayerColor(0))call SetPlayerRacePreference(Player(0),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(0),false)call SetPlayerController(Player(0),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(1),1)call ForcePlayerStartLocation(Player(1),1)call SetPlayerColor(Player(1),ConvertPlayerColor(1))call SetPlayerRacePreference(Player(1),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(1),false)call SetPlayerController(Player(1),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(2),2)call ForcePlayerStartLocation(Player(2),2)call SetPlayerColor(Player(2),ConvertPlayerColor(2))call SetPlayerRacePreference(Player(2),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(2),false)call SetPlayerController(Player(2),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(3),3)call ForcePlayerStartLocation(Player(3),3)call SetPlayerColor(Player(3),ConvertPlayerColor(3))call SetPlayerRacePreference(Player(3),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(3),false)call SetPlayerController(Player(3),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(4),4)call ForcePlayerStartLocation(Player(4),4)call SetPlayerColor(Player(4),ConvertPlayerColor(4))call SetPlayerRacePreference(Player(4),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(4),false)call SetPlayerController(Player(4),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(5),5)call ForcePlayerStartLocation(Player(5),5)call SetPlayerColor(Player(5),ConvertPlayerColor(5))call SetPlayerRacePreference(Player(5),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(5),false)call SetPlayerController(Player(5),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(6),6)call ForcePlayerStartLocation(Player(6),6)call SetPlayerColor(Player(6),ConvertPlayerColor(6))call SetPlayerRacePreference(Player(6),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(6),false)call SetPlayerController(Player(6),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(7),7)call ForcePlayerStartLocation(Player(7),7)call SetPlayerColor(Player(7),ConvertPlayerColor(7))call SetPlayerRacePreference(Player(7),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(7),false)call SetPlayerController(Player(7),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(8),8)call ForcePlayerStartLocation(Player(8),8)call SetPlayerColor(Player(8),ConvertPlayerColor(8))call SetPlayerRacePreference(Player(8),RACE_PREF_ORC)call SetPlayerRaceSelectable(Player(8),false)call SetPlayerController(Player(8),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(9),9)call ForcePlayerStartLocation(Player(9),9)call SetPlayerColor(Player(9),ConvertPlayerColor(9))call SetPlayerRacePreference(Player(9),RACE_PREF_ORC)call SetPlayerRaceSelectable(Player(9),false)call SetPlayerController(Player(9),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(10),10)call ForcePlayerStartLocation(Player(10),10)call SetPlayerColor(Player(10),ConvertPlayerColor(10))call SetPlayerRacePreference(Player(10),RACE_PREF_ORC)call SetPlayerRaceSelectable(Player(10),false)call SetPlayerController(Player(10),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(11),11)call ForcePlayerStartLocation(Player(11),11)call SetPlayerColor(Player(11),ConvertPlayerColor(11))call SetPlayerRacePreference(Player(11),RACE_PREF_NIGHTELF)call SetPlayerRaceSelectable(Player(11),false)call SetPlayerController(Player(11),MAP_CONTROL_COMPUTER)call InitCustomTeams()call SetStartLocPrioCount(0,7)call SetStartLocPrio(0,0,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,1,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,2,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,3,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,4,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(1,7)call SetStartLocPrio(1,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,1,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,2,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,3,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,4,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(2,7)call SetStartLocPrio(2,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,2,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,3,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,4,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(3,7)call SetStartLocPrio(3,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,3,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,4,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(4,7)call SetStartLocPrio(4,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,4,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(5,7)call SetStartLocPrio(5,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,4,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(6,7)call SetStartLocPrio(6,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,4,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,5,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(7,7)call SetStartLocPrio(7,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,4,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,5,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,6,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(8,2)call SetStartLocPrio(8,0,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,1,10,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(9,2)call SetStartLocPrio(9,0,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,1,10,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(10,2)call SetStartLocPrio(10,0,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(10,1,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(11,8)call SetStartLocPrio(11,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(11,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(11,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(11,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(11,4,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(11,5,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(11,6,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(11,7,7,MAP_LOC_PRIO_HIGH)call InitTrig_sand()endfunction